(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function F_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ER={exports:{}},wg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dk=Symbol.for("react.transitional.element"),Nk=Symbol.for("react.fragment");function TR(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:Dk,type:t,key:r,ref:e!==void 0?e:null,props:n}}wg.Fragment=Nk;wg.jsx=TR;wg.jsxs=TR;ER.exports=wg;var I=ER.exports,SR={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=Symbol.for("react.transitional.element"),Mk=Symbol.for("react.portal"),Ok=Symbol.for("react.fragment"),xk=Symbol.for("react.strict_mode"),kk=Symbol.for("react.profiler"),Lk=Symbol.for("react.consumer"),Vk=Symbol.for("react.context"),Pk=Symbol.for("react.forward_ref"),Uk=Symbol.for("react.suspense"),Hk=Symbol.for("react.memo"),wR=Symbol.for("react.lazy"),jk=Symbol.for("react.activity"),Rw=Symbol.iterator;function Bk(t){return t===null||typeof t!="object"?null:(t=Rw&&t[Rw]||t["@@iterator"],typeof t=="function"?t:null)}var bR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AR=Object.assign,IR={};function Jl(t,e,n){this.props=t,this.context=e,this.refs=IR,this.updater=n||bR}Jl.prototype.isReactComponent={};Jl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CR(){}CR.prototype=Jl.prototype;function q_(t,e,n){this.props=t,this.context=e,this.refs=IR,this.updater=n||bR}var $_=q_.prototype=new CR;$_.constructor=q_;AR($_,Jl.prototype);$_.isPureReactComponent=!0;var Dw=Array.isArray;function k0(){}var $e={H:null,A:null,T:null,S:null},RR=Object.prototype.hasOwnProperty;function G_(t,e,n){var r=n.ref;return{$$typeof:Y_,type:t,key:e,ref:r!==void 0?r:null,props:n}}function zk(t,e){return G_(t.type,e,t.props)}function K_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Y_}function Fk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nw=/\/+/g;function ly(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Fk(""+t.key):e.toString(36)}function Yk(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(k0,k0):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Yo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Y_:case Mk:a=!0;break;case wR:return a=t._init,Yo(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+ly(t,0):r,Dw(i)?(n="",a!=null&&(n=a.replace(Nw,"$&/")+"/"),Yo(i,e,n,"",function(c){return c})):i!=null&&(K_(i)&&(i=zk(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(Nw,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(Dw(t))for(var l=0;l<t.length;l++)r=t[l],s=o+ly(r,l),a+=Yo(r,e,n,s,i);else if(l=Bk(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,s=o+ly(r,l++),a+=Yo(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Yo(Yk(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Vf(t,e,n){if(t==null)return t;var r=[],i=0;return Yo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function qk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mw=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$k={map:Vf,forEach:function(t,e,n){Vf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vf(t,function(){e++}),e},toArray:function(t){return Vf(t,function(e){return e})||[]},only:function(t){if(!K_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Activity=jk;oe.Children=$k;oe.Component=Jl;oe.Fragment=Ok;oe.Profiler=kk;oe.PureComponent=q_;oe.StrictMode=xk;oe.Suspense=Uk;oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$e;oe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return $e.H.useMemoCache(t)}};oe.cache=function(t){return function(){return t.apply(null,arguments)}};oe.cacheSignal=function(){return null};oe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=AR({},t.props),i=t.key;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)!RR.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return G_(t.type,i,r)};oe.createContext=function(t){return t={$$typeof:Vk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Lk,_context:t},t};oe.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)RR.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return G_(t,s,i)};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:Pk,render:t}};oe.isValidElement=K_;oe.lazy=function(t){return{$$typeof:wR,_payload:{_status:-1,_result:t},_init:qk}};oe.memo=function(t,e){return{$$typeof:Hk,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=$e.T,n={};$e.T=n;try{var r=t(),i=$e.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(k0,Mw)}catch(s){Mw(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),$e.T=e}};oe.unstable_useCacheRefresh=function(){return $e.H.useCacheRefresh()};oe.use=function(t){return $e.H.use(t)};oe.useActionState=function(t,e,n){return $e.H.useActionState(t,e,n)};oe.useCallback=function(t,e){return $e.H.useCallback(t,e)};oe.useContext=function(t){return $e.H.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t,e){return $e.H.useDeferredValue(t,e)};oe.useEffect=function(t,e){return $e.H.useEffect(t,e)};oe.useEffectEvent=function(t){return $e.H.useEffectEvent(t)};oe.useId=function(){return $e.H.useId()};oe.useImperativeHandle=function(t,e,n){return $e.H.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return $e.H.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return $e.H.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return $e.H.useMemo(t,e)};oe.useOptimistic=function(t,e){return $e.H.useOptimistic(t,e)};oe.useReducer=function(t,e,n){return $e.H.useReducer(t,e,n)};oe.useRef=function(t){return $e.H.useRef(t)};oe.useState=function(t){return $e.H.useState(t)};oe.useSyncExternalStore=function(t,e,n){return $e.H.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return $e.H.useTransition()};oe.version="19.2.0";SR.exports=oe;var x=SR.exports;const DR=F_(x);var NR={exports:{}},bg={},MR={exports:{}},OR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,ae){var ne=$.length;$.push(ae);e:for(;0<ne;){var Ae=ne-1>>>1,De=$[Ae];if(0<i(De,ae))$[Ae]=ae,$[ne]=De,ne=Ae;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ae=$[0],ne=$.pop();if(ne!==ae){$[0]=ne;e:for(var Ae=0,De=$.length,$n=De>>>1;Ae<$n;){var ai=2*(Ae+1)-1,rs=$[ai],un=ai+1,Cr=$[un];if(0>i(rs,ne))un<De&&0>i(Cr,rs)?($[Ae]=Cr,$[un]=ne,Ae=un):($[Ae]=rs,$[ai]=ne,Ae=ai);else if(un<De&&0>i(Cr,ne))$[Ae]=Cr,$[un]=ne,Ae=un;else break e}}return ae}function i($,ae){var ne=$.sortIndex-ae.sortIndex;return ne!==0?ne:$.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,d=3,p=!1,y=!1,w=!1,C=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M($){for(var ae=n(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=$)r(c),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=n(c)}}function V($){if(w=!1,M($),!y)if(n(l)!==null)y=!0,k||(k=!0,O());else{var ae=n(c);ae!==null&&Wt(V,ae.startTime-$)}}var k=!1,S=-1,T=5,E=-1;function R(){return C?!0:!(t.unstable_now()-E<T)}function D(){if(C=!1,k){var $=t.unstable_now();E=$;var ae=!0;try{e:{y=!1,w&&(w=!1,_(S),S=-1),p=!0;var ne=d;try{t:{for(M($),f=n(l);f!==null&&!(f.expirationTime>$&&R());){var Ae=f.callback;if(typeof Ae=="function"){f.callback=null,d=f.priorityLevel;var De=Ae(f.expirationTime<=$);if($=t.unstable_now(),typeof De=="function"){f.callback=De,M($),ae=!0;break t}f===n(l)&&r(l),M($)}else r(l);f=n(l)}if(f!==null)ae=!0;else{var $n=n(c);$n!==null&&Wt(V,$n.startTime-$),ae=!1}}break e}finally{f=null,d=ne,p=!1}ae=void 0}}finally{ae?O():k=!1}}}var O;if(typeof A=="function")O=function(){A(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,st=N.port2;N.port1.onmessage=D,O=function(){st.postMessage(null)}}else O=function(){v(D,0)};function Wt($,ae){S=v(function(){$(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var ae=3;break;default:ae=d}var ne=d;d=ae;try{return $()}finally{d=ne}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=d;d=$;try{return ae()}finally{d=ne}},t.unstable_scheduleCallback=function($,ae,ne){var Ae=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ae+ne:Ae):ne=Ae,$){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ne+De,$={id:h++,callback:ae,priorityLevel:$,startTime:ne,expirationTime:De,sortIndex:-1},ne>Ae?($.sortIndex=ne,e(c,$),n(l)===null&&$===n(c)&&(w?(_(S),S=-1):w=!0,Wt(V,ne-Ae))):($.sortIndex=De,e(l,$),y||p||(y=!0,k||(k=!0,O()))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var ae=d;return function(){var ne=d;d=ae;try{return $.apply(this,arguments)}finally{d=ne}}}})(OR);MR.exports=OR;var Gk=MR.exports,xR={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk=x;function kR(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function cs(){}var sn={d:{f:cs,r:function(){throw Error(kR(522))},D:cs,C:cs,L:cs,m:cs,X:cs,S:cs,M:cs},p:0,findDOMNode:null},Zk=Symbol.for("react.portal");function Qk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zk,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Rc=Kk.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ag(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=sn;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(kR(299));return Qk(t,e,null,n)};on.flushSync=function(t){var e=Rc.T,n=sn.p;try{if(Rc.T=null,sn.p=2,t)return t()}finally{Rc.T=e,sn.p=n,sn.d.f()}};on.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,sn.d.C(t,e))};on.prefetchDNS=function(t){typeof t=="string"&&sn.d.D(t)};on.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Ag(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?sn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&sn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};on.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Ag(e.as,e.crossOrigin);sn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&sn.d.M(t)};on.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Ag(n,e.crossOrigin);sn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};on.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Ag(e.as,e.crossOrigin);sn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else sn.d.m(t)};on.requestFormReset=function(t){sn.d.r(t)};on.unstable_batchedUpdates=function(t,e){return t(e)};on.useFormState=function(t,e,n){return Rc.H.useFormState(t,e,n)};on.useFormStatus=function(){return Rc.H.useHostTransitionStatus()};on.version="19.2.0";function LR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LR)}catch(t){console.error(t)}}LR(),xR.exports=on;var Xk=xR.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=Gk,VR=x,Jk=Xk;function j(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function PR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HR(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ow(t){if(xh(t)!==t)throw Error(j(188))}function Wk(t){var e=t.alternate;if(!e){if(e=xh(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ow(i),t;if(s===r)return Ow(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function jR(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=jR(t),e!==null)return e;t=t.sibling}return null}var Ke=Object.assign,e6=Symbol.for("react.element"),Pf=Symbol.for("react.transitional.element"),gc=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),BR=Symbol.for("react.strict_mode"),L0=Symbol.for("react.profiler"),zR=Symbol.for("react.consumer"),Si=Symbol.for("react.context"),Z_=Symbol.for("react.forward_ref"),V0=Symbol.for("react.suspense"),P0=Symbol.for("react.suspense_list"),Q_=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),U0=Symbol.for("react.activity"),t6=Symbol.for("react.memo_cache_sentinel"),xw=Symbol.iterator;function Zu(t){return t===null||typeof t!="object"?null:(t=xw&&t[xw]||t["@@iterator"],typeof t=="function"?t:null)}var n6=Symbol.for("react.client.reference");function H0(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===n6?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case L0:return"Profiler";case BR:return"StrictMode";case V0:return"Suspense";case P0:return"SuspenseList";case U0:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case gc:return"Portal";case Si:return t.displayName||"Context";case zR:return(t._context.displayName||"Context")+".Consumer";case Z_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q_:return e=t.displayName||null,e!==null?e:H0(t.type)||"Memo";case ms:e=t._payload,t=t._init;try{return H0(t(e))}catch{}}return null}var pc=Array.isArray,te=VR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce=Jk.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ga={pending:!1,data:null,method:null,action:null},j0=[],Jo=-1;function Xr(t){return{current:t}}function xt(t){0>Jo||(t.current=j0[Jo],j0[Jo]=null,Jo--)}function je(t,e){Jo++,j0[Jo]=t.current,t.current=e}var Ur=Xr(null),Qc=Xr(null),Os=Xr(null),tm=Xr(null);function nm(t,e){switch(je(Os,e),je(Qc,t),je(Ur,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Hb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Hb(e),t=lN(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}xt(Ur),je(Ur,t)}function Cl(){xt(Ur),xt(Qc),xt(Os)}function B0(t){t.memoizedState!==null&&je(tm,t);var e=Ur.current,n=lN(e,t.type);e!==n&&(je(Qc,t),je(Ur,n))}function rm(t){Qc.current===t&&(xt(Ur),xt(Qc)),tm.current===t&&(xt(tm),oh._currentValue=Ga)}var uy,kw;function Ua(t){if(uy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uy=e&&e[1]||"",kw=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uy+t+kw}var cy=!1;function hy(t,e){if(!t||cy)return"";cy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var d=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){d=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){d=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&d&&typeof p.stack=="string")return[p.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var h=`
`+l[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=i);break}}}finally{cy=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ua(n):""}function r6(t,e){switch(t.tag){case 26:case 27:case 5:return Ua(t.type);case 16:return Ua("Lazy");case 13:return t.child!==e&&e!==null?Ua("Suspense Fallback"):Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 15:return hy(t.type,!1);case 11:return hy(t.type.render,!1);case 1:return hy(t.type,!0);case 31:return Ua("Activity");default:return""}}function Lw(t){try{var e="",n=null;do e+=r6(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var z0=Object.prototype.hasOwnProperty,X_=It.unstable_scheduleCallback,fy=It.unstable_cancelCallback,i6=It.unstable_shouldYield,s6=It.unstable_requestPaint,Pn=It.unstable_now,a6=It.unstable_getCurrentPriorityLevel,FR=It.unstable_ImmediatePriority,YR=It.unstable_UserBlockingPriority,im=It.unstable_NormalPriority,o6=It.unstable_LowPriority,qR=It.unstable_IdlePriority,l6=It.log,u6=It.unstable_setDisableYieldValue,kh=null,Un=null;function Is(t){if(typeof l6=="function"&&u6(t),Un&&typeof Un.setStrictMode=="function")try{Un.setStrictMode(kh,t)}catch{}}var Hn=Math.clz32?Math.clz32:f6,c6=Math.log,h6=Math.LN2;function f6(t){return t>>>=0,t===0?32:31-(c6(t)/h6|0)|0}var Uf=256,Hf=262144,jf=4194304;function Ha(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ig(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=Ha(r):(a&=o,a!==0?i=Ha(a):n||(n=o&~t,n!==0&&(i=Ha(n))))):(o=r&~s,o!==0?i=Ha(o):a!==0?i=Ha(a):n||(n=r&~t,n!==0&&(i=Ha(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function Lh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function d6(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $R(){var t=jf;return jf<<=1,!(jf&62914560)&&(jf=4194304),t}function dy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function m6(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var h=31-Hn(n),f=1<<h;o[h]=0,l[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var p=d[h];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&GR(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function GR(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Hn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function KR(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function ZR(t,e){var n=e&-e;return n=n&42?1:J_(n),n&(t.suspendedLanes|e)?0:n}function J_(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function W_(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function QR(){var t=Ce.p;return t!==0?t:(t=window.event,t===void 0?32:_N(t.type))}function Vw(t,e){var n=Ce.p;try{return Ce.p=t,e()}finally{Ce.p=n}}var ha=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ha,Sn="__reactProps$"+ha,Wl="__reactContainer$"+ha,F0="__reactEvents$"+ha,g6="__reactListeners$"+ha,p6="__reactHandles$"+ha,Pw="__reactResources$"+ha,Ph="__reactMarker$"+ha;function eE(t){delete t[Ut],delete t[Sn],delete t[F0],delete t[g6],delete t[p6]}function Wo(t){var e=t[Ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wl]||n[Ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yb(t);t!==null;){if(n=t[Ut])return n;t=Yb(t)}return e}t=n,n=t.parentNode}return null}function eu(t){if(t=t[Ut]||t[Wl]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function yc(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(j(33))}function fl(t){var e=t[Pw];return e||(e=t[Pw]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ot(t){t[Ph]=!0}var XR=new Set,JR={};function yo(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for(JR[t]=e,t=0;t<e.length;t++)XR.add(e[t])}var y6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uw={},Hw={};function v6(t){return z0.call(Hw,t)?!0:z0.call(Uw,t)?!1:y6.test(t)?Hw[t]=!0:(Uw[t]=!0,!1)}function _d(t,e,n){if(v6(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Bf(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function oi(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Zn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _6(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Y0(t){if(!t._valueTracker){var e=WR(t)?"checked":"value";t._valueTracker=_6(t,e,""+t[e])}}function e2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var E6=/[\n"\\]/g;function Jn(t){return t.replace(E6,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function q0(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Zn(e)):t.value!==""+Zn(e)&&(t.value=""+Zn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?$0(t,a,Zn(e)):n!=null?$0(t,a,Zn(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Zn(o):t.removeAttribute("name")}function t2(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Y0(t);return}n=n!=null?""+Zn(n):"",e=e!=null?""+Zn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Y0(t)}function $0(t,e,n){e==="number"&&sm(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function dl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function n2(t,e,n){if(e!=null&&(e=""+Zn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Zn(n):""}function r2(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(j(92));if(pc(r)){if(1<r.length)throw Error(j(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Zn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),Y0(t)}function Dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var T6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jw(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||T6.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function i2(t,e,n){if(e!=null&&typeof e!="object")throw Error(j(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&jw(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&jw(t,s,e[s])}function tE(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ed(t){return w6.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function wi(){}var G0=null;function nE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var el=null,ml=null;function Bw(t){var e=eu(t);if(e&&(t=e.stateNode)){var n=t[Sn]||null;e:switch(t=e.stateNode,e.type){case"input":if(q0(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Jn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Sn]||null;if(!i)throw Error(j(90));q0(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&e2(r)}break e;case"textarea":n2(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&dl(t,!!n.multiple,e,!1)}}}var my=!1;function s2(t,e,n){if(my)return t(e,n);my=!0;try{var r=t(e);return r}finally{if(my=!1,(el!==null||ml!==null)&&(Ug(),el&&(e=el,t=ml,ml=el=null,Bw(e),t)))for(e=0;e<t.length;e++)Bw(t[e])}}function Xc(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Sn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K0=!1;if(ji)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){K0=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{K0=!1}var Cs=null,rE=null,Td=null;function a2(){if(Td)return Td;var t,e=rE,n=e.length,r,i="value"in Cs?Cs.value:Cs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Td=i.slice(t,1<r?1-r:void 0)}function Sd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zf(){return!0}function zw(){return!1}function bn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zf:zw,this.isPropagationStopped=zw,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zf)},persist:function(){},isPersistent:zf}),e}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cg=bn(vo),Uh=Ke({},vo,{view:0,detail:0}),b6=bn(Uh),gy,py,Xu,Rg=Ke({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xu&&(Xu&&t.type==="mousemove"?(gy=t.screenX-Xu.screenX,py=t.screenY-Xu.screenY):py=gy=0,Xu=t),gy)},movementY:function(t){return"movementY"in t?t.movementY:py}}),Fw=bn(Rg),A6=Ke({},Rg,{dataTransfer:0}),I6=bn(A6),C6=Ke({},Uh,{relatedTarget:0}),yy=bn(C6),R6=Ke({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),D6=bn(R6),N6=Ke({},vo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M6=bn(N6),O6=Ke({},vo,{data:0}),Yw=bn(O6),x6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L6[t])?!!e[t]:!1}function iE(){return V6}var P6=Ke({},Uh,{key:function(t){if(t.key){var e=x6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iE,charCode:function(t){return t.type==="keypress"?Sd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U6=bn(P6),H6=Ke({},Rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qw=bn(H6),j6=Ke({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iE}),B6=bn(j6),z6=Ke({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),F6=bn(z6),Y6=Ke({},Rg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q6=bn(Y6),$6=Ke({},vo,{newState:0,oldState:0}),G6=bn($6),K6=[9,13,27,32],sE=ji&&"CompositionEvent"in window,Dc=null;ji&&"documentMode"in document&&(Dc=document.documentMode);var Z6=ji&&"TextEvent"in window&&!Dc,o2=ji&&(!sE||Dc&&8<Dc&&11>=Dc),$w=" ",Gw=!1;function l2(t,e){switch(t){case"keyup":return K6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tl=!1;function Q6(t,e){switch(t){case"compositionend":return u2(e);case"keypress":return e.which!==32?null:(Gw=!0,$w);case"textInput":return t=e.data,t===$w&&Gw?null:t;default:return null}}function X6(t,e){if(tl)return t==="compositionend"||!sE&&l2(t,e)?(t=a2(),Td=rE=Cs=null,tl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o2&&e.locale!=="ko"?null:e.data;default:return null}}var J6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J6[t.type]:e==="textarea"}function c2(t,e,n,r){el?ml?ml.push(r):ml=[r]:el=r,e=wm(e,"onChange"),0<e.length&&(n=new Cg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nc=null,Jc=null;function W6(t){sN(t,0)}function Dg(t){var e=yc(t);if(e2(e))return t}function Zw(t,e){if(t==="change")return e}var h2=!1;if(ji){var vy;if(ji){var _y="oninput"in document;if(!_y){var Qw=document.createElement("div");Qw.setAttribute("oninput","return;"),_y=typeof Qw.oninput=="function"}vy=_y}else vy=!1;h2=vy&&(!document.documentMode||9<document.documentMode)}function Xw(){Nc&&(Nc.detachEvent("onpropertychange",f2),Jc=Nc=null)}function f2(t){if(t.propertyName==="value"&&Dg(Jc)){var e=[];c2(e,Jc,t,nE(t)),s2(W6,e)}}function eL(t,e,n){t==="focusin"?(Xw(),Nc=e,Jc=n,Nc.attachEvent("onpropertychange",f2)):t==="focusout"&&Xw()}function tL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dg(Jc)}function nL(t,e){if(t==="click")return Dg(e)}function rL(t,e){if(t==="input"||t==="change")return Dg(e)}function iL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:iL;function Wc(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!z0.call(e,i)||!zn(t[i],e[i]))return!1}return!0}function Jw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ww(t,e){var n=Jw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jw(n)}}function d2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?d2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function m2(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=sm(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sm(t.document)}return e}function aE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var sL=ji&&"documentMode"in document&&11>=document.documentMode,nl=null,Z0=null,Mc=null,Q0=!1;function eb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Q0||nl==null||nl!==sm(r)||(r=nl,"selectionStart"in r&&aE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mc&&Wc(Mc,r)||(Mc=r,r=wm(Z0,"onSelect"),0<r.length&&(e=new Cg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nl)))}function La(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rl={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Ey={},g2={};ji&&(g2=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function _o(t){if(Ey[t])return Ey[t];if(!rl[t])return t;var e=rl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in g2)return Ey[t]=e[n];return t}var p2=_o("animationend"),y2=_o("animationiteration"),v2=_o("animationstart"),aL=_o("transitionrun"),oL=_o("transitionstart"),lL=_o("transitioncancel"),_2=_o("transitionend"),E2=new Map,X0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");X0.push("scrollEnd");function Tr(t,e){E2.set(t,e),yo(e,[t])}var am=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],il=0,oE=0;function Ng(){for(var t=il,e=oE=il=0;e<t;){var n=Kn[e];Kn[e++]=null;var r=Kn[e];Kn[e++]=null;var i=Kn[e];Kn[e++]=null;var s=Kn[e];if(Kn[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&T2(n,i,s)}}function Mg(t,e,n,r){Kn[il++]=t,Kn[il++]=e,Kn[il++]=n,Kn[il++]=r,oE|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function lE(t,e,n,r){return Mg(t,e,n,r),om(t)}function Eo(t,e){return Mg(t,null,null,e),om(t)}function T2(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-Hn(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function om(t){if(50<jc)throw jc=0,vv=null,Error(j(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var sl={};function uL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new uL(t,e,n,r)}function uE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function S2(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function wd(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")uE(t)&&(a=1);else if(typeof t=="string")a=mV(t,n,Ur.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case U0:return t=On(31,n,e,i),t.elementType=U0,t.lanes=s,t;case Xo:return Ka(n.children,i,s,e);case BR:a=8,i|=24;break;case L0:return t=On(12,n,e,i|2),t.elementType=L0,t.lanes=s,t;case V0:return t=On(13,n,e,i),t.elementType=V0,t.lanes=s,t;case P0:return t=On(19,n,e,i),t.elementType=P0,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Si:a=10;break e;case zR:a=9;break e;case Z_:a=11;break e;case Q_:a=14;break e;case ms:a=16,r=null;break e}a=29,n=Error(j(130,t===null?"null":typeof t,"")),r=null}return e=On(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ka(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function Ty(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function w2(t){var e=On(18,null,null,0);return e.stateNode=t,e}function Sy(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var tb=new WeakMap;function Wn(t,e){if(typeof t=="object"&&t!==null){var n=tb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Lw(e)},tb.set(t,e),e)}return{value:t,source:e,stack:Lw(e)}}var al=[],ol=0,lm=null,eh=0,Qn=[],Xn=0,Qs=null,Lr=1,Vr="";function vi(t,e){al[ol++]=eh,al[ol++]=lm,lm=t,eh=e}function b2(t,e,n){Qn[Xn++]=Lr,Qn[Xn++]=Vr,Qn[Xn++]=Qs,Qs=t;var r=Lr;t=Vr;var i=32-Hn(r)-1;r&=~(1<<i),n+=1;var s=32-Hn(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Lr=1<<32-Hn(e)+i|n<<i|r,Vr=s+t}else Lr=1<<s|n<<i|r,Vr=t}function cE(t){t.return!==null&&(vi(t,1),b2(t,1,0))}function hE(t){for(;t===lm;)lm=al[--ol],al[ol]=null,eh=al[--ol],al[ol]=null;for(;t===Qs;)Qs=Qn[--Xn],Qn[Xn]=null,Vr=Qn[--Xn],Qn[Xn]=null,Lr=Qn[--Xn],Qn[Xn]=null}function A2(t,e){Qn[Xn++]=Lr,Qn[Xn++]=Vr,Qn[Xn++]=Qs,Lr=e.id,Vr=e.overflow,Qs=t}var Ht=null,Ye=null,Ee=!1,xs=null,er=!1,J0=Error(j(519));function Xs(t){var e=Error(j(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw th(Wn(e,t)),J0}function nb(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Ut]=t,e[Sn]=r,n){case"dialog":fe("cancel",e),fe("close",e);break;case"iframe":case"object":case"embed":fe("load",e);break;case"video":case"audio":for(n=0;n<sh.length;n++)fe(sh[n],e);break;case"source":fe("error",e);break;case"img":case"image":case"link":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"input":fe("invalid",e),t2(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":fe("invalid",e);break;case"textarea":fe("invalid",e),r2(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||oN(e.textContent,n)?(r.popover!=null&&(fe("beforetoggle",e),fe("toggle",e)),r.onScroll!=null&&fe("scroll",e),r.onScrollEnd!=null&&fe("scrollend",e),r.onClick!=null&&(e.onclick=wi),e=!0):e=!1,e||Xs(t,!0)}function rb(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:er=!1;return;case 27:case 3:er=!0;return;default:Ht=Ht.return}}function ko(t){if(t!==Ht)return!1;if(!Ee)return rb(t),Ee=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||wv(t.type,t.memoizedProps)),n=!n),n&&Ye&&Xs(t),rb(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));Ye=Fb(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));Ye=Fb(t)}else e===27?(e=Ye,fa(t.type)?(t=Cv,Cv=null,Ye=t):Ye=e):Ye=Ht?sr(t.stateNode.nextSibling):null;return!0}function to(){Ye=Ht=null,Ee=!1}function wy(){var t=xs;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),xs=null),t}function th(t){xs===null?xs=[t]:xs.push(t)}var W0=Xr(null),To=null,bi=null;function vs(t,e,n){je(W0,e._currentValue),e._currentValue=n}function Ni(t){t._currentValue=W0.current,xt(W0)}function ev(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function tv(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ev(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(j(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),ev(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function tu(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(j(387));if(a=a.memoizedProps,a!==null){var o=i.type;zn(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===tm.current){if(a=i.alternate,a===null)throw Error(j(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(oh):t=[oh])}i=i.return}t!==null&&tv(e,t,n,r),e.flags|=262144}function um(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function no(t){To=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function zt(t){return I2(To,t)}function Ff(t,e){return To===null&&no(t),I2(t,e)}function I2(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},bi===null){if(t===null)throw Error(j(308));bi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else bi=bi.next=e;return n}var cL=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},hL=It.unstable_scheduleCallback,fL=It.unstable_NormalPriority,yt={$$typeof:Si,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fE(){return{controller:new cL,data:new Map,refCount:0}}function Hh(t){t.refCount--,t.refCount===0&&hL(fL,function(){t.controller.abort()})}var Oc=null,nv=0,Nl=0,gl=null;function dL(t,e){if(Oc===null){var n=Oc=[];nv=0,Nl=PE(),gl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return nv++,e.then(ib,ib),e}function ib(){if(--nv===0&&Oc!==null){gl!==null&&(gl.status="fulfilled");var t=Oc;Oc=null,Nl=0,gl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function mL(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var sb=te.S;te.S=function(t,e){jD=Pn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&dL(t,e),sb!==null&&sb(t,e)};var Za=Xr(null);function dE(){var t=Za.current;return t!==null?t:Ve.pooledCache}function bd(t,e){e===null?je(Za,Za.current):je(Za,e.pool)}function C2(){var t=dE();return t===null?null:{parent:yt._currentValue,pool:t}}var nu=Error(j(460)),mE=Error(j(474)),Og=Error(j(542)),cm={then:function(){}};function ab(t){return t=t.status,t==="fulfilled"||t==="rejected"}function R2(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(wi,wi),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,lb(t),t;default:if(typeof e.status=="string")e.then(wi,wi);else{if(t=Ve,t!==null&&100<t.shellSuspendCounter)throw Error(j(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,lb(t),t}throw Qa=e,nu}}function ja(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Qa=n,nu):n}}var Qa=null;function ob(){if(Qa===null)throw Error(j(459));var t=Qa;return Qa=null,t}function lb(t){if(t===nu||t===Og)throw Error(j(483))}var pl=null,nh=0;function Yf(t){var e=nh;return nh+=1,pl===null&&(pl=[]),R2(pl,t,e)}function Ju(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function qf(t,e){throw e.$$typeof===e6?Error(j(525)):(t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function D2(t){function e(v,_){if(t){var A=v.deletions;A===null?(v.deletions=[_],v.flags|=16):A.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v){for(var _=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(v,_){return v=Di(v,_),v.index=0,v.sibling=null,v}function s(v,_,A){return v.index=A,t?(A=v.alternate,A!==null?(A=A.index,A<_?(v.flags|=67108866,_):A):(v.flags|=67108866,_)):(v.flags|=1048576,_)}function a(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function o(v,_,A,M){return _===null||_.tag!==6?(_=Ty(A,v.mode,M),_.return=v,_):(_=i(_,A),_.return=v,_)}function l(v,_,A,M){var V=A.type;return V===Xo?h(v,_,A.props.children,M,A.key):_!==null&&(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ms&&ja(V)===_.type)?(_=i(_,A.props),Ju(_,A),_.return=v,_):(_=wd(A.type,A.key,A.props,null,v.mode,M),Ju(_,A),_.return=v,_)}function c(v,_,A,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=Sy(A,v.mode,M),_.return=v,_):(_=i(_,A.children||[]),_.return=v,_)}function h(v,_,A,M,V){return _===null||_.tag!==7?(_=Ka(A,v.mode,M,V),_.return=v,_):(_=i(_,A),_.return=v,_)}function f(v,_,A){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Ty(""+_,v.mode,A),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pf:return A=wd(_.type,_.key,_.props,null,v.mode,A),Ju(A,_),A.return=v,A;case gc:return _=Sy(_,v.mode,A),_.return=v,_;case ms:return _=ja(_),f(v,_,A)}if(pc(_)||Zu(_))return _=Ka(_,v.mode,A,null),_.return=v,_;if(typeof _.then=="function")return f(v,Yf(_),A);if(_.$$typeof===Si)return f(v,Ff(v,_),A);qf(v,_)}return null}function d(v,_,A,M){var V=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return V!==null?null:o(v,_,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Pf:return A.key===V?l(v,_,A,M):null;case gc:return A.key===V?c(v,_,A,M):null;case ms:return A=ja(A),d(v,_,A,M)}if(pc(A)||Zu(A))return V!==null?null:h(v,_,A,M,null);if(typeof A.then=="function")return d(v,_,Yf(A),M);if(A.$$typeof===Si)return d(v,_,Ff(v,A),M);qf(v,A)}return null}function p(v,_,A,M,V){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return v=v.get(A)||null,o(_,v,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Pf:return v=v.get(M.key===null?A:M.key)||null,l(_,v,M,V);case gc:return v=v.get(M.key===null?A:M.key)||null,c(_,v,M,V);case ms:return M=ja(M),p(v,_,A,M,V)}if(pc(M)||Zu(M))return v=v.get(A)||null,h(_,v,M,V,null);if(typeof M.then=="function")return p(v,_,A,Yf(M),V);if(M.$$typeof===Si)return p(v,_,A,Ff(_,M),V);qf(_,M)}return null}function y(v,_,A,M){for(var V=null,k=null,S=_,T=_=0,E=null;S!==null&&T<A.length;T++){S.index>T?(E=S,S=null):E=S.sibling;var R=d(v,S,A[T],M);if(R===null){S===null&&(S=E);break}t&&S&&R.alternate===null&&e(v,S),_=s(R,_,T),k===null?V=R:k.sibling=R,k=R,S=E}if(T===A.length)return n(v,S),Ee&&vi(v,T),V;if(S===null){for(;T<A.length;T++)S=f(v,A[T],M),S!==null&&(_=s(S,_,T),k===null?V=S:k.sibling=S,k=S);return Ee&&vi(v,T),V}for(S=r(S);T<A.length;T++)E=p(S,v,T,A[T],M),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?T:E.key),_=s(E,_,T),k===null?V=E:k.sibling=E,k=E);return t&&S.forEach(function(D){return e(v,D)}),Ee&&vi(v,T),V}function w(v,_,A,M){if(A==null)throw Error(j(151));for(var V=null,k=null,S=_,T=_=0,E=null,R=A.next();S!==null&&!R.done;T++,R=A.next()){S.index>T?(E=S,S=null):E=S.sibling;var D=d(v,S,R.value,M);if(D===null){S===null&&(S=E);break}t&&S&&D.alternate===null&&e(v,S),_=s(D,_,T),k===null?V=D:k.sibling=D,k=D,S=E}if(R.done)return n(v,S),Ee&&vi(v,T),V;if(S===null){for(;!R.done;T++,R=A.next())R=f(v,R.value,M),R!==null&&(_=s(R,_,T),k===null?V=R:k.sibling=R,k=R);return Ee&&vi(v,T),V}for(S=r(S);!R.done;T++,R=A.next())R=p(S,v,T,R.value,M),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?T:R.key),_=s(R,_,T),k===null?V=R:k.sibling=R,k=R);return t&&S.forEach(function(O){return e(v,O)}),Ee&&vi(v,T),V}function C(v,_,A,M){if(typeof A=="object"&&A!==null&&A.type===Xo&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Pf:e:{for(var V=A.key;_!==null;){if(_.key===V){if(V=A.type,V===Xo){if(_.tag===7){n(v,_.sibling),M=i(_,A.props.children),M.return=v,v=M;break e}}else if(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ms&&ja(V)===_.type){n(v,_.sibling),M=i(_,A.props),Ju(M,A),M.return=v,v=M;break e}n(v,_);break}else e(v,_);_=_.sibling}A.type===Xo?(M=Ka(A.props.children,v.mode,M,A.key),M.return=v,v=M):(M=wd(A.type,A.key,A.props,null,v.mode,M),Ju(M,A),M.return=v,v=M)}return a(v);case gc:e:{for(V=A.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(v,_.sibling),M=i(_,A.children||[]),M.return=v,v=M;break e}else{n(v,_);break}else e(v,_);_=_.sibling}M=Sy(A,v.mode,M),M.return=v,v=M}return a(v);case ms:return A=ja(A),C(v,_,A,M)}if(pc(A))return y(v,_,A,M);if(Zu(A)){if(V=Zu(A),typeof V!="function")throw Error(j(150));return A=V.call(A),w(v,_,A,M)}if(typeof A.then=="function")return C(v,_,Yf(A),M);if(A.$$typeof===Si)return C(v,_,Ff(v,A),M);qf(v,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,_!==null&&_.tag===6?(n(v,_.sibling),M=i(_,A),M.return=v,v=M):(n(v,_),M=Ty(A,v.mode,M),M.return=v,v=M),a(v)):n(v,_)}return function(v,_,A,M){try{nh=0;var V=C(v,_,A,M);return pl=null,V}catch(S){if(S===nu||S===Og)throw S;var k=On(29,S,null,v.mode);return k.lanes=M,k.return=v,k}finally{}}}var ro=D2(!0),N2=D2(!1),gs=!1;function gE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=om(t),T2(t,null,n),e}return Mg(t,r,e,n),om(t)}function xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,KR(t,n)}}function by(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var iv=!1;function kc(){if(iv){var t=gl;if(t!==null)throw t}}function Lc(t,e,n,r){iv=!1;var i=t.updateQueue;gs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,h=c=l=null,o=s;do{var d=o.lane&-536870913,p=d!==o.lane;if(p?(ye&d)===d:(r&d)===d){d!==0&&d===Nl&&(iv=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var y=t,w=o;d=e;var C=n;switch(w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(C,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,d=typeof y=="function"?y.call(C,f,d):y,d==null)break e;f=Ke({},f,d);break e;case 2:gs=!0}}d=o.callback,d!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=p,l=f):h=h.next=p,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),Ws|=a,t.lanes=a,t.memoizedState=f}}function M2(t,e){if(typeof t!="function")throw Error(j(191,t));t.call(e)}function O2(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)M2(n[t],e)}var Ml=Xr(null),hm=Xr(0);function ub(t,e){t=Yi,je(hm,t),je(Ml,e),Yi=t|e.baseLanes}function sv(){je(hm,Yi),je(Ml,Ml.current)}function pE(){Yi=hm.current,xt(Ml),xt(hm)}var Fn=Xr(null),ir=null;function _s(t){var e=t.alternate;je(lt,lt.current&1),je(Fn,t),ir===null&&(e===null||Ml.current!==null||e.memoizedState!==null)&&(ir=t)}function av(t){je(lt,lt.current),je(Fn,t),ir===null&&(ir=t)}function x2(t){t.tag===22?(je(lt,lt.current),je(Fn,t),ir===null&&(ir=t)):Es()}function Es(){je(lt,lt.current),je(Fn,Fn.current)}function Nn(t){xt(Fn),ir===t&&(ir=null),xt(lt)}var lt=Xr(0);function fm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Av(n)||Iv(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bi=0,le=null,xe=null,gt=null,dm=!1,yl=!1,io=!1,mm=0,rh=0,vl=null,gL=0;function rt(){throw Error(j(321))}function yE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function vE(t,e,n,r,i,s){return Bi=s,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,te.H=t===null||t.memoizedState===null?cD:DE,io=!1,s=n(r,i),io=!1,yl&&(s=L2(e,n,r,i)),k2(t),s}function k2(t){te.H=ih;var e=xe!==null&&xe.next!==null;if(Bi=0,gt=xe=le=null,dm=!1,rh=0,vl=null,e)throw Error(j(300));t===null||_t||(t=t.dependencies,t!==null&&um(t)&&(_t=!0))}function L2(t,e,n,r){le=t;var i=0;do{if(yl&&(vl=null),rh=0,yl=!1,25<=i)throw Error(j(301));if(i+=1,gt=xe=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}te.H=hD,s=e(n,r)}while(yl);return s}function pL(){var t=te.H,e=t.useState()[0];return e=typeof e.then=="function"?jh(e):e,t=t.useState()[0],(xe!==null?xe.memoizedState:null)!==t&&(le.flags|=1024),e}function _E(){var t=mm!==0;return mm=0,t}function EE(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function TE(t){if(dm){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}dm=!1}Bi=0,gt=xe=le=null,yl=!1,rh=mm=0,vl=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?le.memoizedState=gt=t:gt=gt.next=t,gt}function ct(){if(xe===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var e=gt===null?le.memoizedState:gt.next;if(e!==null)gt=e,xe=t;else{if(t===null)throw le.alternate===null?Error(j(467)):Error(j(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},gt===null?le.memoizedState=gt=t:gt=gt.next=t}return gt}function xg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jh(t){var e=rh;return rh+=1,vl===null&&(vl=[]),t=R2(vl,t,e),e=le,(gt===null?e.memoizedState:gt.next)===null&&(e=e.alternate,te.H=e===null||e.memoizedState===null?cD:DE),t}function kg(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jh(t);if(t.$$typeof===Si)return zt(t)}throw Error(j(438,String(t)))}function SE(t){var e=null,n=le.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=le.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=xg(),le.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=t6;return e.index++,n}function zi(t,e){return typeof e=="function"?e(t):e}function Ad(t){var e=ct();return wE(e,xe,t)}function wE(t,e,n){var r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,l=null,c=e,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(ye&f)===f:(Bi&f)===f){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Nl&&(h=!0);else if((Bi&d)===d){c=c.next,d===Nl&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,a=s):l=l.next=f,le.lanes|=d,Ws|=d;f=c.action,io&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else d={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=s):l=l.next=d,le.lanes|=f,Ws|=f;c=c.next}while(c!==null&&c!==e);if(l===null?a=s:l.next=o,!zn(s,t.memoizedState)&&(_t=!0,h&&(n=gl,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Ay(t){var e=ct(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);zn(s,e.memoizedState)||(_t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function V2(t,e,n){var r=le,i=ct(),s=Ee;if(s){if(n===void 0)throw Error(j(407));n=n()}else n=e();var a=!zn((xe||i).memoizedState,n);if(a&&(i.memoizedState=n,_t=!0),i=i.queue,bE(H2.bind(null,r,i,t),[t]),i.getSnapshot!==e||a||gt!==null&&gt.memoizedState.tag&1){if(r.flags|=2048,Ol(9,{destroy:void 0},U2.bind(null,r,i,n,e),null),Ve===null)throw Error(j(349));s||Bi&127||P2(r,e,n)}return n}function P2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e=xg(),le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U2(t,e,n,r){e.value=n,e.getSnapshot=r,j2(e)&&B2(t)}function H2(t,e,n){return n(function(){j2(e)&&B2(t)})}function j2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function B2(t){var e=Eo(t,2);e!==null&&_n(e,t,2)}function ov(t){var e=rn();if(typeof t=="function"){var n=t;if(t=n(),io){Is(!0);try{n()}finally{Is(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},e}function z2(t,e,n,r){return t.baseState=n,wE(t,xe,typeof r=="function"?r:zi)}function yL(t,e,n,r,i){if(Vg(t))throw Error(j(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};te.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,F2(e,s)):(s.next=n.next,e.pending=n.next=s)}}function F2(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=te.T,a={};te.T=a;try{var o=n(i,r),l=te.S;l!==null&&l(a,o),cb(t,e,o)}catch(c){lv(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),te.T=s}}else try{s=n(i,r),cb(t,e,s)}catch(c){lv(t,e,c)}}function cb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){hb(t,e,r)},function(r){return lv(t,e,r)}):hb(t,e,n)}function hb(t,e,n){e.status="fulfilled",e.value=n,Y2(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,F2(t,n)))}function lv(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,Y2(e),e=e.next;while(e!==r)}t.action=null}function Y2(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function q2(t,e){return e}function fb(t,e){if(Ee){var n=Ve.formState;if(n!==null){e:{var r=le;if(Ee){if(Ye){t:{for(var i=Ye,s=er;i.nodeType!==8;){if(!s){i=null;break t}if(i=sr(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Ye=sr(i.nextSibling),r=i.data==="F!";break e}}Xs(r)}r=!1}r&&(e=n[0])}}return n=rn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q2,lastRenderedState:e},n.queue=r,n=oD.bind(null,le,r),r.dispatch=n,r=ov(!1),s=RE.bind(null,le,!1,r.queue),r=rn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=yL.bind(null,le,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function db(t){var e=ct();return $2(e,xe,t)}function $2(t,e,n){if(e=wE(t,e,q2)[0],t=Ad(zi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=jh(e)}catch(a){throw a===nu?Og:a}else r=e;e=ct();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(le.flags|=2048,Ol(9,{destroy:void 0},vL.bind(null,i,n),null)),[r,s,t]}function vL(t,e){t.action=e}function mb(t){var e=ct(),n=xe;if(n!==null)return $2(e,n,t);ct(),e=e.memoizedState,n=ct();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Ol(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=le.updateQueue,e===null&&(e=xg(),le.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function G2(){return ct().memoizedState}function Id(t,e,n,r){var i=rn();le.flags|=t,i.memoizedState=Ol(1|e,{destroy:void 0},n,r===void 0?null:r)}function Lg(t,e,n,r){var i=ct();r=r===void 0?null:r;var s=i.memoizedState.inst;xe!==null&&r!==null&&yE(r,xe.memoizedState.deps)?i.memoizedState=Ol(e,s,n,r):(le.flags|=t,i.memoizedState=Ol(1|e,s,n,r))}function gb(t,e){Id(8390656,8,t,e)}function bE(t,e){Lg(2048,8,t,e)}function _L(t){le.flags|=4;var e=le.updateQueue;if(e===null)e=xg(),le.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function K2(t){var e=ct().memoizedState;return _L({ref:e,nextImpl:t}),function(){if(Ie&2)throw Error(j(440));return e.impl.apply(void 0,arguments)}}function Z2(t,e){return Lg(4,2,t,e)}function Q2(t,e){return Lg(4,4,t,e)}function X2(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function J2(t,e,n){n=n!=null?n.concat([t]):null,Lg(4,4,X2.bind(null,e,t),n)}function AE(){}function W2(t,e){var n=ct();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&yE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eD(t,e){var n=ct();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&yE(e,r[1]))return r[0];if(r=t(),io){Is(!0);try{t()}finally{Is(!1)}}return n.memoizedState=[r,e],r}function IE(t,e,n){return n===void 0||Bi&1073741824&&!(ye&261930)?t.memoizedState=e:(t.memoizedState=n,t=zD(),le.lanes|=t,Ws|=t,n)}function tD(t,e,n,r){return zn(n,e)?n:Ml.current!==null?(t=IE(t,n,r),zn(t,e)||(_t=!0),t):!(Bi&42)||Bi&1073741824&&!(ye&261930)?(_t=!0,t.memoizedState=n):(t=zD(),le.lanes|=t,Ws|=t,e)}function nD(t,e,n,r,i){var s=Ce.p;Ce.p=s!==0&&8>s?s:8;var a=te.T,o={};te.T=o,RE(t,!1,e,n);try{var l=i(),c=te.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=mL(l,r);Vc(t,e,h,jn(t))}else Vc(t,e,r,jn(t))}catch(f){Vc(t,e,{then:function(){},status:"rejected",reason:f},jn())}finally{Ce.p=s,a!==null&&o.types!==null&&(a.types=o.types),te.T=a}}function EL(){}function uv(t,e,n,r){if(t.tag!==5)throw Error(j(476));var i=rD(t).queue;nD(t,i,e,Ga,n===null?EL:function(){return iD(t),n(r)})}function rD(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ga,baseState:Ga,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:Ga},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function iD(t){var e=rD(t);e.next===null&&(e=t.alternate.memoizedState),Vc(t,e.next.queue,{},jn())}function CE(){return zt(oh)}function sD(){return ct().memoizedState}function aD(){return ct().memoizedState}function TL(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=jn();t=ks(n);var r=Ls(e,t,n);r!==null&&(_n(r,e,n),xc(r,e,n)),e={cache:fE()},t.payload=e;return}e=e.return}}function SL(t,e,n){var r=jn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vg(t)?lD(e,n):(n=lE(t,e,n,r),n!==null&&(_n(n,t,r),uD(n,e,r)))}function oD(t,e,n){var r=jn();Vc(t,e,n,r)}function Vc(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vg(t))lD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,zn(o,a))return Mg(t,e,i,0),Ve===null&&Ng(),!1}catch{}finally{}if(n=lE(t,e,i,r),n!==null)return _n(n,t,r),uD(n,e,r),!0}return!1}function RE(t,e,n,r){if(r={lane:2,revertLane:PE(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Vg(t)){if(e)throw Error(j(479))}else e=lE(t,n,r,2),e!==null&&_n(e,t,2)}function Vg(t){var e=t.alternate;return t===le||e!==null&&e===le}function lD(t,e){yl=dm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uD(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,KR(t,n)}}var ih={readContext:zt,use:kg,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt};ih.useEffectEvent=rt;var cD={readContext:zt,use:kg,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:gb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Id(4194308,4,X2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Id(4194308,4,t,e)},useInsertionEffect:function(t,e){Id(4,2,t,e)},useMemo:function(t,e){var n=rn();e=e===void 0?null:e;var r=t();if(io){Is(!0);try{t()}finally{Is(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=rn();if(n!==void 0){var i=n(e);if(io){Is(!0);try{n(e)}finally{Is(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=SL.bind(null,le,t),[r.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:function(t){t=ov(t);var e=t.queue,n=oD.bind(null,le,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:AE,useDeferredValue:function(t,e){var n=rn();return IE(n,t,e)},useTransition:function(){var t=ov(!1);return t=nD.bind(null,le,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=le,i=rn();if(Ee){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Ve===null)throw Error(j(349));ye&127||P2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gb(H2.bind(null,r,s,t),[t]),r.flags|=2048,Ol(9,{destroy:void 0},U2.bind(null,r,s,n,e),null),n},useId:function(){var t=rn(),e=Ve.identifierPrefix;if(Ee){var n=Vr,r=Lr;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=mm++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=gL++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:CE,useFormState:fb,useActionState:fb,useOptimistic:function(t){var e=rn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=RE.bind(null,le,!0,n),n.dispatch=e,[t,e]},useMemoCache:SE,useCacheRefresh:function(){return rn().memoizedState=TL.bind(null,le)},useEffectEvent:function(t){var e=rn(),n={impl:t};return e.memoizedState=n,function(){if(Ie&2)throw Error(j(440));return n.impl.apply(void 0,arguments)}}},DE={readContext:zt,use:kg,useCallback:W2,useContext:zt,useEffect:bE,useImperativeHandle:J2,useInsertionEffect:Z2,useLayoutEffect:Q2,useMemo:eD,useReducer:Ad,useRef:G2,useState:function(){return Ad(zi)},useDebugValue:AE,useDeferredValue:function(t,e){var n=ct();return tD(n,xe.memoizedState,t,e)},useTransition:function(){var t=Ad(zi)[0],e=ct().memoizedState;return[typeof t=="boolean"?t:jh(t),e]},useSyncExternalStore:V2,useId:sD,useHostTransitionStatus:CE,useFormState:db,useActionState:db,useOptimistic:function(t,e){var n=ct();return z2(n,xe,t,e)},useMemoCache:SE,useCacheRefresh:aD};DE.useEffectEvent=K2;var hD={readContext:zt,use:kg,useCallback:W2,useContext:zt,useEffect:bE,useImperativeHandle:J2,useInsertionEffect:Z2,useLayoutEffect:Q2,useMemo:eD,useReducer:Ay,useRef:G2,useState:function(){return Ay(zi)},useDebugValue:AE,useDeferredValue:function(t,e){var n=ct();return xe===null?IE(n,t,e):tD(n,xe.memoizedState,t,e)},useTransition:function(){var t=Ay(zi)[0],e=ct().memoizedState;return[typeof t=="boolean"?t:jh(t),e]},useSyncExternalStore:V2,useId:sD,useHostTransitionStatus:CE,useFormState:mb,useActionState:mb,useOptimistic:function(t,e){var n=ct();return xe!==null?z2(n,xe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:SE,useCacheRefresh:aD};hD.useEffectEvent=K2;function Iy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cv={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jn(),i=ks(r);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,r),e!==null&&(_n(e,t,r),xc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jn(),i=ks(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,r),e!==null&&(_n(e,t,r),xc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jn(),r=ks(n);r.tag=2,e!=null&&(r.callback=e),e=Ls(t,r,n),e!==null&&(_n(e,t,n),xc(e,t,n))}};function pb(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Wc(n,r)||!Wc(i,s):!0}function yb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cv.enqueueReplaceState(e,e.state,null)}function so(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Ke({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function fD(t){am(t)}function dD(t){console.error(t)}function mD(t){am(t)}function gm(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function vb(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function hv(t,e,n){return n=ks(n),n.tag=3,n.payload={element:null},n.callback=function(){gm(t,e)},n}function gD(t){return t=ks(t),t.tag=3,t}function pD(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){vb(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){vb(e,n,r),typeof i!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function wL(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&tu(e,n,i,!0),n=Fn.current,n!==null){switch(n.tag){case 31:case 13:return ir===null?Em():n.alternate===null&&it===0&&(it=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===cm?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Py(t,r,i)),!1;case 22:return n.flags|=65536,r===cm?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Py(t,r,i)),!1}throw Error(j(435,n.tag))}return Py(t,r,i),Em(),!1}if(Ee)return e=Fn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==J0&&(t=Error(j(422),{cause:r}),th(Wn(t,n)))):(r!==J0&&(e=Error(j(423),{cause:r}),th(Wn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Wn(r,n),i=hv(t.stateNode,r,i),by(t,i),it!==4&&(it=2)),!1;var s=Error(j(520),{cause:r});if(s=Wn(s,n),Hc===null?Hc=[s]:Hc.push(s),it!==4&&(it=2),e===null)return!0;r=Wn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=hv(n.stateNode,r,t),by(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Vs===null||!Vs.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=gD(i),pD(i,t,n,r),by(n,i),!1}n=n.return}while(n!==null);return!1}var NE=Error(j(461)),_t=!1;function Vt(t,e,n,r){e.child=t===null?N2(e,null,n,r):ro(e,t.child,n,r)}function _b(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return no(e),r=vE(t,e,n,a,s,i),o=_E(),t!==null&&!_t?(EE(t,e,i),Fi(t,e,i)):(Ee&&o&&cE(e),e.flags|=1,Vt(t,e,r,i),e.child)}function Eb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!uE(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,yD(t,e,s,r,i)):(t=wd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!ME(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wc,n(a,r)&&t.ref===e.ref)return Fi(t,e,i)}return e.flags|=1,t=Di(s,r),t.ref=e.ref,t.return=e,e.child=t}function yD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Wc(s,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=s,ME(t,i))t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Fi(t,e,i)}return fv(t,e,n,r,i)}function vD(t,e,n,r){var i=r.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,e.child=null;return Tb(t,e,s,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&bd(e,s!==null?s.cachePool:null),s!==null?ub(e,s):sv(),x2(e);else return r=e.lanes=536870912,Tb(t,e,s!==null?s.baseLanes|n:n,n,r)}else s!==null?(bd(e,s.cachePool),ub(e,s),Es(),e.memoizedState=null):(t!==null&&bd(e,null),sv(),Es());return Vt(t,e,i,n),e.child}function vc(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Tb(t,e,n,r,i){var s=dE();return s=s===null?null:{parent:yt._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&bd(e,null),sv(),x2(e),t!==null&&tu(t,e,r,!0),e.childLanes=i,null}function Cd(t,e){return e=pm({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Sb(t,e,n){return ro(e,t.child,null,n),t=Cd(e,e.pendingProps),t.flags|=2,Nn(e),e.memoizedState=null,t}function bL(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ee){if(r.mode==="hidden")return t=Cd(e,r),e.lanes=536870912,vc(null,t);if(av(e),(t=Ye)?(t=cN(t,er),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:Lr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},n=w2(t),n.return=e,e.child=n,Ht=e,Ye=null)):t=null,t===null)throw Xs(e);return e.lanes=536870912,null}return Cd(e,r)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(av(e),i)if(e.flags&256)e.flags&=-257,e=Sb(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(j(558));else if(_t||tu(t,e,n,!1),i=(n&t.childLanes)!==0,_t||i){if(r=Ve,r!==null&&(a=ZR(r,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Eo(t,a),_n(r,t,a),NE;Em(),e=Sb(t,e,n)}else t=s.treeContext,Ye=sr(a.nextSibling),Ht=e,Ee=!0,xs=null,er=!1,t!==null&&A2(e,t),e=Cd(e,r),e.flags|=4096;return e}return t=Di(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Rd(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(j(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function fv(t,e,n,r,i){return no(e),n=vE(t,e,n,r,void 0,i),r=_E(),t!==null&&!_t?(EE(t,e,i),Fi(t,e,i)):(Ee&&r&&cE(e),e.flags|=1,Vt(t,e,n,i),e.child)}function wb(t,e,n,r,i,s){return no(e),e.updateQueue=null,n=L2(e,r,n,i),k2(t),r=_E(),t!==null&&!_t?(EE(t,e,s),Fi(t,e,s)):(Ee&&r&&cE(e),e.flags|=1,Vt(t,e,n,s),e.child)}function bb(t,e,n,r,i){if(no(e),e.stateNode===null){var s=sl,a=n.contextType;typeof a=="object"&&a!==null&&(s=zt(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=cv,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},gE(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?zt(a):sl,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Iy(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&cv.enqueueReplaceState(s,s.state,null),Lc(e,r,s,i),kc(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=so(n,o);s.props=l;var c=s.context,h=n.contextType;a=sl,typeof h=="object"&&h!==null&&(a=zt(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&yb(e,s,r,a),gs=!1;var d=e.memoizedState;s.state=d,Lc(e,r,s,i),kc(),c=e.memoizedState,o||d!==c||gs?(typeof f=="function"&&(Iy(e,n,f,r),c=e.memoizedState),(l=gs||pb(e,n,l,r,d,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,rv(t,e),a=e.memoizedProps,h=so(n,a),s.props=h,f=e.pendingProps,d=s.context,c=n.contextType,l=sl,typeof c=="object"&&c!==null&&(l=zt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&yb(e,s,r,l),gs=!1,d=e.memoizedState,s.state=d,Lc(e,r,s,i),kc();var p=e.memoizedState;a!==f||d!==p||gs||t!==null&&t.dependencies!==null&&um(t.dependencies)?(typeof o=="function"&&(Iy(e,n,o,r),p=e.memoizedState),(h=gs||pb(e,n,h,r,d,p,l)||t!==null&&t.dependencies!==null&&um(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,Rd(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=ro(e,t.child,null,i),e.child=ro(e,null,n,i)):Vt(t,e,n,i),e.memoizedState=s.state,t=e.child):t=Fi(t,e,i),t}function Ab(t,e,n,r){return to(),e.flags|=256,Vt(t,e,n,r),e.child}var Cy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ry(t){return{baseLanes:t,cachePool:C2()}}function Dy(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=kn),t}function _D(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(lt.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ee){if(i?_s(e):Es(),(t=Ye)?(t=cN(t,er),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:Lr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},n=w2(t),n.return=e,e.child=n,Ht=e,Ye=null)):t=null,t===null)throw Xs(e);return Iv(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Es(),i=e.mode,o=pm({mode:"hidden",children:o},i),r=Ka(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=Ry(n),r.childLanes=Dy(t,a,n),e.memoizedState=Cy,vc(null,r)):(_s(e),dv(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(_s(e),e.flags&=-257,e=Ny(t,e,n)):e.memoizedState!==null?(Es(),e.child=t.child,e.flags|=128,e=null):(Es(),o=r.fallback,i=e.mode,r=pm({mode:"visible",children:r.children},i),o=Ka(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,ro(e,t.child,null,n),r=e.child,r.memoizedState=Ry(n),r.childLanes=Dy(t,a,n),e.memoizedState=Cy,e=vc(null,r));else if(_s(e),Iv(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(j(419)),r.stack="",r.digest=a,th({value:r,source:null,stack:null}),e=Ny(t,e,n)}else if(_t||tu(t,e,n,!1),a=(n&t.childLanes)!==0,_t||a){if(a=Ve,a!==null&&(r=ZR(a,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Eo(t,r),_n(a,t,r),NE;Av(o)||Em(),e=Ny(t,e,n)}else Av(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Ye=sr(o.nextSibling),Ht=e,Ee=!0,xs=null,er=!1,t!==null&&A2(e,t),e=dv(e,r.children),e.flags|=4096);return e}return i?(Es(),o=r.fallback,i=e.mode,l=t.child,c=l.sibling,r=Di(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=Di(c,o):(o=Ka(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,vc(null,r),r=e.child,o=t.child.memoizedState,o===null?o=Ry(n):(i=o.cachePool,i!==null?(l=yt._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=C2(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Dy(t,a,n),e.memoizedState=Cy,vc(t.child,r)):(_s(e),n=t.child,t=n.sibling,n=Di(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function dv(t,e){return e=pm({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function pm(t,e){return t=On(22,t,null,e),t.lanes=0,t}function Ny(t,e,n){return ro(e,t.child,null,n),t=dv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ib(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ev(t.return,e,n)}function My(t,e,n,r,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function ED(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=lt.current,o=(a&2)!==0;if(o?(a=a&1|2,e.flags|=128):a&=1,je(lt,a),Vt(t,e,r,n),r=Ee?eh:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ib(t,n,e);else if(t.tag===19)Ib(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),My(e,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}My(e,!0,n,null,s,r);break;case"together":My(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ws|=e.lanes,!(n&e.childLanes))if(t!==null){if(tu(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ME(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&um(t)))}function AL(t,e,n){switch(e.tag){case 3:nm(e,e.stateNode.containerInfo),vs(e,yt,t.memoizedState.cache),to();break;case 27:case 5:B0(e);break;case 4:nm(e,e.stateNode.containerInfo);break;case 10:vs(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,av(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(_s(e),e.flags|=128,null):n&e.child.childLanes?_D(t,e,n):(_s(e),t=Fi(t,e,n),t!==null?t.sibling:null);_s(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(tu(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return ED(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(lt,lt.current),r)break;return null;case 22:return e.lanes=0,vD(t,e,n,e.pendingProps);case 24:vs(e,yt,t.memoizedState.cache)}return Fi(t,e,n)}function TD(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)_t=!0;else{if(!ME(t,n)&&!(e.flags&128))return _t=!1,AL(t,e,n);_t=!!(t.flags&131072)}else _t=!1,Ee&&e.flags&1048576&&b2(e,eh,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=ja(e.elementType),e.type=t,typeof t=="function")uE(t)?(r=so(t,r),e.tag=1,e=bb(null,e,t,r,n)):(e.tag=0,e=fv(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===Z_){e.tag=11,e=_b(null,e,t,r,n);break e}else if(i===Q_){e.tag=14,e=Eb(null,e,t,r,n);break e}}throw e=H0(t)||t,Error(j(306,e,""))}}return e;case 0:return fv(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=so(r,e.pendingProps),bb(t,e,r,i,n);case 3:e:{if(nm(e,e.stateNode.containerInfo),t===null)throw Error(j(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,rv(t,e),Lc(e,r,null,n);var a=e.memoizedState;if(r=a.cache,vs(e,yt,r),r!==s.cache&&tv(e,[yt],n,!0),kc(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Ab(t,e,r,n);break e}else if(r!==i){i=Wn(Error(j(424)),e),th(i),e=Ab(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ye=sr(t.firstChild),Ht=e,Ee=!0,xs=null,er=!0,n=N2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(to(),r===i){e=Fi(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 26:return Rd(t,e),t===null?(n=$b(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ee||(n=e.type,t=e.pendingProps,r=bm(Os.current).createElement(n),r[Ut]=e,r[Sn]=t,Ft(r,n,t),Ot(r),e.stateNode=r):e.memoizedState=$b(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return B0(e),t===null&&Ee&&(r=e.stateNode=hN(e.type,e.pendingProps,Os.current),Ht=e,er=!0,i=Ye,fa(e.type)?(Cv=i,Ye=sr(r.firstChild)):Ye=i),Vt(t,e,e.pendingProps.children,n),Rd(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ee&&((i=r=Ye)&&(r=tV(r,e.type,e.pendingProps,er),r!==null?(e.stateNode=r,Ht=e,Ye=sr(r.firstChild),er=!1,i=!0):i=!1),i||Xs(e)),B0(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,wv(i,s)?r=null:a!==null&&wv(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=vE(t,e,pL,null,null,n),oh._currentValue=i),Rd(t,e),Vt(t,e,r,n),e.child;case 6:return t===null&&Ee&&((t=n=Ye)&&(n=nV(n,e.pendingProps,er),n!==null?(e.stateNode=n,Ht=e,Ye=null,t=!0):t=!1),t||Xs(e)),null;case 13:return _D(t,e,n);case 4:return nm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ro(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return _b(t,e,e.type,e.pendingProps,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,vs(e,e.type,r.value),Vt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,no(e),i=zt(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return Eb(t,e,e.type,e.pendingProps,n);case 15:return yD(t,e,e.type,e.pendingProps,n);case 19:return ED(t,e,n);case 31:return bL(t,e,n);case 22:return vD(t,e,n,e.pendingProps);case 24:return no(e),r=zt(yt),t===null?(i=dE(),i===null&&(i=Ve,s=fE(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},gE(e),vs(e,yt,i)):(t.lanes&n&&(rv(t,e),Lc(e,null,null,n),kc()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),vs(e,yt,r)):(r=s.cache,vs(e,yt,r),r!==i.cache&&tv(e,[yt],n,!0))),Vt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(j(156,e.tag))}function li(t){t.flags|=4}function Oy(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(qD())t.flags|=8192;else throw Qa=cm,mE}else t.flags&=-16777217}function Cb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!mN(e))if(qD())t.flags|=8192;else throw Qa=cm,mE}function $f(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?$R():536870912,t.lanes|=e,xl|=e)}function Wu(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IL(t,e,n){var r=e.pendingProps;switch(hE(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(e),null;case 1:return Fe(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ni(yt),Cl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ko(e)?li(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wy())),Fe(e),null;case 26:var i=e.type,s=e.memoizedState;return t===null?(li(e),s!==null?(Fe(e),Cb(e,s)):(Fe(e),Oy(e,i,null,r,n))):s?s!==t.memoizedState?(li(e),Fe(e),Cb(e,s)):(Fe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&li(e),Fe(e),Oy(e,i,t,r,n)),null;case 27:if(rm(e),n=Os.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&li(e);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Fe(e),null}t=Ur.current,ko(e)?nb(e):(t=hN(i,r,n),e.stateNode=t,li(e))}return Fe(e),null;case 5:if(rm(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&li(e);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Fe(e),null}if(s=Ur.current,ko(e))nb(e);else{var a=bm(Os.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s=typeof r.is=="string"?a.createElement(i,{is:r.is}):a.createElement(i)}}s[Ut]=e,s[Sn]=r;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(Ft(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&li(e)}}return Fe(e),Oy(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&li(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(t=Os.current,ko(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Ht,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Ut]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||oN(t.nodeValue,n)),t||Xs(e,!0)}else t=bm(t).createTextNode(r),t[Ut]=e,e.stateNode=t}return Fe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=ko(e),n!==null){if(t===null){if(!r)throw Error(j(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(557));t[Ut]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),t=!1}else n=wy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Nn(e),e):(Nn(e),null);if(e.flags&128)throw Error(j(558))}return Fe(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=ko(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[Ut]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),i=!1}else i=wy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Nn(e),e):(Nn(e),null)}return Nn(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),$f(e,e.updateQueue),Fe(e),null);case 4:return Cl(),t===null&&UE(e.stateNode.containerInfo),Fe(e),null;case 10:return Ni(e.type),Fe(e),null;case 19:if(xt(lt),r=e.memoizedState,r===null)return Fe(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)Wu(r,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=fm(t),s!==null){for(e.flags|=128,Wu(r,!1),t=s.updateQueue,e.updateQueue=t,$f(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)S2(n,t),n=n.sibling;return je(lt,lt.current&1|2),Ee&&vi(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Pn()>vm&&(e.flags|=128,i=!0,Wu(r,!1),e.lanes=4194304)}else{if(!i)if(t=fm(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,$f(e,t),Wu(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Ee)return Fe(e),null}else 2*Pn()-r.renderingStartTime>vm&&n!==536870912&&(e.flags|=128,i=!0,Wu(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Pn(),t.sibling=null,n=lt.current,je(lt,i?n&1|2:n&1),Ee&&vi(e,r.treeForkCount),t):(Fe(e),null);case 22:case 23:return Nn(e),pE(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Fe(e),e.subtreeFlags&6&&(e.flags|=8192)):Fe(e),n=e.updateQueue,n!==null&&$f(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&xt(Za),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ni(yt),Fe(e),null;case 25:return null;case 30:return null}throw Error(j(156,e.tag))}function CL(t,e){switch(hE(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ni(yt),Cl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return rm(e),null;case 31:if(e.memoizedState!==null){if(Nn(e),e.alternate===null)throw Error(j(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Nn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xt(lt),null;case 4:return Cl(),null;case 10:return Ni(e.type),null;case 22:case 23:return Nn(e),pE(),t!==null&&xt(Za),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ni(yt),null;case 25:return null;default:return null}}function SD(t,e){switch(hE(e),e.tag){case 3:Ni(yt),Cl();break;case 26:case 27:case 5:rm(e);break;case 4:Cl();break;case 31:e.memoizedState!==null&&Nn(e);break;case 13:Nn(e);break;case 19:xt(lt);break;case 10:Ni(e.type);break;case 22:case 23:Nn(e),pE(),t!==null&&xt(Za);break;case 24:Ni(yt)}}function Bh(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){Me(e,e.return,o)}}function Js(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(h){Me(i,l,h)}}}r=r.next}while(r!==s)}}catch(h){Me(e,e.return,h)}}function wD(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{O2(e,n)}catch(r){Me(t,t.return,r)}}}function bD(t,e,n){n.props=so(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Me(t,e,r)}}function Pc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Me(t,e,i)}}function Pr(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Me(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Me(t,e,i)}else n.current=null}function AD(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Me(t,t.return,i)}}function xy(t,e,n){try{var r=t.stateNode;ZL(r,t.type,n,e),r[Sn]=e}catch(i){Me(t,t.return,i)}}function ID(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fa(t.type)||t.tag===4}function ky(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ID(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wi));else if(r!==4&&(r===27&&fa(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(mv(t,e,n),t=t.sibling;t!==null;)mv(t,e,n),t=t.sibling}function ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&fa(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ym(t,e,n),t=t.sibling;t!==null;)ym(t,e,n),t=t.sibling}function CD(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ft(e,r,n),e[Ut]=t,e[Sn]=n}catch(s){Me(t,t.return,s)}}var Ei=!1,pt=!1,Ly=!1,Rb=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function RL(t,e){if(t=t.containerInfo,Tv=Rm,t=m2(t),aE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++c===i&&(o=a),d===s&&++h===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sv={focusedElem:t,selectionRange:n},Rm=!1,Mt=e;Mt!==null;)if(e=Mt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Mt=t;else for(;Mt!==null;){switch(e=Mt,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var y=so(n.type,i);t=r.getSnapshotBeforeUpdate(y,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(w){Me(n,n.return,w)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)bv(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bv(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(j(163))}if(t=e.sibling,t!==null){t.return=e.return,Mt=t;break}Mt=e.return}}function RD(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ci(t,n),r&4&&Bh(5,n);break;case 1:if(ci(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Me(n,n.return,a)}else{var i=so(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Me(n,n.return,a)}}r&64&&wD(n),r&512&&Pc(n,n.return);break;case 3:if(ci(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{O2(t,e)}catch(a){Me(n,n.return,a)}}break;case 27:e===null&&r&4&&CD(n);case 26:case 5:ci(t,n),e===null&&r&4&&AD(n),r&512&&Pc(n,n.return);break;case 12:ci(t,n);break;case 31:ci(t,n),r&4&&MD(t,n);break;case 13:ci(t,n),r&4&&OD(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=PL.bind(null,n),rV(t,n))));break;case 22:if(r=n.memoizedState!==null||Ei,!r){e=e!==null&&e.memoizedState!==null||pt,i=Ei;var s=pt;Ei=r,(pt=e)&&!s?pi(t,n,(n.subtreeFlags&8772)!==0):ci(t,n),Ei=i,pt=s}break;case 30:break;default:ci(t,n)}}function DD(t){var e=t.alternate;e!==null&&(t.alternate=null,DD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&eE(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ze=null,mn=!1;function ui(t,e,n){for(n=n.child;n!==null;)ND(t,e,n),n=n.sibling}function ND(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(kh,n)}catch{}switch(n.tag){case 26:pt||Pr(n,e),ui(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:pt||Pr(n,e);var r=Ze,i=mn;fa(n.type)&&(Ze=n.stateNode,mn=!1),ui(t,e,n),Bc(n.stateNode),Ze=r,mn=i;break;case 5:pt||Pr(n,e);case 6:if(r=Ze,i=mn,Ze=null,ui(t,e,n),Ze=r,mn=i,Ze!==null)if(mn)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(n.stateNode)}catch(s){Me(n,e,s)}else try{Ze.removeChild(n.stateNode)}catch(s){Me(n,e,s)}break;case 18:Ze!==null&&(mn?(t=Ze,Bb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Pl(t)):Bb(Ze,n.stateNode));break;case 4:r=Ze,i=mn,Ze=n.stateNode.containerInfo,mn=!0,ui(t,e,n),Ze=r,mn=i;break;case 0:case 11:case 14:case 15:Js(2,n,e),pt||Js(4,n,e),ui(t,e,n);break;case 1:pt||(Pr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&bD(n,e,r)),ui(t,e,n);break;case 21:ui(t,e,n);break;case 22:pt=(r=pt)||n.memoizedState!==null,ui(t,e,n),pt=r;break;default:ui(t,e,n)}}function MD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pl(t)}catch(n){Me(e,e.return,n)}}}function OD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(n){Me(e,e.return,n)}}function DL(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Rb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Rb),e;default:throw Error(j(435,t.tag))}}function Gf(t,e){var n=DL(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=UL.bind(null,t,r);r.then(i,i)}})}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(fa(o.type)){Ze=o.stateNode,mn=!1;break e}break;case 5:Ze=o.stateNode,mn=!1;break e;case 3:case 4:Ze=o.stateNode.containerInfo,mn=!0;break e}o=o.return}if(Ze===null)throw Error(j(160));ND(s,a,i),Ze=null,mn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)xD(e,t),e=e.sibling}var gr=null;function xD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(e,t),hn(t),r&4&&(Js(3,t,t.return),Bh(3,t),Js(5,t,t.return));break;case 1:cn(e,t),hn(t),r&512&&(pt||n===null||Pr(n,n.return)),r&64&&Ei&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=gr;if(cn(e,t),hn(t),r&512&&(pt||n===null||Pr(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Ph]||s[Ut]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Ft(s,r,n),s[Ut]=t,Ot(s),r=s;break e;case"link":var a=Kb("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),Ft(s,r,n),i.head.appendChild(s);break;case"meta":if(a=Kb("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),Ft(s,r,n),i.head.appendChild(s);break;default:throw Error(j(468,r))}s[Ut]=t,Ot(s),r=s}t.stateNode=r}else Zb(i,t.type,t.stateNode);else t.stateNode=Gb(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?Zb(i,t.type,t.stateNode):Gb(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&xy(t,t.memoizedProps,n.memoizedProps)}break;case 27:cn(e,t),hn(t),r&512&&(pt||n===null||Pr(n,n.return)),n!==null&&r&4&&xy(t,t.memoizedProps,n.memoizedProps);break;case 5:if(cn(e,t),hn(t),r&512&&(pt||n===null||Pr(n,n.return)),t.flags&32){i=t.stateNode;try{Dl(i,"")}catch(y){Me(t,t.return,y)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,xy(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Ly=!0);break;case 6:if(cn(e,t),hn(t),r&4){if(t.stateNode===null)throw Error(j(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(y){Me(t,t.return,y)}}break;case 3:if(Md=null,i=gr,gr=Am(e.containerInfo),cn(e,t),gr=i,hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(e.containerInfo)}catch(y){Me(t,t.return,y)}Ly&&(Ly=!1,kD(t));break;case 4:r=gr,gr=Am(t.stateNode.containerInfo),cn(e,t),hn(t),gr=r;break;case 12:cn(e,t),hn(t);break;case 31:cn(e,t),hn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gf(t,r)));break;case 13:cn(e,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Pg=Pn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gf(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Ei,h=pt;if(Ei=c||i,pt=h||l,cn(e,t),pt=h,Ei=c,hn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Ei||pt||Ba(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(s=l.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(y){Me(l,l.return,y)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(y){Me(l,l.return,y)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;i?zb(p,!0):zb(l.stateNode,!1)}catch(y){Me(l,l.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Gf(t,n))));break;case 19:cn(e,t),hn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gf(t,r)));break;case 30:break;case 21:break;default:cn(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(ID(r)){n=r;break}r=r.return}if(n==null)throw Error(j(160));switch(n.tag){case 27:var i=n.stateNode,s=ky(t);ym(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(Dl(a,""),n.flags&=-33);var o=ky(t);ym(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=ky(t);mv(t,c,l);break;default:throw Error(j(161))}}catch(h){Me(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kD(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;kD(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ci(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)RD(t,e.alternate,e),e=e.sibling}function Ba(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Js(4,e,e.return),Ba(e);break;case 1:Pr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&bD(e,e.return,n),Ba(e);break;case 27:Bc(e.stateNode);case 26:case 5:Pr(e,e.return),Ba(e);break;case 22:e.memoizedState===null&&Ba(e);break;case 30:Ba(e);break;default:Ba(e)}t=t.sibling}}function pi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:pi(i,s,n),Bh(4,s);break;case 1:if(pi(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Me(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)M2(l[i],o)}catch(c){Me(r,r.return,c)}}n&&a&64&&wD(s),Pc(s,s.return);break;case 27:CD(s);case 26:case 5:pi(i,s,n),n&&r===null&&a&4&&AD(s),Pc(s,s.return);break;case 12:pi(i,s,n);break;case 31:pi(i,s,n),n&&a&4&&MD(i,s);break;case 13:pi(i,s,n),n&&a&4&&OD(i,s);break;case 22:s.memoizedState===null&&pi(i,s,n),Pc(s,s.return);break;case 30:break;default:pi(i,s,n)}e=e.sibling}}function OE(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Hh(n))}function xE(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Hh(t))}function mr(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)LD(t,e,n,r),e=e.sibling}function LD(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:mr(t,e,n,r),i&2048&&Bh(9,e);break;case 1:mr(t,e,n,r);break;case 3:mr(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Hh(t)));break;case 12:if(i&2048){mr(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Me(e,e.return,l)}}else mr(t,e,n,r);break;case 31:mr(t,e,n,r);break;case 13:mr(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?mr(t,e,n,r):Uc(t,e):s._visibility&2?mr(t,e,n,r):(s._visibility|=2,qo(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&OE(a,e);break;case 24:mr(t,e,n,r),i&2048&&xE(e.alternate,e);break;default:mr(t,e,n,r)}}function qo(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:qo(s,a,o,l,i),Bh(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?qo(s,a,o,l,i):Uc(s,a):(h._visibility|=2,qo(s,a,o,l,i)),i&&c&2048&&OE(a.alternate,a);break;case 24:qo(s,a,o,l,i),i&&c&2048&&xE(a.alternate,a);break;default:qo(s,a,o,l,i)}e=e.sibling}}function Uc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Uc(n,r),i&2048&&OE(r.alternate,r);break;case 24:Uc(n,r),i&2048&&xE(r.alternate,r);break;default:Uc(n,r)}e=e.sibling}}var _c=8192;function Lo(t,e,n){if(t.subtreeFlags&_c)for(t=t.child;t!==null;)VD(t,e,n),t=t.sibling}function VD(t,e,n){switch(t.tag){case 26:Lo(t,e,n),t.flags&_c&&t.memoizedState!==null&&gV(n,gr,t.memoizedState,t.memoizedProps);break;case 5:Lo(t,e,n);break;case 3:case 4:var r=gr;gr=Am(t.stateNode.containerInfo),Lo(t,e,n),gr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=_c,_c=16777216,Lo(t,e,n),_c=r):Lo(t,e,n));break;default:Lo(t,e,n)}}function PD(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ec(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Mt=r,HD(r,t)}PD(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)UD(t),t=t.sibling}function UD(t){switch(t.tag){case 0:case 11:case 15:ec(t),t.flags&2048&&Js(9,t,t.return);break;case 3:ec(t);break;case 12:ec(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Dd(t)):ec(t);break;default:ec(t)}}function Dd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Mt=r,HD(r,t)}PD(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Js(8,e,e.return),Dd(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Dd(e));break;default:Dd(e)}t=t.sibling}}function HD(t,e){for(;Mt!==null;){var n=Mt;switch(n.tag){case 0:case 11:case 15:Js(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Hh(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Mt=r;else e:for(n=t;Mt!==null;){r=Mt;var i=r.sibling,s=r.return;if(DD(r),r===n){Mt=null;break e}if(i!==null){i.return=s,Mt=i;break e}Mt=s}}}var NL={getCacheForType:function(t){var e=zt(yt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return zt(yt).controller.signal}},ML=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Ve=null,de=null,ye=0,Ne=0,Dn=null,Rs=!1,ru=!1,kE=!1,Yi=0,it=0,Ws=0,Xa=0,LE=0,kn=0,xl=0,Hc=null,pn=null,gv=!1,Pg=0,jD=0,vm=1/0,_m=null,Vs=null,bt=0,Ps=null,kl=null,Mi=0,pv=0,yv=null,BD=null,jc=0,vv=null;function jn(){return Ie&2&&ye!==0?ye&-ye:te.T!==null?PE():QR()}function zD(){if(kn===0)if(!(ye&536870912)||Ee){var t=Hf;Hf<<=1,!(Hf&3932160)&&(Hf=262144),kn=t}else kn=536870912;return t=Fn.current,t!==null&&(t.flags|=32),kn}function _n(t,e,n){(t===Ve&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)&&(Ll(t,0),Ds(t,ye,kn,!1)),Vh(t,n),(!(Ie&2)||t!==Ve)&&(t===Ve&&(!(Ie&2)&&(Xa|=n),it===4&&Ds(t,ye,kn,!1)),Jr(t))}function FD(t,e,n){if(Ie&6)throw Error(j(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Lh(t,e),i=r?kL(t,e):Vy(t,e,!0),s=r;do{if(i===0){ru&&!r&&Ds(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!OL(n)){i=Vy(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=Hc;var l=o.current.memoizedState.isDehydrated;if(l&&(Ll(o,a).flags|=256),a=Vy(o,a,!1),a!==2){if(kE&&!l){o.errorRecoveryDisabledLanes|=s,Xa|=s,i=4;break e}s=pn,pn=i,s!==null&&(pn===null?pn=s:pn.push.apply(pn,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Ll(t,0),Ds(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(j(345));case 4:if((e&4194048)!==e)break;case 6:Ds(r,e,kn,!Rs);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(j(329))}if((e&62914560)===e&&(i=Pg+300-Pn(),10<i)){if(Ds(r,e,kn,!Rs),Ig(r,0,!0)!==0)break e;Mi=e,r.timeoutHandle=uN(Db.bind(null,r,n,pn,_m,gv,e,kn,Xa,xl,Rs,s,"Throttled",-0,0),i);break e}Db(r,n,pn,_m,gv,e,kn,Xa,xl,Rs,s,null,-0,0)}}break}while(!0);Jr(t)}function Db(t,e,n,r,i,s,a,o,l,c,h,f,d,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wi},VD(e,s,f);var y=(s&62914560)===s?Pg-Pn():(s&4194048)===s?jD-Pn():0;if(y=pV(f,y),y!==null){Mi=s,t.cancelPendingCommit=y(Mb.bind(null,t,e,s,n,r,i,a,o,l,h,f,null,d,p)),Ds(t,s,a,!c);return}}Mb(t,e,s,n,r,i,a,o,l)}function OL(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zn(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ds(t,e,n,r){e&=~LE,e&=~Xa,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-Hn(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&GR(t,n,e)}function Ug(){return Ie&6?!0:(zh(0),!1)}function VE(){if(de!==null){if(Ne===0)var t=de.return;else t=de,bi=To=null,TE(t),pl=null,nh=0,t=de;for(;t!==null;)SD(t.alternate,t),t=t.return;de=null}}function Ll(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,JL(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Mi=0,VE(),Ve=t,de=n=Di(t.current,null),ye=e,Ne=0,Dn=null,Rs=!1,ru=Lh(t,e),kE=!1,xl=kn=LE=Xa=Ws=it=0,pn=Hc=null,gv=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Hn(r),s=1<<i;e|=t[i],r&=~s}return Yi=e,Ng(),n}function YD(t,e){le=null,te.H=ih,e===nu||e===Og?(e=ob(),Ne=3):e===mE?(e=ob(),Ne=4):Ne=e===NE?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Dn=e,de===null&&(it=1,gm(t,Wn(e,t.current)))}function qD(){var t=Fn.current;return t===null?!0:(ye&4194048)===ye?ir===null:(ye&62914560)===ye||ye&536870912?t===ir:!1}function $D(){var t=te.H;return te.H=ih,t===null?ih:t}function GD(){var t=te.A;return te.A=NL,t}function Em(){it=4,Rs||(ye&4194048)!==ye&&Fn.current!==null||(ru=!0),!(Ws&134217727)&&!(Xa&134217727)||Ve===null||Ds(Ve,ye,kn,!1)}function Vy(t,e,n){var r=Ie;Ie|=2;var i=$D(),s=GD();(Ve!==t||ye!==e)&&(_m=null,Ll(t,e)),e=!1;var a=it;e:do try{if(Ne!==0&&de!==null){var o=de,l=Dn;switch(Ne){case 8:VE(),a=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(e=!0);var c=Ne;if(Ne=0,Dn=null,ll(t,o,l,c),n&&ru){a=0;break e}break;default:c=Ne,Ne=0,Dn=null,ll(t,o,l,c)}}xL(),a=it;break}catch(h){YD(t,h)}while(!0);return e&&t.shellSuspendCounter++,bi=To=null,Ie=r,te.H=i,te.A=s,de===null&&(Ve=null,ye=0,Ng()),a}function xL(){for(;de!==null;)KD(de)}function kL(t,e){var n=Ie;Ie|=2;var r=$D(),i=GD();Ve!==t||ye!==e?(_m=null,vm=Pn()+500,Ll(t,e)):ru=Lh(t,e);e:do try{if(Ne!==0&&de!==null){e=de;var s=Dn;t:switch(Ne){case 1:Ne=0,Dn=null,ll(t,e,s,1);break;case 2:case 9:if(ab(s)){Ne=0,Dn=null,Nb(e);break}e=function(){Ne!==2&&Ne!==9||Ve!==t||(Ne=7),Jr(t)},s.then(e,e);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:ab(s)?(Ne=0,Dn=null,Nb(e)):(Ne=0,Dn=null,ll(t,e,s,7));break;case 5:var a=null;switch(de.tag){case 26:a=de.memoizedState;case 5:case 27:var o=de;if(a?mN(a):o.stateNode.complete){Ne=0,Dn=null;var l=o.sibling;if(l!==null)de=l;else{var c=o.return;c!==null?(de=c,Hg(c)):de=null}break t}}Ne=0,Dn=null,ll(t,e,s,5);break;case 6:Ne=0,Dn=null,ll(t,e,s,6);break;case 8:VE(),it=6;break e;default:throw Error(j(462))}}LL();break}catch(h){YD(t,h)}while(!0);return bi=To=null,te.H=r,te.A=i,Ie=n,de!==null?0:(Ve=null,ye=0,Ng(),it)}function LL(){for(;de!==null&&!i6();)KD(de)}function KD(t){var e=TD(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,e===null?Hg(t):de=e}function Nb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=wb(n,e,e.pendingProps,e.type,void 0,ye);break;case 11:e=wb(n,e,e.pendingProps,e.type.render,e.ref,ye);break;case 5:TE(e);default:SD(n,e),e=de=S2(e,Yi),e=TD(n,e,Yi)}t.memoizedProps=t.pendingProps,e===null?Hg(t):de=e}function ll(t,e,n,r){bi=To=null,TE(e),pl=null,nh=0;var i=e.return;try{if(wL(t,i,e,n,ye)){it=1,gm(t,Wn(n,t.current)),de=null;return}}catch(s){if(i!==null)throw de=i,s;it=1,gm(t,Wn(n,t.current)),de=null;return}e.flags&32768?(Ee||r===1?t=!0:ru||ye&536870912?t=!1:(Rs=t=!0,(r===2||r===9||r===3||r===6)&&(r=Fn.current,r!==null&&r.tag===13&&(r.flags|=16384))),ZD(e,t)):Hg(e)}function Hg(t){var e=t;do{if(e.flags&32768){ZD(e,Rs);return}t=e.return;var n=IL(e.alternate,e,Yi);if(n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);it===0&&(it=5)}function ZD(t,e){do{var n=CL(t.alternate,t);if(n!==null){n.flags&=32767,de=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){de=t;return}de=t=n}while(t!==null);it=6,de=null}function Mb(t,e,n,r,i,s,a,o,l){t.cancelPendingCommit=null;do jg();while(bt!==0);if(Ie&6)throw Error(j(327));if(e!==null){if(e===t.current)throw Error(j(177));if(s=e.lanes|e.childLanes,s|=oE,m6(t,n,s,a,o,l),t===Ve&&(de=Ve=null,ye=0),kl=e,Ps=t,Mi=n,pv=s,yv=i,BD=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,HL(im,function(){return eN(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=te.T,te.T=null,i=Ce.p,Ce.p=2,a=Ie,Ie|=4;try{RL(t,e,n)}finally{Ie=a,Ce.p=i,te.T=r}}bt=1,QD(),XD(),JD()}}function QD(){if(bt===1){bt=0;var t=Ps,e=kl,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=te.T,te.T=null;var r=Ce.p;Ce.p=2;var i=Ie;Ie|=4;try{xD(e,t);var s=Sv,a=m2(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&d2(o.ownerDocument.documentElement,o)){if(l!==null&&aE(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var p=d.getSelection(),y=o.textContent.length,w=Math.min(l.start,y),C=l.end===void 0?w:Math.min(l.end,y);!p.extend&&w>C&&(a=C,C=w,w=a);var v=Ww(o,w),_=Ww(o,C);if(v&&_&&(p.rangeCount!==1||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==_.node||p.focusOffset!==_.offset)){var A=f.createRange();A.setStart(v.node,v.offset),p.removeAllRanges(),w>C?(p.addRange(A),p.extend(_.node,_.offset)):(A.setEnd(_.node,_.offset),p.addRange(A))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var M=f[o];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Rm=!!Tv,Sv=Tv=null}finally{Ie=i,Ce.p=r,te.T=n}}t.current=e,bt=2}}function XD(){if(bt===2){bt=0;var t=Ps,e=kl,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=te.T,te.T=null;var r=Ce.p;Ce.p=2;var i=Ie;Ie|=4;try{RD(t,e.alternate,e)}finally{Ie=i,Ce.p=r,te.T=n}}bt=3}}function JD(){if(bt===4||bt===3){bt=0,s6();var t=Ps,e=kl,n=Mi,r=BD;e.subtreeFlags&10256||e.flags&10256?bt=5:(bt=0,kl=Ps=null,WD(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Vs=null),W_(n),e=e.stateNode,Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(kh,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=te.T,i=Ce.p,Ce.p=2,te.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{te.T=e,Ce.p=i}}Mi&3&&jg(),Jr(t),i=t.pendingLanes,n&261930&&i&42?t===vv?jc++:(jc=0,vv=t):jc=0,zh(0)}}function WD(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Hh(e)))}function jg(){return QD(),XD(),JD(),eN()}function eN(){if(bt!==5)return!1;var t=Ps,e=pv;pv=0;var n=W_(Mi),r=te.T,i=Ce.p;try{Ce.p=32>n?32:n,te.T=null,n=yv,yv=null;var s=Ps,a=Mi;if(bt=0,kl=Ps=null,Mi=0,Ie&6)throw Error(j(331));var o=Ie;if(Ie|=4,UD(s.current),LD(s,s.current,a,n),Ie=o,zh(0,!1),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(kh,s)}catch{}return!0}finally{Ce.p=i,te.T=r,WD(t,e)}}function Ob(t,e,n){e=Wn(n,e),e=hv(t.stateNode,e,2),t=Ls(t,e,2),t!==null&&(Vh(t,2),Jr(t))}function Me(t,e,n){if(t.tag===3)Ob(t,t,n);else for(;e!==null;){if(e.tag===3){Ob(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=Wn(n,t),n=gD(2),r=Ls(e,n,2),r!==null&&(pD(n,r,e,t),Vh(r,2),Jr(r));break}}e=e.return}}function Py(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ML;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(kE=!0,i.add(n),t=VL.bind(null,t,e,n),e.then(t,t))}function VL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ve===t&&(ye&n)===n&&(it===4||it===3&&(ye&62914560)===ye&&300>Pn()-Pg?!(Ie&2)&&Ll(t,0):LE|=n,xl===ye&&(xl=0)),Jr(t)}function tN(t,e){e===0&&(e=$R()),t=Eo(t,e),t!==null&&(Vh(t,e),Jr(t))}function PL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tN(t,n)}function UL(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(j(314))}r!==null&&r.delete(e),tN(t,n)}function HL(t,e){return X_(t,e)}var Tm=null,$o=null,_v=!1,Sm=!1,Uy=!1,Ns=0;function Jr(t){t!==$o&&t.next===null&&($o===null?Tm=$o=t:$o=$o.next=t),Sm=!0,_v||(_v=!0,BL())}function zh(t,e){if(!Uy&&Sm){Uy=!0;do for(var n=!1,r=Tm;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-Hn(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,xb(r,s))}else s=ye,s=Ig(r,r===Ve?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||Lh(r,s)||(n=!0,xb(r,s));r=r.next}while(n);Uy=!1}}function jL(){nN()}function nN(){Sm=_v=!1;var t=0;Ns!==0&&XL()&&(t=Ns);for(var e=Pn(),n=null,r=Tm;r!==null;){var i=r.next,s=rN(r,e);s===0?(r.next=null,n===null?Tm=i:n.next=i,i===null&&($o=n)):(n=r,(t!==0||s&3)&&(Sm=!0)),r=i}bt!==0&&bt!==5||zh(t),Ns!==0&&(Ns=0)}function rN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Hn(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=d6(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=Ve,n=ye,n=Ig(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&fy(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Lh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&fy(r),W_(n)){case 2:case 8:n=YR;break;case 32:n=im;break;case 268435456:n=qR;break;default:n=im}return r=iN.bind(null,t),n=X_(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&fy(r),t.callbackPriority=2,t.callbackNode=null,2}function iN(t,e){if(bt!==0&&bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(jg()&&t.callbackNode!==n)return null;var r=ye;return r=Ig(t,t===Ve?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(FD(t,r,e),rN(t,Pn()),t.callbackNode!=null&&t.callbackNode===n?iN.bind(null,t):null)}function xb(t,e){if(jg())return null;FD(t,e,!0)}function BL(){WL(function(){Ie&6?X_(FR,jL):nN()})}function PE(){if(Ns===0){var t=Nl;t===0&&(t=Uf,Uf<<=1,!(Uf&261888)&&(Uf=256)),Ns=t}return Ns}function kb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ed(""+t)}function Lb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function zL(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=kb((i[Sn]||null).action),a=r.submitter;a&&(e=(e=a[Sn]||null)?kb(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new Cg("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ns!==0){var l=a?Lb(i,a):new FormData(i);uv(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?Lb(i,a):new FormData(i),uv(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var Hy=0;Hy<X0.length;Hy++){var jy=X0[Hy],FL=jy.toLowerCase(),YL=jy[0].toUpperCase()+jy.slice(1);Tr(FL,"on"+YL)}Tr(p2,"onAnimationEnd");Tr(y2,"onAnimationIteration");Tr(v2,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(aL,"onTransitionRun");Tr(oL,"onTransitionStart");Tr(lL,"onTransitionCancel");Tr(_2,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sh));function sN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(h){am(h)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(h){am(h)}i.currentTarget=null,s=l}}}}function fe(t,e){var n=e[F0];n===void 0&&(n=e[F0]=new Set);var r=t+"__bubble";n.has(r)||(aN(e,t,2,!1),n.add(r))}function By(t,e,n){var r=0;e&&(r|=4),aN(n,t,r,e)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function UE(t){if(!t[Kf]){t[Kf]=!0,XR.forEach(function(n){n!=="selectionchange"&&(qL.has(n)||By(n,!1,t),By(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kf]||(e[Kf]=!0,By("selectionchange",!1,e))}}function aN(t,e,n,r){switch(_N(e)){case 2:var i=_V;break;case 8:i=EV;break;default:i=zE}n=i.bind(null,e,n,t),i=void 0,!K0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=Wo(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=s=a;continue e}o=o.parentNode}}r=r.return}s2(function(){var c=s,h=nE(n),f=[];e:{var d=E2.get(t);if(d!==void 0){var p=Cg,y=t;switch(t){case"keypress":if(Sd(n)===0)break e;case"keydown":case"keyup":p=U6;break;case"focusin":y="focus",p=yy;break;case"focusout":y="blur",p=yy;break;case"beforeblur":case"afterblur":p=yy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=I6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=B6;break;case p2:case y2:case v2:p=D6;break;case _2:p=F6;break;case"scroll":case"scrollend":p=b6;break;case"wheel":p=q6;break;case"copy":case"cut":case"paste":p=M6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=qw;break;case"toggle":case"beforetoggle":p=G6}var w=(e&4)!==0,C=!w&&(t==="scroll"||t==="scrollend"),v=w?d!==null?d+"Capture":null:d;w=[];for(var _=c,A;_!==null;){var M=_;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||v===null||(M=Xc(_,v),M!=null&&w.push(ah(_,M,A))),C)break;_=_.return}0<w.length&&(d=new p(d,y,null,n,h),f.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==G0&&(y=n.relatedTarget||n.fromElement)&&(Wo(y)||y[Wl]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Wo(y):null,y!==null&&(C=xh(y),w=y.tag,y!==C||w!==5&&w!==27&&w!==6)&&(y=null)):(p=null,y=c),p!==y)){if(w=Fw,M="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=qw,M="onPointerLeave",v="onPointerEnter",_="pointer"),C=p==null?d:yc(p),A=y==null?d:yc(y),d=new w(M,_+"leave",p,n,h),d.target=C,d.relatedTarget=A,M=null,Wo(h)===c&&(w=new w(v,_+"enter",y,n,h),w.target=A,w.relatedTarget=C,M=w),C=M,p&&y)t:{for(w=$L,v=p,_=y,A=0,M=v;M;M=w(M))A++;M=0;for(var V=_;V;V=w(V))M++;for(;0<A-M;)v=w(v),A--;for(;0<M-A;)_=w(_),M--;for(;A--;){if(v===_||_!==null&&v===_.alternate){w=v;break t}v=w(v),_=w(_)}w=null}else w=null;p!==null&&Vb(f,d,p,w,!1),y!==null&&C!==null&&Vb(f,C,y,w,!0)}}e:{if(d=c?yc(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var k=Zw;else if(Kw(d))if(h2)k=rL;else{k=tL;var S=eL}else p=d.nodeName,!p||p.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&tE(c.elementType)&&(k=Zw):k=nL;if(k&&(k=k(t,c))){c2(f,k,n,h);break e}S&&S(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&$0(d,"number",d.value)}switch(S=c?yc(c):window,t){case"focusin":(Kw(S)||S.contentEditable==="true")&&(nl=S,Z0=c,Mc=null);break;case"focusout":Mc=Z0=nl=null;break;case"mousedown":Q0=!0;break;case"contextmenu":case"mouseup":case"dragend":Q0=!1,eb(f,n,h);break;case"selectionchange":if(sL)break;case"keydown":case"keyup":eb(f,n,h)}var T;if(sE)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else tl?l2(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(o2&&n.locale!=="ko"&&(tl||E!=="onCompositionStart"?E==="onCompositionEnd"&&tl&&(T=a2()):(Cs=h,rE="value"in Cs?Cs.value:Cs.textContent,tl=!0)),S=wm(c,E),0<S.length&&(E=new Yw(E,t,null,n,h),f.push({event:E,listeners:S}),T?E.data=T:(T=u2(n),T!==null&&(E.data=T)))),(T=Z6?Q6(t,n):X6(t,n))&&(E=wm(c,"onBeforeInput"),0<E.length&&(S=new Yw("onBeforeInput","beforeinput",null,n,h),f.push({event:S,listeners:E}),S.data=T)),zL(f,t,c,n,h)}sN(f,e)})}function ah(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Xc(t,n),i!=null&&r.unshift(ah(t,i,s)),i=Xc(t,e),i!=null&&r.push(ah(t,i,s))),t.tag===3)return r;t=t.return}return[]}function $L(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vb(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=Xc(n,s),c!=null&&a.unshift(ah(n,c,l))):i||(c=Xc(n,s),c!=null&&a.push(ah(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var GL=/\r\n?/g,KL=/\u0000|\uFFFD/g;function Pb(t){return(typeof t=="string"?t:""+t).replace(GL,`
`).replace(KL,"")}function oN(t,e){return e=Pb(e),Pb(t)===e}function Oe(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Dl(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Dl(t,""+r);break;case"className":Bf(t,"class",r);break;case"tabIndex":Bf(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Bf(t,n,r);break;case"style":i2(t,r,s);break;case"data":if(e!=="object"){Bf(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Ed(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Oe(t,e,"name",i.name,i,null),Oe(t,e,"formEncType",i.formEncType,i,null),Oe(t,e,"formMethod",i.formMethod,i,null),Oe(t,e,"formTarget",i.formTarget,i,null)):(Oe(t,e,"encType",i.encType,i,null),Oe(t,e,"method",i.method,i,null),Oe(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Ed(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=wi);break;case"onScroll":r!=null&&fe("scroll",t);break;case"onScrollEnd":r!=null&&fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(j(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(j(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Ed(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":fe("beforetoggle",t),fe("toggle",t),_d(t,"popover",r);break;case"xlinkActuate":oi(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":oi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":oi(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":oi(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":oi(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":oi(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":oi(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":oi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":oi(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":_d(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=S6.get(n)||n,_d(t,n,r))}}function Ev(t,e,n,r,i,s){switch(n){case"style":i2(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(j(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(j(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Dl(t,r):(typeof r=="number"||typeof r=="bigint")&&Dl(t,""+r);break;case"onScroll":r!=null&&fe("scroll",t);break;case"onScrollEnd":r!=null&&fe("scrollend",t);break;case"onClick":r!=null&&(t.onclick=wi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!JR.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[Sn]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):_d(t,n,r)}}}function Ft(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",t),fe("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,e));default:Oe(t,e,s,a,n,null)}}i&&Oe(t,e,"srcSet",n.srcSet,n,null),r&&Oe(t,e,"src",n.src,n,null);return;case"input":fe("invalid",t);var o=s=a=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(j(137,e));break;default:Oe(t,e,r,h,n,null)}}t2(t,s,o,l,c,a,i,!1);return;case"select":fe("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:Oe(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?dl(t,!!r,e,!1):n!=null&&dl(t,!!r,n,!0);return;case"textarea":fe("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(j(91));break;default:Oe(t,e,a,o,n,null)}r2(t,r,i,s);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Oe(t,e,l,r,n,null)}return;case"dialog":fe("beforetoggle",t),fe("toggle",t),fe("cancel",t),fe("close",t);break;case"iframe":case"object":fe("load",t);break;case"video":case"audio":for(r=0;r<sh.length;r++)fe(sh[r],t);break;case"image":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"embed":case"source":case"link":fe("error",t),fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,e));default:Oe(t,e,c,r,n,null)}return;default:if(tE(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&Ev(t,e,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Oe(t,e,o,r,n,null))}function ZL(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,c=null,h=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||Oe(t,e,p,null,r,f)}}for(var d in r){var p=r[d];if(f=n[d],r.hasOwnProperty(d)&&(p!=null||f!=null))switch(d){case"type":s=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(j(137,e));break;default:p!==f&&Oe(t,e,d,p,r,f)}}q0(t,a,o,l,c,h,s,i);return;case"select":p=a=o=d=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(s)||Oe(t,e,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":d=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&Oe(t,e,i,s,r,l)}e=o,n=a,r=p,d!=null?dl(t,!!n,d,!1):!!r!=!!n&&(e!=null?dl(t,!!n,e,!0):dl(t,!!n,n?[]:"",!1));return;case"textarea":p=d=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Oe(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":d=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(j(91));break;default:i!==s&&Oe(t,e,a,i,r,s)}n2(t,d,p);return;case"option":for(var y in n)if(d=n[y],n.hasOwnProperty(y)&&d!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:Oe(t,e,y,null,r,d)}for(l in r)if(d=r[l],p=n[l],r.hasOwnProperty(l)&&d!==p&&(d!=null||p!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Oe(t,e,l,d,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in n)d=n[w],n.hasOwnProperty(w)&&d!=null&&!r.hasOwnProperty(w)&&Oe(t,e,w,null,r,d);for(c in r)if(d=r[c],p=n[c],r.hasOwnProperty(c)&&d!==p&&(d!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(j(137,e));break;default:Oe(t,e,c,d,r,p)}return;default:if(tE(e)){for(var C in n)d=n[C],n.hasOwnProperty(C)&&d!==void 0&&!r.hasOwnProperty(C)&&Ev(t,e,C,void 0,r,d);for(h in r)d=r[h],p=n[h],!r.hasOwnProperty(h)||d===p||d===void 0&&p===void 0||Ev(t,e,h,d,r,p);return}}for(var v in n)d=n[v],n.hasOwnProperty(v)&&d!=null&&!r.hasOwnProperty(v)&&Oe(t,e,v,null,r,d);for(f in r)d=r[f],p=n[f],!r.hasOwnProperty(f)||d===p||d==null&&p==null||Oe(t,e,f,d,r,p)}function Ub(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QL(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,o=i.duration;if(s&&o&&Ub(a)){for(a=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var h=l.transferSize,f=l.initiatorType;h&&Ub(f)&&(l=l.responseEnd,a+=h*(l<o?1:(o-c)/(l-c)))}if(--r,e+=8*(s+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Tv=null,Sv=null;function bm(t){return t.nodeType===9?t:t.ownerDocument}function Hb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lN(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function wv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fy=null;function XL(){var t=window.event;return t&&t.type==="popstate"?t===Fy?!1:(Fy=t,!0):(Fy=null,!1)}var uN=typeof setTimeout=="function"?setTimeout:void 0,JL=typeof clearTimeout=="function"?clearTimeout:void 0,jb=typeof Promise=="function"?Promise:void 0,WL=typeof queueMicrotask=="function"?queueMicrotask:typeof jb<"u"?function(t){return jb.resolve(null).then(t).catch(eV)}:uN;function eV(t){setTimeout(function(){throw t})}function fa(t){return t==="head"}function Bb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Pl(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Bc(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Bc(n);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[Ph]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&Bc(t.ownerDocument.body);n=i}while(n);Pl(e)}function zb(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function bv(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":bv(n),eE(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function tV(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ph])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=sr(t.nextSibling),t===null)break}return null}function nV(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=sr(t.nextSibling),t===null))return null;return t}function cN(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=sr(t.nextSibling),t===null))return null;return t}function Av(t){return t.data==="$?"||t.data==="$~"}function Iv(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rV(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Cv=null;function Fb(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return sr(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Yb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function hN(t,e,n){switch(e=bm(n),t){case"html":if(t=e.documentElement,!t)throw Error(j(452));return t;case"head":if(t=e.head,!t)throw Error(j(453));return t;case"body":if(t=e.body,!t)throw Error(j(454));return t;default:throw Error(j(451))}}function Bc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);eE(t)}var or=new Map,qb=new Set;function Am(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=Ce.d;Ce.d={f:iV,r:sV,D:aV,C:oV,L:lV,m:uV,X:hV,S:cV,M:fV};function iV(){var t=Ji.f(),e=Ug();return t||e}function sV(t){var e=eu(t);e!==null&&e.tag===5&&e.type==="form"?iD(e):Ji.r(t)}var iu=typeof document>"u"?null:document;function fN(t,e,n){var r=iu;if(r&&typeof e=="string"&&e){var i=Jn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),qb.has(i)||(qb.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Ft(e,"link",t),Ot(e),r.head.appendChild(e)))}}function aV(t){Ji.D(t),fN("dns-prefetch",t,null)}function oV(t,e){Ji.C(t,e),fN("preconnect",t,e)}function lV(t,e,n){Ji.L(t,e,n);var r=iu;if(r&&t&&e){var i='link[rel="preload"][as="'+Jn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Jn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Jn(n.imageSizes)+'"]')):i+='[href="'+Jn(t)+'"]';var s=i;switch(e){case"style":s=Vl(t);break;case"script":s=su(t)}or.has(s)||(t=Ke({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),or.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Fh(s))||e==="script"&&r.querySelector(Yh(s))||(e=r.createElement("link"),Ft(e,"link",t),Ot(e),r.head.appendChild(e)))}}function uV(t,e){Ji.m(t,e);var n=iu;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Jn(r)+'"][href="'+Jn(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=su(t)}if(!or.has(s)&&(t=Ke({rel:"modulepreload",href:t},e),or.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yh(s)))return}r=n.createElement("link"),Ft(r,"link",t),Ot(r),n.head.appendChild(r)}}}function cV(t,e,n){Ji.S(t,e,n);var r=iu;if(r&&t){var i=fl(r).hoistableStyles,s=Vl(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Fh(s)))o.loading=5;else{t=Ke({rel:"stylesheet",href:t,"data-precedence":e},n),(n=or.get(s))&&HE(t,n);var l=a=r.createElement("link");Ot(l),Ft(l,"link",t),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Nd(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function hV(t,e){Ji.X(t,e);var n=iu;if(n&&t){var r=fl(n).hoistableScripts,i=su(t),s=r.get(i);s||(s=n.querySelector(Yh(i)),s||(t=Ke({src:t,async:!0},e),(e=or.get(i))&&jE(t,e),s=n.createElement("script"),Ot(s),Ft(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function fV(t,e){Ji.M(t,e);var n=iu;if(n&&t){var r=fl(n).hoistableScripts,i=su(t),s=r.get(i);s||(s=n.querySelector(Yh(i)),s||(t=Ke({src:t,async:!0,type:"module"},e),(e=or.get(i))&&jE(t,e),s=n.createElement("script"),Ot(s),Ft(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function $b(t,e,n,r){var i=(i=Os.current)?Am(i):null;if(!i)throw Error(j(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Vl(n.href),n=fl(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Vl(n.href);var s=fl(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(Fh(t)))&&!s._p&&(a.instance=s,a.state.loading=5),or.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},or.set(t,n),s||dV(i,t,n,a.state))),e&&r===null)throw Error(j(528,""));return a}if(e&&r!==null)throw Error(j(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=su(n),n=fl(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,t))}}function Vl(t){return'href="'+Jn(t)+'"'}function Fh(t){return'link[rel="stylesheet"]['+t+"]"}function dN(t){return Ke({},t,{"data-precedence":t.precedence,precedence:null})}function dV(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ft(e,"link",n),Ot(e),t.head.appendChild(e))}function su(t){return'[src="'+Jn(t)+'"]'}function Yh(t){return"script[async]"+t}function Gb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Jn(n.href)+'"]');if(r)return e.instance=r,Ot(r),r;var i=Ke({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Ot(r),Ft(r,"style",i),Nd(r,n.precedence,t),e.instance=r;case"stylesheet":i=Vl(n.href);var s=t.querySelector(Fh(i));if(s)return e.state.loading|=4,e.instance=s,Ot(s),s;r=dN(n),(i=or.get(i))&&HE(r,i),s=(t.ownerDocument||t).createElement("link"),Ot(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Ft(s,"link",r),e.state.loading|=4,Nd(s,n.precedence,t),e.instance=s;case"script":return s=su(n.src),(i=t.querySelector(Yh(s)))?(e.instance=i,Ot(i),i):(r=n,(i=or.get(s))&&(r=Ke({},n),jE(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Ot(i),Ft(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(j(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Nd(r,n.precedence,t));return e.instance}function Nd(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function HE(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function jE(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Md=null;function Kb(t,e,n){if(Md===null){var r=new Map,i=Md=new Map;i.set(n,r)}else i=Md,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[Ph]||s[Ut]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Zb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function mV(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function mN(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function gV(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Vl(r.href),s=e.querySelector(Fh(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Im.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,Ot(s);return}s=e.ownerDocument||e,r=dN(r),(i=or.get(i))&&HE(r,i),s=s.createElement("link"),Ot(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Ft(s,"link",r),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Im.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Yy=0;function pV(t,e){return t.stylesheets&&t.count===0&&Od(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Od(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Yy===0&&(Yy=62500*QL());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Od(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Yy?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Im(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cm=null;function Od(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cm=new Map,e.forEach(yV,t),Cm=null,Im.call(t))}function yV(t,e){if(!(e.state.loading&4)){var n=Cm.get(t);if(n)var r=n.get(null);else{n=new Map,Cm.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=Im.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var oh={$$typeof:Si,Provider:null,Consumer:null,_currentValue:Ga,_currentValue2:Ga,_threadCount:0};function vV(t,e,n,r,i,s,a,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dy(0),this.hiddenUpdates=dy(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function gN(t,e,n,r,i,s,a,o,l,c,h,f){return t=new vV(t,e,n,a,l,c,h,f,o),e=1,s===!0&&(e|=24),s=On(3,null,null,e),t.current=s,s.stateNode=t,e=fE(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},gE(s),t}function pN(t){return t?(t=sl,t):sl}function yN(t,e,n,r,i,s){i=pN(i),r.context===null?r.context=i:r.pendingContext=i,r=ks(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Ls(t,r,e),n!==null&&(_n(n,t,e),xc(n,t,e))}function Qb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function BE(t,e){Qb(t,e),(t=t.alternate)&&Qb(t,e)}function vN(t){if(t.tag===13||t.tag===31){var e=Eo(t,67108864);e!==null&&_n(e,t,67108864),BE(t,67108864)}}function Xb(t){if(t.tag===13||t.tag===31){var e=jn();e=J_(e);var n=Eo(t,e);n!==null&&_n(n,t,e),BE(t,e)}}var Rm=!0;function _V(t,e,n,r){var i=te.T;te.T=null;var s=Ce.p;try{Ce.p=2,zE(t,e,n,r)}finally{Ce.p=s,te.T=i}}function EV(t,e,n,r){var i=te.T;te.T=null;var s=Ce.p;try{Ce.p=8,zE(t,e,n,r)}finally{Ce.p=s,te.T=i}}function zE(t,e,n,r){if(Rm){var i=Rv(r);if(i===null)zy(t,e,r,Dm,n),Jb(t,r);else if(SV(i,t,e,n,r))r.stopPropagation();else if(Jb(t,r),e&4&&-1<TV.indexOf(t)){for(;i!==null;){var s=eu(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Ha(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Hn(a);o.entanglements[1]|=l,a&=~l}Jr(s),!(Ie&6)&&(vm=Pn()+500,zh(0))}}break;case 31:case 13:o=Eo(s,2),o!==null&&_n(o,s,2),Ug(),BE(s,2)}if(s=Rv(r),s===null&&zy(t,e,r,Dm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zy(t,e,r,null,n)}}function Rv(t){return t=nE(t),FE(t)}var Dm=null;function FE(t){if(Dm=null,t=Wo(t),t!==null){var e=xh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=UR(e),t!==null)return t;t=null}else if(n===31){if(t=HR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Dm=t,null}function _N(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(a6()){case FR:return 2;case YR:return 8;case im:case o6:return 32;case qR:return 268435456;default:return 32}default:return 32}}var Dv=!1,Us=null,Hs=null,js=null,lh=new Map,uh=new Map,Ts=[],TV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(t,e){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function tc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=eu(e),e!==null&&vN(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SV(t,e,n,r,i){switch(e){case"focusin":return Us=tc(Us,t,e,n,r,i),!0;case"dragenter":return Hs=tc(Hs,t,e,n,r,i),!0;case"mouseover":return js=tc(js,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lh.set(s,tc(lh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,uh.set(s,tc(uh.get(s)||null,t,e,n,r,i)),!0}return!1}function EN(t){var e=Wo(t.target);if(e!==null){var n=xh(e);if(n!==null){if(e=n.tag,e===13){if(e=UR(n),e!==null){t.blockedOn=e,Vw(t.priority,function(){Xb(n)});return}}else if(e===31){if(e=HR(n),e!==null){t.blockedOn=e,Vw(t.priority,function(){Xb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rv(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);G0=r,n.target.dispatchEvent(r),G0=null}else return e=eu(n),e!==null&&vN(e),t.blockedOn=n,!1;e.shift()}return!0}function Wb(t,e,n){xd(t)&&n.delete(e)}function wV(){Dv=!1,Us!==null&&xd(Us)&&(Us=null),Hs!==null&&xd(Hs)&&(Hs=null),js!==null&&xd(js)&&(js=null),lh.forEach(Wb),uh.forEach(Wb)}function Zf(t,e){t.blockedOn===e&&(t.blockedOn=null,Dv||(Dv=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,wV)))}var Qf=null;function eA(t){Qf!==t&&(Qf=t,It.unstable_scheduleCallback(It.unstable_NormalPriority,function(){Qf===t&&(Qf=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(FE(r||n)===null)continue;break}var s=eu(n);s!==null&&(t.splice(e,3),e-=3,uv(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Pl(t){function e(l){return Zf(l,t)}Us!==null&&Zf(Us,t),Hs!==null&&Zf(Hs,t),js!==null&&Zf(js,t),lh.forEach(e),uh.forEach(e);for(var n=0;n<Ts.length;n++){var r=Ts[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ts.length&&(n=Ts[0],n.blockedOn===null);)EN(n),n.blockedOn===null&&Ts.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Sn]||null;if(typeof s=="function")a||eA(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Sn]||null)o=a.formAction;else if(FE(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),eA(n)}}}function TN(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function YE(t){this._internalRoot=t}Bg.prototype.render=YE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));var n=e.current,r=jn();yN(n,r,t,e,null,null)};Bg.prototype.unmount=YE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yN(t.current,2,null,t,null,null),Ug(),e[Wl]=null}};function Bg(t){this._internalRoot=t}Bg.prototype.unstable_scheduleHydration=function(t){if(t){var e=QR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ts.length&&e!==0&&e<Ts[n].priority;n++);Ts.splice(n,0,t),n===0&&EN(t)}};var tA=VR.version;if(tA!=="19.2.0")throw Error(j(527,tA,"19.2.0"));Ce.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Wk(e),t=t!==null?jR(t):null,t=t===null?null:t.stateNode,t};var bV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{kh=Xf.inject(bV),Un=Xf}catch{}}bg.createRoot=function(t,e){if(!PR(t))throw Error(j(299));var n=!1,r="",i=fD,s=dD,a=mD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=gN(t,1,!1,null,null,n,r,null,i,s,a,TN),t[Wl]=e.current,UE(t),new YE(e)};bg.hydrateRoot=function(t,e,n){if(!PR(t))throw Error(j(299));var r=!1,i="",s=fD,a=dD,o=mD,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=gN(t,1,!0,e,n??null,r,i,l,s,a,o,TN),e.context=pN(null),n=e.current,r=jn(),r=J_(r),i=ks(r),i.callback=null,Ls(n,i,r),n=r,e.current.lanes=n,Vh(e,n),Jr(e),t[Wl]=e.current,UE(t),new Bg(e)};bg.version="19.2.0";function SN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SN)}catch(t){console.error(t)}}SN(),NR.exports=bg;var AV=NR.exports;const IV=F_(AV),CV=()=>{};var nA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},bN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(d=64)),r.push(n[h],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new DV;const d=s<<2|o>>4;if(r.push(d),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NV=function(t){const e=wN(t);return bN.encodeByteArray(e,!0)},Nm=function(t){return NV(t).replace(/\./g,"")},AN=function(t){try{return bN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=()=>MV().__FIREBASE_DEFAULTS__,xV=()=>{if(typeof process>"u"||typeof nA>"u")return;const t=nA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AN(t[1]);return e&&JSON.parse(e)},zg=()=>{try{return CV()||OV()||xV()||kV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IN=t=>{var e,n;return(n=(e=zg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},LV=t=>{const e=IN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CN=()=>{var t;return(t=zg())==null?void 0:t.config},RN=t=>{var e;return(e=zg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Nm(JSON.stringify(n)),Nm(JSON.stringify(a)),""].join(".")}const zc={};function UV(){const t={prod:[],emulator:[]};for(const e of Object.keys(zc))zc[e]?t.emulator.push(e):t.prod.push(e);return t}function HV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rA=!1;function NN(t,e){if(typeof window>"u"||typeof document>"u"||!au(window.location.host)||zc[t]===e||zc[t]||rA)return;zc[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=UV().prod.length>0;function a(){const d=document.getElementById(r);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{rA=!0,a()},d}function h(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=HV(r),p=n("text"),y=document.getElementById(p)||document.createElement("span"),w=n("learnmore"),C=document.getElementById(w)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const A=d.element;o(A),h(C,w);const M=c();l(_,v),A.append(_,y,C,M),document.body.appendChild(A)}s?(y.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function BV(){var e;const t=(e=zg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qV(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $V(){return!BV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GV(){try{return typeof indexedDB=="object"}catch{return!1}}function KV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="FirebaseError";class Wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZV,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qh.prototype.create)}}class qh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?QV(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Wi(i,o,r)}}function QV(t,e){return t.replace(XV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XV=/\{\$([^}]+)}/g;function JV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ao(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(iA(s)&&iA(a)){if(!ao(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WV(t,e){const n=new e5(t,e);return n.subscribe.bind(n)}class e5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");t5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qy),i.error===void 0&&(i.error=qy),i.complete===void 0&&(i.complete=qy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i5(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r5(t){return t===za?void 0:t}function i5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const a5={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},o5=me.INFO,l5={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},u5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=l5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qE{constructor(e){this.name=e,this._logLevel=o5,this._logHandler=u5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const c5=(t,e)=>e.some(n=>t instanceof n);let sA,aA;function h5(){return sA||(sA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f5(){return aA||(aA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MN=new WeakMap,Nv=new WeakMap,ON=new WeakMap,$y=new WeakMap,$E=new WeakMap;function d5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Bs(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&MN.set(n,t)}).catch(()=>{}),$E.set(e,t),e}function m5(t){if(Nv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Nv.set(t,e)}let Mv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ON.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function g5(t){Mv=t(Mv)}function p5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gy(this),e,...n);return ON.set(r,e.sort?e.sort():[e]),Bs(r)}:f5().includes(t)?function(...e){return t.apply(Gy(this),e),Bs(MN.get(this))}:function(...e){return Bs(t.apply(Gy(this),e))}}function y5(t){return typeof t=="function"?p5(t):(t instanceof IDBTransaction&&m5(t),c5(t,h5())?new Proxy(t,Mv):t)}function Bs(t){if(t instanceof IDBRequest)return d5(t);if($y.has(t))return $y.get(t);const e=y5(t);return e!==t&&($y.set(t,e),$E.set(e,t)),e}const Gy=t=>$E.get(t);function v5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Bs(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Bs(a.result),l.oldVersion,l.newVersion,Bs(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const _5=["get","getKey","getAll","getAllKeys","count"],E5=["put","add","delete","clear"],Ky=new Map;function oA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ky.get(e))return Ky.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=E5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_5.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Ky.set(e,s),s}g5(t=>({...t,get:(e,n,r)=>oA(e,n)||t.get(e,n,r),has:(e,n)=>!!oA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function S5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ov="@firebase/app",lA="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new qE("@firebase/app"),w5="@firebase/app-compat",b5="@firebase/analytics-compat",A5="@firebase/analytics",I5="@firebase/app-check-compat",C5="@firebase/app-check",R5="@firebase/auth",D5="@firebase/auth-compat",N5="@firebase/database",M5="@firebase/data-connect",O5="@firebase/database-compat",x5="@firebase/functions",k5="@firebase/functions-compat",L5="@firebase/installations",V5="@firebase/installations-compat",P5="@firebase/messaging",U5="@firebase/messaging-compat",H5="@firebase/performance",j5="@firebase/performance-compat",B5="@firebase/remote-config",z5="@firebase/remote-config-compat",F5="@firebase/storage",Y5="@firebase/storage-compat",q5="@firebase/firestore",$5="@firebase/ai",G5="@firebase/firestore-compat",K5="firebase",Z5="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="[DEFAULT]",Q5={[Ov]:"fire-core",[w5]:"fire-core-compat",[A5]:"fire-analytics",[b5]:"fire-analytics-compat",[C5]:"fire-app-check",[I5]:"fire-app-check-compat",[R5]:"fire-auth",[D5]:"fire-auth-compat",[N5]:"fire-rtdb",[M5]:"fire-data-connect",[O5]:"fire-rtdb-compat",[x5]:"fire-fn",[k5]:"fire-fn-compat",[L5]:"fire-iid",[V5]:"fire-iid-compat",[P5]:"fire-fcm",[U5]:"fire-fcm-compat",[H5]:"fire-perf",[j5]:"fire-perf-compat",[B5]:"fire-rc",[z5]:"fire-rc-compat",[F5]:"fire-gcs",[Y5]:"fire-gcs-compat",[q5]:"fire-fst",[G5]:"fire-fst-compat",[$5]:"fire-vertex","fire-js":"fire-js",[K5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map,X5=new Map,kv=new Map;function uA(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ul(t){const e=t.name;if(kv.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;kv.set(e,t);for(const n of Mm.values())uA(n,t);for(const n of X5.values())uA(n,t);return!0}function GE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new qh("app","Firebase",J5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=Z5;function xN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw zs.create("bad-app-name",{appName:String(i)});if(n||(n=CN()),!n)throw zs.create("no-options");const s=Mm.get(i);if(s){if(ao(n,s.options)&&ao(r,s.config))return s;throw zs.create("duplicate-app",{appName:i})}const a=new s5(i);for(const l of kv.values())a.addComponent(l);const o=new W5(n,r,a);return Mm.set(i,o),o}function kN(t=xv){const e=Mm.get(t);if(!e&&t===xv&&CN())return xN();if(!e)throw zs.create("no-app",{appName:t});return e}function Fs(t,e,n){let r=Q5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(a.join(" "));return}Ul(new oo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="firebase-heartbeat-database",tP=1,ch="firebase-heartbeat-store";let Zy=null;function LN(){return Zy||(Zy=v5(eP,tP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ch)}catch(n){console.warn(n)}}}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),Zy}async function nP(t){try{const n=(await LN()).transaction(ch),r=await n.objectStore(ch).get(VN(t));return await n.done,r}catch(e){if(e instanceof Wi)qi.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function cA(t,e){try{const r=(await LN()).transaction(ch,"readwrite");await r.objectStore(ch).put(e,VN(t)),await r.done}catch(n){if(n instanceof Wi)qi.warn(n.message);else{const r=zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function VN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=1024,iP=30;class sP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>iP){const a=lP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hA(),{heartbeatsToSend:r,unsentEntries:i}=aP(this._heartbeatsCache.heartbeats),s=Nm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return qi.warn(n),""}}}function hA(){return new Date().toISOString().substring(0,10)}function aP(t,e=rP){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),fA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GV()?KV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fA(t){return Nm(JSON.stringify({version:2,heartbeats:t})).length}function lP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){Ul(new oo("platform-logger",e=>new T5(e),"PRIVATE")),Ul(new oo("heartbeat",e=>new sP(e),"PRIVATE")),Fs(Ov,lA,t),Fs(Ov,lA,"esm2020"),Fs("fire-js","")}uP("");function PN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cP=PN,UN=new qh("auth","Firebase",PN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new qE("@firebase/auth");function hP(t,...e){Om.logLevel<=me.WARN&&Om.warn(`Auth (${ou}): ${t}`,...e)}function kd(t,...e){Om.logLevel<=me.ERROR&&Om.error(`Auth (${ou}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,...e){throw ZE(t,...e)}function yr(t,...e){return ZE(t,...e)}function KE(t,e,n){const r={...cP(),[e]:n};return new qh("auth","Firebase",r).create(e,{appName:t.name})}function Oi(t){return KE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&lr(t,"argument-error"),KE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ZE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UN.create(t,...e)}function W(t,e,...n){if(!t)throw ZE(e,...n)}function Ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kd(e),new Error(e)}function $i(t,e){t||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function dP(){return dA()==="http:"||dA()==="https:"}function dA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dP()||FV()||"connection"in navigator)?navigator.onLine:!0}function gP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=jV()||YV()}get(){return mP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vP=new Gh(3e4,6e4);function da(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ma(t,e,n,r,i={}){return jN(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=$h({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return zV()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&au(t.emulatorConfig.host)&&(c.credentials="include"),HN.fetch()(await BN(t,t.config.apiHost,n,o),c)})}async function jN(t,e,n){t._canInitEmulator=!1;const r={...pP,...e};try{const i=new EP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Jf(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jf(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Jf(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Jf(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw KE(t,h,c);lr(t,h)}}catch(i){if(i instanceof Wi)throw i;lr(t,"network-request-failed",{message:String(i)})}}async function Kh(t,e,n,r,i={}){const s=await ma(t,e,n,r,i);return"mfaPendingCredential"in s&&lr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function BN(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?QE(t.config,i):`${t.config.apiScheme}://${i}`;return yP.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function _P(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),vP.get())})}}function Jf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yr(t,e,r);return i.customData._tokenResponse=n,i}function mA(t){return t!==void 0&&t.enterprise!==void 0}class TP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _P(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SP(t,e){return ma(t,"GET","/v2/recaptchaConfig",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(t,e){return ma(t,"POST","/v1/accounts:delete",e)}async function xm(t,e){return ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bP(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=XE(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fc(Qy(i.auth_time)),issuedAtTime:Fc(Qy(i.iat)),expirationTime:Fc(Qy(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Qy(t){return Number(t)*1e3}function XE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const i=AN(n);return i?JSON.parse(i):(kd("Failed to decode base64 JWT payload"),null)}catch(i){return kd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gA(t){const e=XE(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wi&&AP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(t){var f;const e=t.auth,n=await t.getIdToken(),r=await hh(t,xm(e,{idToken:n}));W(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?zN(i.providerUserInfo):[],a=RP(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Vv(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function CP(t){const e=Ct(t);await km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e){const n=await jN(t,{},async()=>{const r=$h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await BN(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&au(t.emulatorConfig.host)&&(l.credentials="include"),HN.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NP(t,e){return ma(t,"POST","/v2/accounts:revokeToken",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=gA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await DP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new _l;return r&&(W(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new IP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hh(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bP(this,e)}reload(){return CP(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await km(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await hh(this,wP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:p,providerData:y,stsTokenManager:w}=n;W(f&&w,e,"internal-error");const C=_l.fromJSON(this.name,w);W(typeof f=="string",e,"internal-error"),hs(r,e.name),hs(i,e.name),W(typeof d=="boolean",e,"internal-error"),W(typeof p=="boolean",e,"internal-error"),hs(s,e.name),hs(a,e.name),hs(o,e.name),hs(l,e.name),hs(c,e.name),hs(h,e.name);const v=new pr({uid:f,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:C,createdAt:c,lastLoginAt:h});return y&&Array.isArray(y)&&(v.providerData=y.map(_=>({..._}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new _l;i.updateFromServerResponse(n);const s=new pr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await km(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];W(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?zN(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new _l;o.updateFromIdToken(r);const l=new pr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Vv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Map;function Ii(t){$i(t instanceof Function,"Expected a class definition");let e=pA.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FN.type="NONE";const yA=FN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t,e,n){return`firebase:${t}:${e}:${n}`}class El{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ld(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ld("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xm(this.auth,{idToken:e}).catch(()=>{});return n?pr._fromGetAccountInfoResponse(this.auth,n,e):null}return pr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new El(Ii(yA),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ii(yA);const a=Ld(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let f;if(typeof h=="string"){const d=await xm(e,{idToken:h}).catch(()=>{});if(!d)break;f=await pr._fromGetAccountInfoResponse(e,d,h)}else f=pr._fromJSON(e,h);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new El(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new El(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZN(e))return"Blackberry";if(QN(e))return"Webos";if(qN(e))return"Safari";if((e.includes("chrome/")||$N(e))&&!e.includes("edge/"))return"Chrome";if(KN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YN(t=Qt()){return/firefox\//i.test(t)}function qN(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $N(t=Qt()){return/crios\//i.test(t)}function GN(t=Qt()){return/iemobile/i.test(t)}function KN(t=Qt()){return/android/i.test(t)}function ZN(t=Qt()){return/blackberry/i.test(t)}function QN(t=Qt()){return/webos/i.test(t)}function JE(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MP(t=Qt()){var e;return JE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function OP(){return qV()&&document.documentMode===10}function XN(t=Qt()){return JE(t)||KN(t)||QN(t)||ZN(t)||/windows phone/i.test(t)||GN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t,e=[]){let n;switch(t){case"Browser":n=vA(Qt());break;case"Worker":n=`${vA(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ou}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(t,e={}){return ma(t,"GET","/v2/passwordPolicy",da(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=6;class VP{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _A(this),this.idTokenSubscription=new _A(this),this.beforeStateQueue=new xP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await El.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xm(this,{idToken:e}),r=await pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(xn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await km(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Oi(this));const n=e?Ct(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kP(this),n=new VP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&hP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ga(t){return Ct(t)}class _A{constructor(e){this.auth=e,this.observer=null,this.addObserver=WV(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UP(t){Fg=t}function WN(t){return Fg.loadJS(t)}function HP(){return Fg.recaptchaEnterpriseScript}function jP(){return Fg.gapiScript}function BP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class zP{constructor(){this.enterprise=new FP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const YP="recaptcha-enterprise",eM="NO_RECAPTCHA";class qP{constructor(e){this.type=YP,this.auth=ga(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{SP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new TP(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;mA(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(eM)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zP().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&mA(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=HP();l.length!==0&&(l+=o),WN(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function EA(t,e,n,r=!1,i=!1){const s=new qP(t);let a;if(i)a=eM;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Pv(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await EA(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await EA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t,e){const n=GE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ao(s,e??{}))return i;lr(i,"already-initialized")}return n.initialize({options:e})}function GP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KP(t,e,n){const r=ga(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=tM(e),{host:a,port:o}=ZP(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(ao(c,r.config.emulator)&&ao(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,au(a)?(DN(`${s}//${a}${l}`),NN("Auth",!0)):QP()}function tM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZP(t){const e=tM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:TA(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:TA(a)}}}function TA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function XP(t,e){return ma(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(t,e){return Kh(t,"POST","/v1/accounts:signInWithPassword",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(t,e){return Kh(t,"POST","/v1/accounts:signInWithEmailLink",da(t,e))}async function e9(t,e){return Kh(t,"POST","/v1/accounts:signInWithEmailLink",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends WE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pv(e,n,"signInWithPassword",JP);case"emailLink":return WP(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pv(e,r,"signUpPassword",XP);case"emailLink":return e9(e,{idToken:n,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t,e){return Kh(t,"POST","/v1/accounts:signInWithIdp",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="http://localhost";class lo extends WE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new lo(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Tl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tl(e,n)}buildRequest(){const e={requestUri:t9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$h(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r9(t){const e=Ec(Tc(t)).link,n=e?Ec(Tc(e)).deep_link_id:null,r=Ec(Tc(t)).deep_link_id;return(r?Ec(Tc(r)).link:null)||r||n||e||t}class e1{constructor(e){const n=Ec(Tc(e)),r=n.apiKey??null,i=n.oobCode??null,s=n9(n.mode??null);W(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=r9(e);try{return new e1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.providerId=lu.PROVIDER_ID}static credential(e,n){return fh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=e1.parseLink(n);return W(r,"argument-error"),fh._fromEmailAndCode(e,r.code,r.tenantId)}}lu.PROVIDER_ID="password";lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends t1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Zh{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Zh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lo._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Zh{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Zh{constructor(){super("twitter.com")}static credential(e,n){return lo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(t,e){return Kh(t,"POST","/v1/accounts:signUp",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await pr._fromIdTokenResponse(e,r,i),a=SA(r);return new uo({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=SA(r);return new uo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function SA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends Wi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lm(e,n,r,i)}}function nM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lm._fromErrorAndOperation(t,s,e,r):s})}async function s9(t,e,n=!1){const r=await hh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(Oi(r));const i="reauthenticate";try{const s=await hh(t,nM(r,i,e,t),n);W(s.idToken,r,"internal-error");const a=XE(s.idToken);W(a,r,"internal-error");const{sub:o}=a;return W(t.uid===o,r,"user-mismatch"),uo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&lr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e,n=!1){if(xn(t.app))return Promise.reject(Oi(t));const r="signIn",i=await nM(t,r,e),s=await uo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function o9(t,e){return rM(ga(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t){const e=ga(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l9(t,e,n){if(xn(t.app))return Promise.reject(Oi(t));const r=ga(t),a=await Pv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",i9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&iM(t),l}),o=await uo._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function u9(t,e,n){return xn(t.app)?Promise.reject(Oi(t)):o9(Ct(t),lu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iM(t),r})}function c9(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function h9(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function f9(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}const Vm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vm,"1"),this.storage.removeItem(Vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=1e3,m9=10;class aM extends sM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);OP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,m9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},d9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aM.type="LOCAL";const g9=aM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM extends sM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oM.type="SESSION";const lM=oM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await p9(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=n1("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function v9(t){Hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function _9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function T9(){return uM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="firebaseLocalStorageDb",S9=1,Pm="firebaseLocalStorage",hM="fbase_key";class Qh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qg(t,e){return t.transaction([Pm],e?"readwrite":"readonly").objectStore(Pm)}function w9(){const t=indexedDB.deleteDatabase(cM);return new Qh(t).toPromise()}function Uv(){const t=indexedDB.open(cM,S9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pm,{keyPath:hM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pm)?e(r):(r.close(),await w9(),e(await Uv()))})})}async function wA(t,e,n){const r=qg(t,!0).put({[hM]:e,value:n});return new Qh(r).toPromise()}async function b9(t,e){const n=qg(t,!1).get(e),r=await new Qh(n).toPromise();return r===void 0?null:r.value}function bA(t,e){const n=qg(t,!0).delete(e);return new Qh(n).toPromise()}const A9=800,I9=3;class fM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>I9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yg._getInstance(T9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await _9(),!this.activeServiceWorker)return;this.sender=new y9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uv();return await wA(e,Vm,"1"),await bA(e,Vm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>b9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qg(i,!1).getAll();return new Qh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fM.type="LOCAL";const C9=fM;new Gh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e){return e?Ii(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends WE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R9(t){return rM(t.auth,new r1(t),t.bypassAuthState)}function D9(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),a9(n,new r1(t),t.bypassAuthState)}async function N9(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),s9(n,new r1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R9;case"linkViaPopup":case"linkViaRedirect":return N9;case"reauthViaPopup":case"reauthViaRedirect":return D9;default:lr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new Gh(2e3,1e4);async function O9(t,e,n){if(xn(t.app))return Promise.reject(yr(t,"operation-not-supported-in-this-environment"));const r=ga(t);fP(t,e,t1);const i=dM(r,n);return new qa(r,"signInViaPopup",e,i).executeNotNull()}class qa extends mM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=n1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M9.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9="pendingRedirect",Vd=new Map;class k9 extends mM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const r=await L9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L9(t,e){const n=U9(e),r=P9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function V9(t,e){Vd.set(t._key(),e)}function P9(t){return Ii(t._redirectPersistence)}function U9(t){return Ld(x9,t.config.apiKey,t.name)}async function H9(t,e,n=!1){if(xn(t.app))return Promise.reject(Oi(t));const r=ga(t),i=dM(r,e),a=await new k9(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=10*60*1e3;class B9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gM(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j9&&this.cachedEventUids.clear(),this.cachedEventUids.has(AA(e))}saveEventToCache(e){this.cachedEventUids.add(AA(e)),this.lastProcessedEventTime=Date.now()}}function AA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(t,e={}){return ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q9=/^https?/;async function $9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await F9(t);for(const n of e)try{if(G9(n))return}catch{}lr(t,"unauthorized-domain")}function G9(t){const e=Lv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!q9.test(n))return!1;if(Y9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new Gh(3e4,6e4);function IA(){const t=Hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z9(t){return new Promise((e,n)=>{var i,s,a;function r(){IA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IA(),n(yr(t,"network-request-failed"))},timeout:K9.get()})}if((s=(i=Hr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Hr().gapi)!=null&&a.load)r();else{const o=BP("iframefcb");return Hr()[o]=()=>{gapi.load?r():n(yr(t,"network-request-failed"))},WN(`${jP()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Pd=null,e})}let Pd=null;function Q9(t){return Pd=Pd||Z9(t),Pd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new Gh(5e3,15e3),J9="__/auth/iframe",W9="emulator/auth/iframe",eU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nU(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?QE(e,W9):`https://${t.config.authDomain}/${J9}`,r={apiKey:e.apiKey,appName:t.name,v:ou},i=tU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$h(r).slice(1)}`}async function rU(t){const e=await Q9(t),n=Hr().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:nU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=yr(t,"network-request-failed"),o=Hr().setTimeout(()=>{s(a)},X9.get());function l(){Hr().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sU=500,aU=600,oU="_blank",lU="http://localhost";class CA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uU(t,e,n,r=sU,i=aU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...iU,width:r.toString(),height:i.toString(),top:s,left:a},c=Qt().toLowerCase();n&&(o=$N(c)?oU:n),YN(c)&&(e=e||lU,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[p,y])=>`${d}${p}=${y},`,"");if(MP(c)&&o!=="_self")return cU(e||"",o),new CA(null);const f=window.open(e||"",o,h);W(f,t,"popup-blocked");try{f.focus()}catch{}return new CA(f)}function cU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="__/auth/handler",fU="emulator/auth/handler",dU=encodeURIComponent("fac");async function RA(t,e,n,r,i,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ou,eventId:i};if(e instanceof t1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",JV(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof Zh){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${dU}=${encodeURIComponent(l)}`:"";return`${mU(t)}?${$h(o).slice(1)}${c}`}function mU({config:t}){return t.emulator?QE(t,fU):`https://${t.authDomain}/${hU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="webStorageSupport";class gU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lM,this._completeRedirectFn=H9,this._overrideRedirectResult=V9}async _openPopup(e,n,r,i){var a;$i((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await RA(e,n,r,Lv(),i);return uU(e,s,n1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await RA(e,n,r,Lv(),i);return v9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($i(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rU(e),r=new B9(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xy,{type:Xy},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[Xy];s!==void 0&&n(!!s),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XN()||qN()||JE()}}const pU=gU;var DA="@firebase/auth",NA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _U(t){Ul(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;W(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JN(t)},c=new PP(r,i,s,l);return GP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ul(new oo("auth-internal",e=>{const n=ga(e.getProvider("auth").getImmediate());return(r=>new yU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(DA,NA,vU(t)),Fs(DA,NA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=5*60,TU=RN("authIdTokenMaxAge")||EU;let MA=null;const SU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TU)return;const i=n==null?void 0:n.token;MA!==i&&(MA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wU(t=kN()){const e=GE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$P(t,{popupRedirectResolver:pU,persistence:[C9,g9,lM]}),r=RN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=SU(s.toString());h9(n,a,()=>a(n.currentUser)),c9(n,o=>a(o))}}const i=IN("auth");return i&&KP(n,`http://${i}`),n}function bU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}UP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=yr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",bU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_U("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function AU(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{c(r.next(h))}catch(f){a(f)}}function l(h){try{c(r.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((r=r.apply(t,[])).next())})}function IU(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ul=function(){return ul=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ul.apply(this,arguments)},pM=function(t){return{loading:t==null,value:t}},CU=function(){return function(t,e){switch(e.type){case"error":return ul(ul({},t),{error:e.error,loading:!1,value:void 0});case"reset":return pM(e.defaultValue);case"value":return ul(ul({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},RU=function(t){var e=t?t():void 0,n=x.useReducer(CU(),pM(e)),r=n[0],i=n[1],s=x.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),a=x.useCallback(function(l){i({type:"error",error:l})},[]),o=x.useCallback(function(l){i({type:"value",value:l})},[]);return x.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:a,setValue:o,value:r.value}},[r.error,r.loading,s,a,o,r.value])},DU=function(t,e){var n=RU(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,a=n.setValue,o=n.value;return x.useEffect(function(){var l=f9(t,function(c){return AU(void 0,void 0,void 0,function(){var h;return IU(this,function(f){switch(f.label){case 0:return[3,4];case 1:return f.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return f.sent(),[3,4];case 3:return h=f.sent(),s(h),[3,4];case 4:return a(c),[2]}})})},s);return function(){l()}},[t]),[o,i,r]},NU="firebase",MU="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(NU,MU,"app");var OA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,yM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function E(){}E.prototype=T.prototype,S.F=T.prototype,S.prototype=new E,S.prototype.constructor=S,S.D=function(R,D,O){for(var N=Array(arguments.length-2),st=2;st<arguments.length;st++)N[st-2]=arguments[st];return T.prototype[D].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,E){E||(E=0);const R=Array(16);if(typeof T=="string")for(var D=0;D<16;++D)R[D]=T.charCodeAt(E++)|T.charCodeAt(E++)<<8|T.charCodeAt(E++)<<16|T.charCodeAt(E++)<<24;else for(D=0;D<16;++D)R[D]=T[E++]|T[E++]<<8|T[E++]<<16|T[E++]<<24;T=S.g[0],E=S.g[1],D=S.g[2];let O=S.g[3],N;N=T+(O^E&(D^O))+R[0]+3614090360&4294967295,T=E+(N<<7&4294967295|N>>>25),N=O+(D^T&(E^D))+R[1]+3905402710&4294967295,O=T+(N<<12&4294967295|N>>>20),N=D+(E^O&(T^E))+R[2]+606105819&4294967295,D=O+(N<<17&4294967295|N>>>15),N=E+(T^D&(O^T))+R[3]+3250441966&4294967295,E=D+(N<<22&4294967295|N>>>10),N=T+(O^E&(D^O))+R[4]+4118548399&4294967295,T=E+(N<<7&4294967295|N>>>25),N=O+(D^T&(E^D))+R[5]+1200080426&4294967295,O=T+(N<<12&4294967295|N>>>20),N=D+(E^O&(T^E))+R[6]+2821735955&4294967295,D=O+(N<<17&4294967295|N>>>15),N=E+(T^D&(O^T))+R[7]+4249261313&4294967295,E=D+(N<<22&4294967295|N>>>10),N=T+(O^E&(D^O))+R[8]+1770035416&4294967295,T=E+(N<<7&4294967295|N>>>25),N=O+(D^T&(E^D))+R[9]+2336552879&4294967295,O=T+(N<<12&4294967295|N>>>20),N=D+(E^O&(T^E))+R[10]+4294925233&4294967295,D=O+(N<<17&4294967295|N>>>15),N=E+(T^D&(O^T))+R[11]+2304563134&4294967295,E=D+(N<<22&4294967295|N>>>10),N=T+(O^E&(D^O))+R[12]+1804603682&4294967295,T=E+(N<<7&4294967295|N>>>25),N=O+(D^T&(E^D))+R[13]+4254626195&4294967295,O=T+(N<<12&4294967295|N>>>20),N=D+(E^O&(T^E))+R[14]+2792965006&4294967295,D=O+(N<<17&4294967295|N>>>15),N=E+(T^D&(O^T))+R[15]+1236535329&4294967295,E=D+(N<<22&4294967295|N>>>10),N=T+(D^O&(E^D))+R[1]+4129170786&4294967295,T=E+(N<<5&4294967295|N>>>27),N=O+(E^D&(T^E))+R[6]+3225465664&4294967295,O=T+(N<<9&4294967295|N>>>23),N=D+(T^E&(O^T))+R[11]+643717713&4294967295,D=O+(N<<14&4294967295|N>>>18),N=E+(O^T&(D^O))+R[0]+3921069994&4294967295,E=D+(N<<20&4294967295|N>>>12),N=T+(D^O&(E^D))+R[5]+3593408605&4294967295,T=E+(N<<5&4294967295|N>>>27),N=O+(E^D&(T^E))+R[10]+38016083&4294967295,O=T+(N<<9&4294967295|N>>>23),N=D+(T^E&(O^T))+R[15]+3634488961&4294967295,D=O+(N<<14&4294967295|N>>>18),N=E+(O^T&(D^O))+R[4]+3889429448&4294967295,E=D+(N<<20&4294967295|N>>>12),N=T+(D^O&(E^D))+R[9]+568446438&4294967295,T=E+(N<<5&4294967295|N>>>27),N=O+(E^D&(T^E))+R[14]+3275163606&4294967295,O=T+(N<<9&4294967295|N>>>23),N=D+(T^E&(O^T))+R[3]+4107603335&4294967295,D=O+(N<<14&4294967295|N>>>18),N=E+(O^T&(D^O))+R[8]+1163531501&4294967295,E=D+(N<<20&4294967295|N>>>12),N=T+(D^O&(E^D))+R[13]+2850285829&4294967295,T=E+(N<<5&4294967295|N>>>27),N=O+(E^D&(T^E))+R[2]+4243563512&4294967295,O=T+(N<<9&4294967295|N>>>23),N=D+(T^E&(O^T))+R[7]+1735328473&4294967295,D=O+(N<<14&4294967295|N>>>18),N=E+(O^T&(D^O))+R[12]+2368359562&4294967295,E=D+(N<<20&4294967295|N>>>12),N=T+(E^D^O)+R[5]+4294588738&4294967295,T=E+(N<<4&4294967295|N>>>28),N=O+(T^E^D)+R[8]+2272392833&4294967295,O=T+(N<<11&4294967295|N>>>21),N=D+(O^T^E)+R[11]+1839030562&4294967295,D=O+(N<<16&4294967295|N>>>16),N=E+(D^O^T)+R[14]+4259657740&4294967295,E=D+(N<<23&4294967295|N>>>9),N=T+(E^D^O)+R[1]+2763975236&4294967295,T=E+(N<<4&4294967295|N>>>28),N=O+(T^E^D)+R[4]+1272893353&4294967295,O=T+(N<<11&4294967295|N>>>21),N=D+(O^T^E)+R[7]+4139469664&4294967295,D=O+(N<<16&4294967295|N>>>16),N=E+(D^O^T)+R[10]+3200236656&4294967295,E=D+(N<<23&4294967295|N>>>9),N=T+(E^D^O)+R[13]+681279174&4294967295,T=E+(N<<4&4294967295|N>>>28),N=O+(T^E^D)+R[0]+3936430074&4294967295,O=T+(N<<11&4294967295|N>>>21),N=D+(O^T^E)+R[3]+3572445317&4294967295,D=O+(N<<16&4294967295|N>>>16),N=E+(D^O^T)+R[6]+76029189&4294967295,E=D+(N<<23&4294967295|N>>>9),N=T+(E^D^O)+R[9]+3654602809&4294967295,T=E+(N<<4&4294967295|N>>>28),N=O+(T^E^D)+R[12]+3873151461&4294967295,O=T+(N<<11&4294967295|N>>>21),N=D+(O^T^E)+R[15]+530742520&4294967295,D=O+(N<<16&4294967295|N>>>16),N=E+(D^O^T)+R[2]+3299628645&4294967295,E=D+(N<<23&4294967295|N>>>9),N=T+(D^(E|~O))+R[0]+4096336452&4294967295,T=E+(N<<6&4294967295|N>>>26),N=O+(E^(T|~D))+R[7]+1126891415&4294967295,O=T+(N<<10&4294967295|N>>>22),N=D+(T^(O|~E))+R[14]+2878612391&4294967295,D=O+(N<<15&4294967295|N>>>17),N=E+(O^(D|~T))+R[5]+4237533241&4294967295,E=D+(N<<21&4294967295|N>>>11),N=T+(D^(E|~O))+R[12]+1700485571&4294967295,T=E+(N<<6&4294967295|N>>>26),N=O+(E^(T|~D))+R[3]+2399980690&4294967295,O=T+(N<<10&4294967295|N>>>22),N=D+(T^(O|~E))+R[10]+4293915773&4294967295,D=O+(N<<15&4294967295|N>>>17),N=E+(O^(D|~T))+R[1]+2240044497&4294967295,E=D+(N<<21&4294967295|N>>>11),N=T+(D^(E|~O))+R[8]+1873313359&4294967295,T=E+(N<<6&4294967295|N>>>26),N=O+(E^(T|~D))+R[15]+4264355552&4294967295,O=T+(N<<10&4294967295|N>>>22),N=D+(T^(O|~E))+R[6]+2734768916&4294967295,D=O+(N<<15&4294967295|N>>>17),N=E+(O^(D|~T))+R[13]+1309151649&4294967295,E=D+(N<<21&4294967295|N>>>11),N=T+(D^(E|~O))+R[4]+4149444226&4294967295,T=E+(N<<6&4294967295|N>>>26),N=O+(E^(T|~D))+R[11]+3174756917&4294967295,O=T+(N<<10&4294967295|N>>>22),N=D+(T^(O|~E))+R[2]+718787259&4294967295,D=O+(N<<15&4294967295|N>>>17),N=E+(O^(D|~T))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.v=function(S,T){T===void 0&&(T=S.length);const E=T-this.blockSize,R=this.C;let D=this.h,O=0;for(;O<T;){if(D==0)for(;O<=E;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<T;)if(R[D++]=S.charCodeAt(O++),D==this.blockSize){i(this,R),D=0;break}}else for(;O<T;)if(R[D++]=S[O++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=T},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var E=S.length-8;E<S.length;++E)S[E]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,E=0;E<4;++E)for(let R=0;R<32;R+=8)S[T++]=this.g[E]>>>R&255;return S};function s(S,T){var E=o;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=T(S)}function a(S,T){this.h=T;const E=[];let R=!0;for(let D=S.length-1;D>=0;D--){const O=S[D]|0;R&&O==T||(E[D]=O,R=!1)}this.g=E}var o={};function l(S){return-128<=S&&S<128?s(S,function(T){return new a([T|0],T<0?-1:0)}):new a([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return C(c(-S));const T=[];let E=1;for(let R=0;S>=E;R++)T[R]=S/E|0,E*=4294967296;return new a(T,0)}function h(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return C(h(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=c(Math.pow(T,8));let R=f;for(let O=0;O<S.length;O+=8){var D=Math.min(8,S.length-O);const N=parseInt(S.substring(O,O+D),T);D<8?(D=c(Math.pow(T,D)),R=R.j(D).add(c(N))):(R=R.j(E),R=R.add(c(N)))}return R}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(w(this))return-C(this).m();let S=0,T=1;for(let E=0;E<this.g.length;E++){const R=this.i(E);S+=(R>=0?R:4294967296+R)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(w(this))return"-"+C(this).toString(S);const T=c(Math.pow(S,6));var E=this;let R="";for(;;){const D=M(E,T).g;E=v(E,D.j(T));let O=((E.g.length>0?E.g[0]:E.h)>>>0).toString(S);if(E=D,y(E))return O+R;for(;O.length<6;)O="0"+O;R=O+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=v(this,S),w(S)?-1:y(S)?0:1};function C(S){const T=S.g.length,E=[];for(let R=0;R<T;R++)E[R]=~S.g[R];return new a(E,~S.h).add(d)}t.abs=function(){return w(this)?C(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),E=[];let R=0;for(let D=0;D<=T;D++){let O=R+(this.i(D)&65535)+(S.i(D)&65535),N=(O>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);R=N>>>16,O&=65535,N&=65535,E[D]=N<<16|O}return new a(E,E[E.length-1]&-2147483648?-1:0)};function v(S,T){return S.add(C(T))}t.j=function(S){if(y(this)||y(S))return f;if(w(this))return w(S)?C(this).j(C(S)):C(C(this).j(S));if(w(S))return C(this.j(C(S)));if(this.l(p)<0&&S.l(p)<0)return c(this.m()*S.m());const T=this.g.length+S.g.length,E=[];for(var R=0;R<2*T;R++)E[R]=0;for(R=0;R<this.g.length;R++)for(let D=0;D<S.g.length;D++){const O=this.i(R)>>>16,N=this.i(R)&65535,st=S.i(D)>>>16,Wt=S.i(D)&65535;E[2*R+2*D]+=N*Wt,_(E,2*R+2*D),E[2*R+2*D+1]+=O*Wt,_(E,2*R+2*D+1),E[2*R+2*D+1]+=N*st,_(E,2*R+2*D+1),E[2*R+2*D+2]+=O*st,_(E,2*R+2*D+2)}for(S=0;S<T;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=T;S<2*T;S++)E[S]=0;return new a(E,0)};function _(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function A(S,T){this.g=S,this.h=T}function M(S,T){if(y(T))throw Error("division by zero");if(y(S))return new A(f,f);if(w(S))return T=M(C(S),T),new A(C(T.g),C(T.h));if(w(T))return T=M(S,C(T)),new A(C(T.g),T.h);if(S.g.length>30){if(w(S)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var E=d,R=T;R.l(S)<=0;)E=V(E),R=V(R);var D=k(E,1),O=k(R,1);for(R=k(R,2),E=k(E,2);!y(R);){var N=O.add(R);N.l(S)<=0&&(D=D.add(E),O=N),R=k(R,1),E=k(E,1)}return T=v(S,D.j(T)),new A(D,T)}for(D=f;S.l(T)>=0;){for(E=Math.max(1,Math.floor(S.m()/T.m())),R=Math.ceil(Math.log(E)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),O=c(E),N=O.j(T);w(N)||N.l(S)>0;)E-=R,O=c(E),N=O.j(T);y(O)&&(O=d),D=D.add(O),S=v(S,N)}return new A(D,S)}t.B=function(S){return M(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),E=[];for(let R=0;R<T;R++)E[R]=this.i(R)&S.i(R);return new a(E,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),E=[];for(let R=0;R<T;R++)E[R]=this.i(R)|S.i(R);return new a(E,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),E=[];for(let R=0;R<T;R++)E[R]=this.i(R)^S.i(R);return new a(E,this.h^S.h)};function V(S){const T=S.g.length+1,E=[];for(let R=0;R<T;R++)E[R]=S.i(R)<<1|S.i(R-1)>>>31;return new a(E,S.h)}function k(S,T){const E=T>>5;T%=32;const R=S.g.length-E,D=[];for(let O=0;O<R;O++)D[O]=T>0?S.i(O+E)>>>T|S.i(O+E+1)<<32-T:S.i(O+E);return new a(D,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,yM=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Ys=a}).apply(typeof OA<"u"?OA:typeof self<"u"?self:typeof window<"u"?window:{});var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vM,Sc,_M,Ud,Hv,EM,TM,SM;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wf=="object"&&Wf];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var g=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in g))break e;g=g[L]}u=u[u.length-1],b=g[u],m=m(b),m!=b&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(m){var g=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&g.push([b,m[b]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function l(u,m,g){return u.call.apply(u.bind,arguments)}function c(u,m,g){return c=l,c.apply(null,arguments)}function h(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function f(u,m){function g(){}g.prototype=m.prototype,u.Z=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(b,L,P){for(var z=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)z[ue-2]=arguments[ue];return m.prototype[L].apply(b,z)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function p(u){const m=u.length;if(m>0){const g=Array(m);for(let b=0;b<m;b++)g[b]=u[b];return g}return[]}function y(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var g=typeof L;if(g=g!="object"?g:L?Array.isArray(L)?"array":g:"null",g=="array"||g=="object"&&typeof L.length=="number"){g=u.length||0;const P=L.length||0;u.length=g+P;for(let z=0;z<P;z++)u[g+z]=L[z]}else u.push(L)}}class w{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function C(u){a.setTimeout(()=>{throw u},0)}function v(){var u=S;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _{constructor(){this.h=this.g=null}add(m,g){const b=A.get();b.set(m,g),this.h?this.h.next=b:this.g=b,this.h=b}}var A=new w(()=>new M,u=>u.reset());class M{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,k=!1,S=new _,T=()=>{const u=Promise.resolve(void 0);V=()=>{u.then(E)}};function E(){for(var u;u=v();){try{u.h.call(u.g)}catch(g){C(g)}var m=A;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}k=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return u}();function N(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}f(st,D),st.prototype.init=function(u,m){const g=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(u,m,g,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!b,this.ha=L,this.key=++$,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ae(u,m,g){for(const b in u)m.call(g,u[b],b,u)}function De(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function $n(u){const m={};for(const g in u)m[g]=u[g];return m}const ai="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rs(u,m){let g,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(g in b)u[g]=b[g];for(let P=0;P<ai.length;P++)g=ai[P],Object.prototype.hasOwnProperty.call(b,g)&&(u[g]=b[g])}}function un(u){this.src=u,this.g={},this.h=0}un.prototype.add=function(u,m,g,b,L){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const z=Nu(u,m,b,L);return z>-1?(m=u[z],g||(m.fa=!1)):(m=new ae(m,this.src,P,!!b,L),m.fa=g,u.push(m)),m};function Cr(u,m){const g=m.type;if(g in u.g){var b=u.g[g],L=Array.prototype.indexOf.call(b,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(b,L,1),P&&(ne(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Nu(u,m,g,b){for(let L=0;L<u.length;++L){const P=u[L];if(!P.da&&P.listener==m&&P.capture==!!g&&P.ha==b)return L}return-1}var Mu="closure_lm_"+(Math.random()*1e6|0),Ou={};function bf(u,m,g,b,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)bf(u,m[P],g,b,L);return null}return g=Rr(g),u&&u[Wt]?u.J(m,g,o(b)?!!b.capture:!1,L):re(u,m,g,!1,b,L)}function re(u,m,g,b,L,P){if(!m)throw Error("Invalid event type");const z=o(L)?!!L.capture:!!L;let ue=Ue(u);if(ue||(u[Mu]=ue=new un(u)),g=ue.add(m,g,b,z,P),g.proxy)return g;if(b=X(),g.proxy=b,b.src=u,b.listener=g,u.addEventListener)O||(L=z),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(ht(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function X(){function u(g){return m.call(u.src,u.listener,g)}const m=en;return u}function he(u,m,g,b,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)he(u,m[P],g,b,L);else b=o(b)?!!b.capture:!!b,g=Rr(g),u&&u[Wt]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],g=Nu(m,g,b,L),g>-1&&(ne(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=Ue(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Nu(m,g,b,L)),(g=u>-1?m[u]:null)&&be(g))}function be(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Wt])Cr(m.i,u);else{var g=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(g,b,u.capture):m.detachEvent?m.detachEvent(ht(g),b):m.addListener&&m.removeListener&&m.removeListener(b),(g=Ue(m))?(Cr(g,u),g.h==0&&(g.src=null,m[Mu]=null)):ne(u)}}}function ht(u){return u in Ou?Ou[u]:Ou[u]="on"+u}function en(u,m){if(u.da)u=!0;else{m=new st(m,this);const g=u.listener,b=u.ha||u.src;u.fa&&be(u),u=g.call(b,m)}return u}function Ue(u){return u=u[Mu],u instanceof un?u:null}var et="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rr(u){return typeof u=="function"?u:(u[et]||(u[et]=function(m){return u.handleEvent(m)}),u[et])}function Te(){R.call(this),this.i=new un(this),this.M=this,this.G=null}f(Te,R),Te.prototype[Wt]=!0,Te.prototype.removeEventListener=function(u,m,g,b){he(this,u,m,g,b)};function tt(u,m){var g,b=u.G;if(b)for(g=[];b;b=b.G)g.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(b,u),rs(m,L)}L=!0;let P,z;if(g)for(z=g.length-1;z>=0;z--)P=m.g=g[z],L=Da(P,b,!0,m)&&L;if(P=m.g=u,L=Da(P,b,!0,m)&&L,L=Da(P,b,!1,m)&&L,g)for(z=0;z<g.length;z++)P=m.g=g[z],L=Da(P,b,!1,m)&&L}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const g=u.g[m];for(let b=0;b<g.length;b++)ne(g[b]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,g,b){return this.i.add(String(u),m,!1,g,b)},Te.prototype.K=function(u,m,g,b){return this.i.add(String(u),m,!0,g,b)};function Da(u,m,g,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const z=m[P];if(z&&!z.da&&z.capture==g){const ue=z.listener,Tt=z.ha||z.src;z.fa&&Cr(u.i,z),L=ue.call(Tt,b)!==!1&&L}}return L&&!b.defaultPrevented}function rk(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:a.setTimeout(u,m||0)}function kS(u){u.g=rk(()=>{u.g=null,u.i&&(u.i=!1,kS(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ik extends R{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:kS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xu(u){R.call(this),this.h=u,this.g={}}f(xu,R);var LS=[];function VS(u){Ae(u.g,function(m,g){this.g.hasOwnProperty(g)&&be(m)},u),u.g={}}xu.prototype.N=function(){xu.Z.N.call(this),VS(this)},xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qp=a.JSON.stringify,sk=a.JSON.parse,ak=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function PS(){}function US(){}var ku={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $p(){D.call(this,"d")}f($p,D);function Gp(){D.call(this,"c")}f(Gp,D);var Na={},HS=null;function Af(){return HS=HS||new Te}Na.Ia="serverreachability";function jS(u){D.call(this,Na.Ia,u)}f(jS,D);function Lu(u){const m=Af();tt(m,new jS(m))}Na.STAT_EVENT="statevent";function BS(u,m){D.call(this,Na.STAT_EVENT,u),this.stat=m}f(BS,D);function tn(u){const m=Af();tt(m,new BS(m,u))}Na.Ja="timingevent";function zS(u,m){D.call(this,Na.Ja,u),this.size=m}f(zS,D);function Vu(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Pu(){this.g=!0}Pu.prototype.ua=function(){this.g=!1};function ok(u,m,g,b,L,P){u.info(function(){if(u.g)if(P){var z="",ue=P.split("&");for(let Le=0;Le<ue.length;Le++){var Tt=ue[Le].split("=");if(Tt.length>1){const Rt=Tt[0];Tt=Tt[1];const Nr=Rt.split("_");z=Nr.length>=2&&Nr[1]=="type"?z+(Rt+"="+Tt+"&"):z+(Rt+"=redacted&")}}}else z=null;else z=P;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+g+`
`+z})}function lk(u,m,g,b,L,P,z){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+g+`
`+P+" "+z})}function Mo(u,m,g,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ck(u,g)+(b?" "+b:"")})}function uk(u,m){u.info(function(){return"TIMEOUT: "+m})}Pu.prototype.info=function(){};function ck(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var g=P[u];if(!(g.length<2)){var b=g[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let z=1;z<b.length;z++)b[z]=""}}}}return qp(P)}catch{return m}}var If={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},FS={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},YS;function Kp(){}f(Kp,PS),Kp.prototype.g=function(){return new XMLHttpRequest},YS=new Kp;function Uu(u){return encodeURIComponent(String(u))}function hk(u){var m=1;u=u.split(":");const g=[];for(;m>0&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function is(u,m,g,b){this.j=u,this.i=m,this.l=g,this.S=b||1,this.V=new xu(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qS}function qS(){this.i=null,this.g="",this.h=!1}var $S={},Zp={};function Qp(u,m,g){u.M=1,u.A=Rf(Dr(m)),u.u=g,u.R=!0,GS(u,null)}function GS(u,m){u.F=Date.now(),Cf(u),u.B=Dr(u.A);var g=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),aw(g.i,"t",b),u.C=0,g=u.j.L,u.h=new qS,u.g=bw(u.j,g?m:null,!u.u),u.P>0&&(u.O=new ik(c(u.Y,u,u.g),u.P)),m=u.V,g=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(LS[0]=L.toString()),L=LS);for(let P=0;P<L.length;P++){const z=bf(g,L[P],b||m.handleEvent,!1,m.h||m);if(!z)break;m.g[z.key]=z}m=u.J?$n(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Lu(),ok(u.i,u.v,u.B,u.l,u.S,u.u)}is.prototype.ba=function(u){u=u.target;const m=this.O;m&&os(u)==3?m.j():this.Y(u)},is.prototype.Y=function(u){try{if(u==this.g)e:{const ue=os(this.g),Tt=this.g.ya(),Le=this.g.ca();if(!(ue<3)&&(ue!=3||this.g&&(this.h.h||this.g.la()||dw(this.g)))){this.K||ue!=4||Tt==7||(Tt==8||Le<=0?Lu(3):Lu(2)),Xp(this);var m=this.g.ca();this.X=m;var g=fk(this);if(this.o=m==200,lk(this.i,this.v,this.B,this.l,this.S,ue,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(b)){var P=b;break t}}P=null}if(u=P)Mo(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Jp(this,u);else{this.o=!1,this.m=3,tn(12),Ma(this),Hu(this);break e}}if(this.R){u=!0;let Rt;for(;!this.K&&this.C<g.length;)if(Rt=dk(this,g),Rt==Zp){ue==4&&(this.m=4,tn(14),u=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==$S){this.m=4,tn(15),Mo(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else Mo(this.i,this.l,Rt,null),Jp(this,Rt);if(KS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ue!=4||g.length!=0||this.h.h||(this.m=1,tn(16),u=!1),this.o=this.o&&u,!u)Mo(this.i,this.l,g,"[Invalid Chunked Response]"),Ma(this),Hu(this);else if(g.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),ay(z),z.P=!0,tn(11))}}else Mo(this.i,this.l,g,null),Jp(this,g);ue==4&&Ma(this),this.o&&!this.K&&(ue==4?Ew(this.j,this):(this.o=!1,Cf(this)))}else Ck(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,tn(12)):(this.m=0,tn(13)),Ma(this),Hu(this)}}}catch{}finally{}};function fk(u){if(!KS(u))return u.g.la();const m=dw(u.g);if(m==="")return"";let g="";const b=m.length,L=os(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ma(u),Hu(u),"";u.h.i=new a.TextDecoder}for(let P=0;P<b;P++)u.h.h=!0,g+=u.h.i.decode(m[P],{stream:!(L&&P==b-1)});return m.length=0,u.h.g+=g,u.C=0,u.h.g}function KS(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function dk(u,m){var g=u.C,b=m.indexOf(`
`,g);return b==-1?Zp:(g=Number(m.substring(g,b)),isNaN(g)?$S:(b+=1,b+g>m.length?Zp:(m=m.slice(b,b+g),u.C=b+g,m)))}is.prototype.cancel=function(){this.K=!0,Ma(this)};function Cf(u){u.T=Date.now()+u.H,ZS(u,u.H)}function ZS(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Vu(c(u.aa,u),m)}function Xp(u){u.D&&(a.clearTimeout(u.D),u.D=null)}is.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(uk(this.i,this.B),this.M!=2&&(Lu(),tn(17)),Ma(this),this.m=2,Hu(this)):ZS(this,this.T-u)};function Hu(u){u.j.I==0||u.K||Ew(u.j,u)}function Ma(u){Xp(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,VS(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Jp(u,m){try{var g=u.j;if(g.I!=0&&(g.g==u||Wp(g.h,u))){if(!u.L&&Wp(g.h,u)&&g.I==3){try{var b=g.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)xf(g),Mf(g);else break e;sy(g),tn(18)}}else g.xa=L[1],0<g.xa-g.K&&L[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Vu(c(g.Va,g),6e3));JS(g.h)<=1&&g.ta&&(g.ta=void 0)}else xa(g,11)}else if((u.L||g.g==u)&&xf(g),!N(m))for(L=g.Ba.g.parse(m),m=0;m<L.length;m++){let Le=L[m];const Rt=Le[0];if(!(Rt<=g.K))if(g.K=Rt,Le=Le[1],g.I==2)if(Le[0]=="c"){g.M=Le[1],g.ba=Le[2];const Nr=Le[3];Nr!=null&&(g.ka=Nr,g.j.info("VER="+g.ka));const ka=Le[4];ka!=null&&(g.za=ka,g.j.info("SVER="+g.za));const ls=Le[5];ls!=null&&typeof ls=="number"&&ls>0&&(b=1.5*ls,g.O=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const us=u.g;if(us){const Lf=us.g?us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lf){var P=b.h;P.g||Lf.indexOf("spdy")==-1&&Lf.indexOf("quic")==-1&&Lf.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(ey(P,P.h),P.h=null))}if(b.G){const oy=us.g?us.g.getResponseHeader("X-HTTP-Session-Id"):null;oy&&(b.wa=oy,ze(b.J,b.G,oy))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),b=g;var z=u;if(b.na=ww(b,b.L?b.ba:null,b.W),z.L){WS(b.h,z);var ue=z,Tt=b.O;Tt&&(ue.H=Tt),ue.D&&(Xp(ue),Cf(ue)),b.g=z}else vw(b);g.i.length>0&&Of(g)}else Le[0]!="stop"&&Le[0]!="close"||xa(g,7);else g.I==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?xa(g,7):iy(g):Le[0]!="noop"&&g.l&&g.l.qa(Le),g.A=0)}}Lu(4)}catch{}}var mk=class{constructor(u,m){this.g=u,this.map=m}};function QS(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function XS(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function JS(u){return u.h?1:u.g?u.g.size:0}function Wp(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ey(u,m){u.g?u.g.add(m):u.h=m}function WS(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}QS.prototype.cancel=function(){if(this.i=ew(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ew(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.G);return m}return p(u.i)}var tw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gk(u,m){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const b=u[g].indexOf("=");let L,P=null;b>=0?(L=u[g].substring(0,b),P=u[g].substring(b+1)):L=u[g],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ss(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof ss?(this.l=u.l,ju(this,u.j),this.o=u.o,this.g=u.g,Bu(this,u.u),this.h=u.h,ty(this,ow(u.i)),this.m=u.m):u&&(m=String(u).match(tw))?(this.l=!1,ju(this,m[1]||"",!0),this.o=zu(m[2]||""),this.g=zu(m[3]||"",!0),Bu(this,m[4]),this.h=zu(m[5]||"",!0),ty(this,m[6]||"",!0),this.m=zu(m[7]||"")):(this.l=!1,this.i=new Yu(null,this.l))}ss.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Fu(m,nw,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Fu(m,nw,!0),"@"),u.push(Uu(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Fu(g,g.charAt(0)=="/"?vk:yk,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Fu(g,Ek)),u.join("")},ss.prototype.resolve=function(u){const m=Dr(this);let g=!!u.j;g?ju(m,u.j):g=!!u.o,g?m.o=u.o:g=!!u.g,g?m.g=u.g:g=u.u!=null;var b=u.h;if(g)Bu(m,u.u);else if(g=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let z=0;z<L.length;){const ue=L[z++];ue=="."?b&&z==L.length&&P.push(""):ue==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),b&&z==L.length&&P.push("")):(P.push(ue),b=!0)}b=P.join("/")}else b=L}return g?m.h=b:g=u.i.toString()!=="",g?ty(m,ow(u.i)):g=!!u.m,g&&(m.m=u.m),m};function Dr(u){return new ss(u)}function ju(u,m,g){u.j=g?zu(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Bu(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ty(u,m,g){m instanceof Yu?(u.i=m,Tk(u.i,u.l)):(g||(m=Fu(m,_k)),u.i=new Yu(m,u.l))}function ze(u,m,g){u.i.set(m,g)}function Rf(u){return ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function zu(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fu(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,pk),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var nw=/[#\/\?@]/g,yk=/[#\?:]/g,vk=/[#\?]/g,_k=/[#\?@]/g,Ek=/#/g;function Yu(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Oa(u){u.g||(u.g=new Map,u.h=0,u.i&&gk(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Yu.prototype,t.add=function(u,m){Oa(this),this.i=null,u=Oo(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function rw(u,m){Oa(u),m=Oo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function iw(u,m){return Oa(u),m=Oo(u,m),u.g.has(m)}t.forEach=function(u,m){Oa(this),this.g.forEach(function(g,b){g.forEach(function(L){u.call(m,L,b,this)},this)},this)};function sw(u,m){Oa(u);let g=[];if(typeof m=="string")iw(u,m)&&(g=g.concat(u.g.get(Oo(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)g=g.concat(u[m]);return g}t.set=function(u,m){return Oa(this),this.i=null,u=Oo(this,u),iw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=sw(this,u),u.length>0?String(u[0]):m):m};function aw(u,m,g){rw(u,m),g.length>0&&(u.i=null,u.g.set(Oo(u,m),p(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var g=m[b];const L=Uu(g);g=sw(this,g);for(let P=0;P<g.length;P++){let z=L;g[P]!==""&&(z+="="+Uu(g[P])),u.push(z)}}return this.i=u.join("&")};function ow(u){const m=new Yu;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Oo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Tk(u,m){m&&!u.j&&(Oa(u),u.i=null,u.g.forEach(function(g,b){const L=b.toLowerCase();b!=L&&(rw(this,b),aw(this,L,g))},u)),u.j=m}function Sk(u,m){const g=new Pu;if(a.Image){const b=new Image;b.onload=h(as,g,"TestLoadImage: loaded",!0,m,b),b.onerror=h(as,g,"TestLoadImage: error",!1,m,b),b.onabort=h(as,g,"TestLoadImage: abort",!1,m,b),b.ontimeout=h(as,g,"TestLoadImage: timeout",!1,m,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function wk(u,m){const g=new Pu,b=new AbortController,L=setTimeout(()=>{b.abort(),as(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(P=>{clearTimeout(L),P.ok?as(g,"TestPingServer: ok",!0,m):as(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),as(g,"TestPingServer: error",!1,m)})}function as(u,m,g,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(g)}catch{}}function bk(){this.g=new ak}function ny(u){this.i=u.Sb||null,this.h=u.ab||!1}f(ny,PS),ny.prototype.g=function(){return new Df(this.i,this.h)};function Df(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Df,Te),t=Df.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$u(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||a).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qu(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$u(this)),this.g&&(this.readyState=3,$u(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lw(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function lw(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qu(this):$u(this),this.readyState==3&&lw(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,qu(this))},t.Na=function(u){this.g&&(this.response=u,qu(this))},t.ga=function(){this.g&&qu(this)};function qu(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$u(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function $u(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function uw(u){let m="";return Ae(u,function(g,b){m+=b,m+=":",m+=g,m+=`\r
`}),m}function ry(u,m,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=uw(g),typeof u=="string"?g!=null&&Uu(g):ze(u,m,g))}function nt(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(nt,Te);var Ak=/^https?$/i,Ik=["POST","PUT"];t=nt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():YS.g(),this.g.onreadystatechange=d(c(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){cw(this,P);return}if(u=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)g.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const P of b.keys())g.set(P,b.get(P));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(P=>P.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(Array.prototype.indexOf.call(Ik,m,void 0)>=0)||b||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,z]of g)this.g.setRequestHeader(P,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){cw(this,P)}};function cw(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,hw(u),Nf(u)}function hw(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,tt(this,"complete"),tt(this,"abort"),Nf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nf(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fw(this):this.Xa())},t.Xa=function(){fw(this)};function fw(u){if(u.h&&typeof s<"u"){if(u.v&&os(u)==4)setTimeout(u.Ca.bind(u),0);else if(tt(u,"readystatechange"),os(u)==4){u.h=!1;try{const P=u.ca();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var b;if(b=P===0){let z=String(u.D).match(tw)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),b=!Ak.test(z?z.toLowerCase():"")}g=b}if(g)tt(u,"complete"),tt(u,"success");else{u.o=6;try{var L=os(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",hw(u)}}finally{Nf(u)}}}}function Nf(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,m||tt(u,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function os(u){return u.g?u.g.readyState:0}t.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),sk(m)}};function dw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ck(u){const m={};u=(u.g&&os(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(N(u[b]))continue;var g=hk(u[b]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const P=m[L]||[];m[L]=P,P.push(g)}De(m,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gu(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function mw(u){this.za=0,this.i=[],this.j=new Pu,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gu("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gu("baseRetryDelayMs",5e3,u),this.Za=Gu("retryDelaySeedMs",1e4,u),this.Ta=Gu("forwardChannelMaxRetries",2,u),this.va=Gu("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new QS(u&&u.concurrentRequestLimit),this.Ba=new bk,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mw.prototype,t.ka=8,t.I=1,t.connect=function(u,m,g,b){tn(0),this.W=u,this.H=m||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.J=ww(this,null,this.W),Of(this)};function iy(u){if(gw(u),u.I==3){var m=u.V++,g=Dr(u.J);if(ze(g,"SID",u.M),ze(g,"RID",m),ze(g,"TYPE","terminate"),Ku(u,g),m=new is(u,u.j,m),m.M=2,m.A=Rf(Dr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.A,g=!0),g||(m.g=bw(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Cf(m)}Sw(u)}function Mf(u){u.g&&(ay(u),u.g.cancel(),u.g=null)}function gw(u){Mf(u),u.v&&(a.clearTimeout(u.v),u.v=null),xf(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&a.clearTimeout(u.m),u.m=null)}function Of(u){if(!XS(u.h)&&!u.m){u.m=!0;var m=u.Ea;V||T(),k||(V(),k=!0),S.add(m,u),u.D=0}}function Rk(u,m){return JS(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Vu(c(u.Ea,u,m),Tw(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new is(this,this.j,u);let P=this.o;if(this.U&&(P?(P=$n(P),rs(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=yw(this,L,m),g=Dr(this.J),ze(g,"RID",u),ze(g,"CVER",22),this.G&&ze(g,"X-HTTP-Session-Id",this.G),Ku(this,g),P&&(this.R?m="headers="+Uu(uw(P))+"&"+m:this.u&&ry(g,this.u,P)),ey(this.h,L),this.Ra&&ze(g,"TYPE","init"),this.S?(ze(g,"$req",m),ze(g,"SID","null"),L.U=!0,Qp(L,g,null)):Qp(L,g,m),this.I=2}}else this.I==3&&(u?pw(this,u):this.i.length==0||XS(this.h)||pw(this))};function pw(u,m){var g;m?g=m.l:g=u.V++;const b=Dr(u.J);ze(b,"SID",u.M),ze(b,"RID",g),ze(b,"AID",u.K),Ku(u,b),u.u&&u.o&&ry(b,u.u,u.o),g=new is(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yw(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ey(u.h,g),Qp(g,b,m)}function Ku(u,m){u.H&&Ae(u.H,function(g,b){ze(m,b,g)}),u.l&&Ae({},function(g,b){ze(m,b,g)})}function yw(u,m,g){g=Math.min(u.i.length,g);const b=u.l?c(u.l.Ka,u.l,u):null;e:{var L=u.i;let ue=-1;for(;;){const Tt=["count="+g];ue==-1?g>0?(ue=L[0].g,Tt.push("ofs="+ue)):ue=0:Tt.push("ofs="+ue);let Le=!0;for(let Rt=0;Rt<g;Rt++){var P=L[Rt].g;const Nr=L[Rt].map;if(P-=ue,P<0)ue=Math.max(0,L[Rt].g-100),Le=!1;else try{P="req"+P+"_"||"";try{var z=Nr instanceof Map?Nr:Object.entries(Nr);for(const[ka,ls]of z){let us=ls;o(ls)&&(us=qp(ls)),Tt.push(P+ka+"="+encodeURIComponent(us))}}catch(ka){throw Tt.push(P+"type="+encodeURIComponent("_badmap")),ka}}catch{b&&b(Nr)}}if(Le){z=Tt.join("&");break e}}z=void 0}return u=u.i.splice(0,g),m.G=u,z}function vw(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;V||T(),k||(V(),k=!0),S.add(m,u),u.A=0}}function sy(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Vu(c(u.Da,u),Tw(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,_w(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Vu(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tn(10),Mf(this),_w(this))};function ay(u){u.B!=null&&(a.clearTimeout(u.B),u.B=null)}function _w(u){u.g=new is(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Dr(u.na);ze(m,"RID","rpc"),ze(m,"SID",u.M),ze(m,"AID",u.K),ze(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ze(m,"TO",u.ia),ze(m,"TYPE","xmlhttp"),Ku(u,m),u.u&&u.o&&ry(m,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=Rf(Dr(m)),g.u=null,g.R=!0,GS(g,u)}t.Va=function(){this.C!=null&&(this.C=null,Mf(this),sy(this),tn(19))};function xf(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ew(u,m){var g=null;if(u.g==m){xf(u),ay(u),u.g=null;var b=2}else if(Wp(u.h,m))g=m.G,WS(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=Af(),tt(b,new zS(b,g)),Of(u)}else vw(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Rk(u,m)||b==2&&sy(u)))switch(g&&g.length>0&&(m=u.h,m.i=m.i.concat(g)),L){case 1:xa(u,5);break;case 4:xa(u,10);break;case 3:xa(u,6);break;default:xa(u,2)}}}function Tw(u,m){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*m}function xa(u,m){if(u.j.info("Error code "+m),m==2){var g=c(u.bb,u),b=u.Ua;const L=!b;b=new ss(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ju(b,"https"),Rf(b),L?Sk(b.toString(),g):wk(b.toString(),g)}else tn(2);u.I=0,u.l&&u.l.pa(m),Sw(u),gw(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function Sw(u){if(u.I=0,u.ja=[],u.l){const m=ew(u.h);(m.length!=0||u.i.length!=0)&&(y(u.ja,m),y(u.ja,u.i),u.h.i.length=0,p(u.i),u.i.length=0),u.l.oa()}}function ww(u,m,g){var b=g instanceof ss?Dr(g):new ss(g);if(b.g!="")m&&(b.g=m+"."+b.g),Bu(b,b.u);else{var L=a.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new ss(null);b&&ju(P,b),m&&(P.g=m),L&&Bu(P,L),g&&(P.h=g),b=P}return g=u.G,m=u.wa,g&&m&&ze(b,g,m),ze(b,"VER",u.ka),Ku(u,b),b}function bw(u,m,g){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new nt(new ny({ab:g})):new nt(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Aw(){}t=Aw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function kf(){}kf.prototype.g=function(u,m){return new Rn(u,m)};function Rn(u,m){Te.call(this),this.g=new mw(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new xo(this)}f(Rn,Te),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){iy(this.g)},Rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=qp(u),u=g);m.i.push(new mk(m.Ya++,u)),m.I==3&&Of(m)},Rn.prototype.N=function(){this.g.l=null,delete this.j,iy(this.g),delete this.g,Rn.Z.N.call(this)};function Iw(u){$p.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const g in m){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}f(Iw,$p);function Cw(){Gp.call(this),this.status=1}f(Cw,Gp);function xo(u){this.g=u}f(xo,Aw),xo.prototype.ra=function(){tt(this.g,"a")},xo.prototype.qa=function(u){tt(this.g,new Iw(u))},xo.prototype.pa=function(u){tt(this.g,new Cw)},xo.prototype.oa=function(){tt(this.g,"b")},kf.prototype.createWebChannel=kf.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,SM=function(){return new kf},TM=function(){return Af()},EM=Na,Hv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},If.NO_ERROR=0,If.TIMEOUT=8,If.HTTP_ERROR=6,Ud=If,FS.COMPLETE="complete",_M=FS,US.EventType=ku,ku.OPEN="a",ku.CLOSE="b",ku.ERROR="c",ku.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Sc=US,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,vM=nt}).apply(typeof Wf<"u"?Wf:typeof self<"u"?self:typeof window<"u"?window:{});const xA="@firebase/firestore",kA="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new qE("@firebase/firestore");function Go(){return co.logLevel}function G(t,...e){if(co.logLevel<=me.DEBUG){const n=e.map(i1);co.debug(`Firestore (${uu}): ${t}`,...n)}}function Gi(t,...e){if(co.logLevel<=me.ERROR){const n=e.map(i1);co.error(`Firestore (${uu}): ${t}`,...n)}}function Hl(t,...e){if(co.logLevel<=me.WARN){const n=e.map(i1);co.warn(`Firestore (${uu}): ${t}`,...n)}}function i1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wM(t,r,n)}function wM(t,e,n){let r=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gi(r),new Error(r)}function Re(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||wM(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class xU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kU{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qs,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new bM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class LU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new LU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=UU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function jv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Jy(i)===Jy(s)?ge(i,s):Jy(i)?1:-1}return ge(t.length,e.length)}const HU=55296,jU=57343;function Jy(t){const e=t.charCodeAt(0);return e>=HU&&e<=jU}function jl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="__name__";class Or{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Or.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ge(e.length,n.length)}static compareSegments(e,n){const r=Or.isNumericId(e),i=Or.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Or.extractNumericId(e).compare(Or.extractNumericId(n)):jv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class He extends Or{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const BU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Or{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return BU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VA}static keyField(){return new jt([VA])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new q(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new q(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(He.fromString(e))}static fromName(e){return new Q(He.fromString(e).popFirst(5))}static empty(){return new Q(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e,n){if(!n)throw new q(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zU(t,e,n,r){if(e===!0&&r===!0)throw new q(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PA(t){if(!Q.isDocumentKey(t))throw new q(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UA(t){if(Q.isDocumentKey(t))throw new q(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function IM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $g(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$g(t);throw new q(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xh(t,e){if(!IM(t))throw new q(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new q(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=-62135596800,jA=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jA);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<HA)throw new q(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jA}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xh(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-HA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:Et("string",qe._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new qe(0,0))}static max(){return new ie(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=-1;function FU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new ea(i,Q.empty(),e)}function YU(t){return new ea(t.readTime,t.key,dh)}class ea{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ea(ie.min(),Q.empty(),dh)}static max(){return new ea(ie.max(),Q.empty(),dh)}}function qU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==$U)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{a[c]=h,++o,o===s&&r(a)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function KU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=-1;function Kg(t){return t==null}function Um(t){return t===0&&1/t==-1/0}function ZU(t){return typeof t=="number"&&Number.isInteger(t)&&!Um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="";function QU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=BA(e)),e=XU(t.get(n),e);return BA(e)}function XU(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case CM:n+="";break;default:n+=s}}return n}function BA(t){return t+CM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ed(this.root,e,this.comparator,!0)}}class ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FA(this.data.getIterator())}getIteratorFrom(e){return new FA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class FA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new At(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new DM("Invalid base64 string: "+s):s}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const JU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=JU.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function na(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="server_timestamp",MM="__type__",OM="__previous_value__",xM="__local_write_time__";function o1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MM])==null?void 0:r.stringValue)===NM}function Zg(t){const e=t.mapValue.fields[OM];return o1(e)?Zg(e):e}function mh(t){const e=ta(t.mapValue.fields[xM].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n,r,i,s,a,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Hm="(default)";class gh{constructor(e,n){this.projectId=e,this.database=n||Hm}static empty(){return new gh("","")}get isDefaultDatabase(){return this.database===Hm}isEqual(e){return e instanceof gh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="__type__",eH="__max__",td={mapValue:{}},LM="__vector__",jm="value";function ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o1(t)?4:nH(t)?9007199254740991:tH(t)?10:11:ee(28295,{value:t})}function $r(t,e){if(t===e)return!0;const n=ra(t);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mh(t).isEqual(mh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ta(i.timestampValue),o=ta(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return na(i.bytesValue).isEqual(na(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=ot(i.doubleValue),o=ot(s.doubleValue);return a===o?Um(a)===Um(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return jl(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(zA(a)!==zA(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!$r(a[l],o[l])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function ph(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=ra(t),r=ra(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=ot(s.integerValue||s.doubleValue),l=ot(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return YA(t.timestampValue,e.timestampValue);case 4:return YA(mh(t),mh(e));case 5:return jv(t.stringValue,e.stringValue);case 6:return function(s,a){const o=na(s),l=na(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=ge(o[c],l[c]);if(h!==0)return h}return ge(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=ge(ot(s.latitude),ot(a.latitude));return o!==0?o:ge(ot(s.longitude),ot(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qA(t.arrayValue,e.arrayValue);case 10:return function(s,a){var d,p,y,w;const o=s.fields||{},l=a.fields||{},c=(d=o[jm])==null?void 0:d.arrayValue,h=(p=l[jm])==null?void 0:p.arrayValue,f=ge(((y=c==null?void 0:c.values)==null?void 0:y.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return f!==0?f:qA(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===td.mapValue&&a===td.mapValue)return 0;if(s===td.mapValue)return 1;if(a===td.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=jv(l[f],h[f]);if(d!==0)return d;const p=Bl(o[l[f]],c[h[f]]);if(p!==0)return p}return ge(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function YA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=ta(t),r=ta(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function qA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Bl(n[i],r[i]);if(s)return s}return ge(n.length,r.length)}function zl(t){return Bv(t)}function Bv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ta(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return na(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Bv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Bv(n.fields[a])}`;return i+"}"}(t.mapValue):ee(61005,{value:t})}function Hd(t){switch(ra(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zg(t);return e?16+Hd(e):16;case 5:return 2*t.stringValue.length;case 6:return na(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Hd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return pa(r.fields,(s,a)=>{i+=s.length+Hd(a)}),i}(t.mapValue);default:throw ee(13486,{value:t})}}function $A(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zv(t){return!!t&&"integerValue"in t}function l1(t){return!!t&&"arrayValue"in t}function GA(t){return!!t&&"nullValue"in t}function KA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jd(t){return!!t&&"mapValue"in t}function tH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kM])==null?void 0:r.stringValue)===LM}function Yc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yc(t.arrayValue.values[n]);return e}return{...t}}function nH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Yc(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vn(Yc(this.value))}}function VM(t){const e=[];return pa(t.fields,(n,r)=>{const i=new jt([n]);if(jd(r)){const s=VM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Kt(e,0,ie.min(),ie.min(),ie.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new Kt(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new Kt(e,2,n,ie.min(),ie.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,ie.min(),ie.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.position=e,this.inclusive=n}}function ZA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(a.referenceValue),n.key):r=Bl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function QA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n="asc"){this.field=e,this.dir=n}}function rH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{}class vt extends PM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sH(e,n,r):n==="array-contains"?new lH(e,r):n==="in"?new uH(e,r):n==="not-in"?new cH(e,r):n==="array-contains-any"?new hH(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aH(e,r):new oH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bl(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends PM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Er(e,n)}matches(e){return UM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UM(t){return t.op==="and"}function HM(t){return iH(t)&&UM(t)}function iH(t){for(const e of t.filters)if(e instanceof Er)return!1;return!0}function Fv(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+zl(t.value);if(HM(t))return t.filters.map(e=>Fv(e)).join(",");{const e=t.filters.map(n=>Fv(n)).join(",");return`${t.op}(${e})`}}function jM(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof Er?function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&jM(a,i.filters[o]),!0):!1}(t,e):void ee(19439)}function BM(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${zl(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(BM).join(" ,")+"}"}(t):"Filter"}class sH extends vt{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class aH extends vt{constructor(e,n){super(e,"in",n),this.keys=zM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oH extends vt{constructor(e,n){super(e,"not-in",n),this.keys=zM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zM(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class lH extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l1(n)&&ph(n.arrayValue,this.value)}}class uH extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ph(this.value.arrayValue,n)}}class cH extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ph(this.value.arrayValue,n)}}class hH extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function XA(t,e=null,n=[],r=[],i=null,s=null,a=null){return new fH(t,e,n,r,i,s,a)}function u1(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Kg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zl(r)).join(",")),e.Te=n}return e.Te}function c1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QA(t.startAt,e.startAt)&&QA(t.endAt,e.endAt)}function Yv(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dH(t,e,n,r,i,s,a,o){return new Jh(t,e,n,r,i,s,a,o)}function Qg(t){return new Jh(t)}function JA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FM(t){return t.collectionGroup!==null}function qc(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new At(jt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new zm(s,r))}),n.has(jt.keyField().canonicalString())||e.Ie.push(new zm(jt.keyField(),r))}return e.Ie}function jr(t){const e=se(t);return e.Ee||(e.Ee=mH(e,qc(t))),e.Ee}function mH(t,e){if(t.limitType==="F")return XA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new zm(i.field,s)});const n=t.endAt?new Bm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bm(t.startAt.position,t.startAt.inclusive):null;return XA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qv(t,e){const n=t.filters.concat([e]);return new Jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $v(t,e,n){return new Jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xg(t,e){return c1(jr(t),jr(e))&&t.limitType===e.limitType}function YM(t){return`${u1(jr(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BM(i)).join(", ")}]`),Kg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zl(i)).join(",")),`Target(${r})`}(jr(t))}; limitType=${t.limitType})`}function Jg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of qc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=ZA(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,qc(r),i)||r.endAt&&!function(a,o,l){const c=ZA(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,qc(r),i))}(t,e)}function gH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qM(t){return(e,n)=>{let r=!1;for(const i of qc(t)){const s=pH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function pH(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Bl(l,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH=new We(Q.comparator);function Ki(){return yH}const $M=new We(Q.comparator);function wc(...t){let e=$M;for(const n of t)e=e.insert(n.key,n);return e}function GM(t){let e=$M;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $a(){return $c()}function KM(){return $c()}function $c(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}const vH=new We(Q.comparator),_H=new At(Q.comparator);function pe(...t){let e=_H;for(const n of t)e=e.add(n);return e}const EH=new At(ge);function TH(){return EH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Um(e)?"-0":e}}function ZM(t){return{integerValue:""+t}}function SH(t,e){return ZU(e)?ZM(e):h1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this._=void 0}}function wH(t,e,n){return t instanceof Fm?function(i,s){const a={fields:{[MM]:{stringValue:NM},[xM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&o1(s)&&(s=Zg(s)),s&&(a.fields[OM]=s),{mapValue:a}}(n,e):t instanceof yh?XM(t,e):t instanceof vh?JM(t,e):function(i,s){const a=QM(i,s),o=WA(a)+WA(i.Ae);return zv(a)&&zv(i.Ae)?ZM(o):h1(i.serializer,o)}(t,e)}function bH(t,e,n){return t instanceof yh?XM(t,e):t instanceof vh?JM(t,e):n}function QM(t,e){return t instanceof Ym?function(r){return zv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Fm extends Wg{}class yh extends Wg{constructor(e){super(),this.elements=e}}function XM(t,e){const n=WM(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class vh extends Wg{constructor(e){super(),this.elements=e}}function JM(t,e){let n=WM(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class Ym extends Wg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function WA(t){return ot(t.integerValue||t.doubleValue)}function WM(t){return l1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yh&&i instanceof yh||r instanceof vh&&i instanceof vh?jl(r.elements,i.elements,$r):r instanceof Ym&&i instanceof Ym?$r(r.Ae,i.Ae):r instanceof Fm&&i instanceof Fm}(t.transform,e.transform)}class IH{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ep{}function eO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f1(t.key,ar.none()):new Wh(t.key,t.data,ar.none());{const n=t.data,r=vn.empty();let i=new At(jt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ya(t.key,r,new Ln(i.toArray()),ar.none())}}function CH(t,e,n){t instanceof Wh?function(i,s,a){const o=i.value.clone(),l=tI(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ya?function(i,s,a){if(!Bd(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=tI(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(tO(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Gc(t,e,n,r){return t instanceof Wh?function(s,a,o,l){if(!Bd(s.precondition,a))return o;const c=s.value.clone(),h=nI(s.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ya?function(s,a,o,l){if(!Bd(s.precondition,a))return o;const c=nI(s.fieldTransforms,l,a),h=a.data;return h.setAll(tO(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,a,o){return Bd(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function RH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QM(r.transform,i||null);s!=null&&(n===null&&(n=vn.empty()),n.set(r.field,s))}return n||null}function eI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jl(r,i,(s,a)=>AH(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wh extends ep{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ya extends ep{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tI(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,bH(a,o,n[i]))}return r}function nI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,wH(s,a,e))}return r}class f1 extends ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DH extends ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&CH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KM();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=eO(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,(n,r)=>eI(n,r))&&jl(this.baseMutations,e.baseMutations,(n,r)=>eI(n,r))}}class d1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return vH}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new d1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Se;function xH(t){switch(t){case H.OK:return ee(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function nO(t){if(t===void 0)return Gi("GRPC error has no .code"),H.UNKNOWN;switch(t){case dt.OK:return H.OK;case dt.CANCELLED:return H.CANCELLED;case dt.UNKNOWN:return H.UNKNOWN;case dt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case dt.INTERNAL:return H.INTERNAL;case dt.UNAVAILABLE:return H.UNAVAILABLE;case dt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case dt.NOT_FOUND:return H.NOT_FOUND;case dt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case dt.ABORTED:return H.ABORTED;case dt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case dt.DATA_LOSS:return H.DATA_LOSS;default:return ee(39323,{code:t})}}(Se=dt||(dt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=new Ys([4294967295,4294967295],0);function rI(t){const e=kH().encode(t),n=new yM;return n.update(e),new Uint8Array(n.digest())}function iI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ys([n,r],0),new Ys([i,s],0)]}class m1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bc(`Invalid padding: ${n}`);if(r<0)throw new bc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ys.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ys.fromNumber(r)));return i.compare(LH)===1&&(i=new Ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rI(e),[r,i]=iI(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new m1(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=rI(e),[r,i]=iI(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ef.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tp(ie.min(),i,new We(ge),Ki(),pe())}}class ef{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ef(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class rO{constructor(e,n){this.targetId=e,this.Ce=n}}class iO{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sI{constructor(){this.ve=0,this.Fe=aI(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pe(),n=pe(),r=pe();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:s})}}),new ef(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=aI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ki(),this.Je=nd(),this.He=nd(),this.Ye=new We(ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Yv(s))if(r===0){const a=new Q(s.path);this.et(n,a,Kt.newNoDocument(a,ie.min()))}else Re(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=na(r).toUint8Array()}catch(l){if(l instanceof DM)return Hl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new m1(a,i,s)}catch(l){return Hl(l instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&Yv(o.target)){const l=new Q(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Kt.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=pe();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new tp(e,n,this.Ye,this.je,r);return this.je=Ki(),this.Je=nd(),this.He=nd(),this.Ye=new We(ge),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new At(ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new At(ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nd(){return new We(Q.comparator)}function aI(){return new We(Q.comparator)}const PH={asc:"ASCENDING",desc:"DESCENDING"},UH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HH={and:"AND",or:"OR"};class jH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gv(t,e){return t.useProto3Json||Kg(e)?e:{value:e}}function qm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BH(t,e){return qm(t,e.toTimestamp())}function Br(t){return Re(!!t,49232),ie.fromTimestamp(function(n){const r=ta(n);return new qe(r.seconds,r.nanos)}(t))}function g1(t,e){return Kv(t,e).canonicalString()}function Kv(t,e){const n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aO(t){const e=He.fromString(t);return Re(hO(e),10190,{key:e.toString()}),e}function Zv(t,e){return g1(t.databaseId,e.path)}function Wy(t,e){const n=aO(e);if(n.get(1)!==t.databaseId.projectId)throw new q(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(lO(n))}function oO(t,e){return g1(t.databaseId,e)}function zH(t){const e=aO(t);return e.length===4?He.emptyPath():lO(e)}function Qv(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lO(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oI(t,e,n){return{name:Zv(t,e),fields:n.value.mapValue.fields}}function FH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Re(h===void 0||typeof h=="string",58123),Yt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Yt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const h=c.code===void 0?H.UNKNOWN:nO(c.code);return new q(h,c.message||"")}(a);n=new iO(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wy(t,r.document.name),s=Br(r.document.updateTime),a=r.document.createTime?Br(r.document.createTime):ie.min(),o=new vn({mapValue:{fields:r.document.fields}}),l=Kt.newFoundDocument(i,s,a,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new zd(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wy(t,r.document),s=r.readTime?Br(r.readTime):ie.min(),a=Kt.newNoDocument(i,s),o=r.removedTargetIds||[];n=new zd([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wy(t,r.document),s=r.removedTargetIds||[];n=new zd([],s,i,null)}else{if(!("filter"in e))return ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new OH(i,s),o=r.targetId;n=new rO(o,a)}}return n}function YH(t,e){let n;if(e instanceof Wh)n={update:oI(t,e.key,e.value)};else if(e instanceof f1)n={delete:Zv(t,e.key)};else if(e instanceof ya)n={update:oI(t,e.key,e.data),updateMask:WH(e.fieldMask)};else{if(!(e instanceof DH))return ee(16599,{Vt:e.type});n={verify:Zv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Fm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ym)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw ee(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:BH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee(27497)}(t,e.precondition)),n}function qH(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Br(i.updateTime):Br(s);return a.isEqual(ie.min())&&(a=Br(s)),new IH(a,i.transformResults||[])}(n,e))):[]}function $H(t,e){return{documents:[oO(t,e.path)]}}function GH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oO(t,i);const s=function(c){if(c.length!==0)return cO(Er.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Zo(d.field),direction:QH(d.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Gv(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function KH(t){let e=zH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const d=uO(f);return d instanceof Er&&HM(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(y){return new zm(Qo(y.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,Kg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Bm(p,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,p=f.values||[];return new Bm(p,d)}(n.endAt)),dH(e,i,a,s,o,"F",l,c)}function ZH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qo(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qo(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qo(n.unaryFilter.field);return vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qo(n.unaryFilter.field);return vt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(Qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(r=>uO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function QH(t){return PH[t]}function XH(t){return UH[t]}function JH(t){return HH[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function Qo(t){return jt.fromServerFormat(t.fieldPath)}function cO(t){return t instanceof vt?function(n){if(n.op==="=="){if(KA(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(GA(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KA(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(GA(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:XH(n.op),value:n.value}}}(t):t instanceof Er?function(n){const r=n.getFilters().map(i=>cO(i));return r.length===1?r[0]:{compositeFilter:{op:JH(n.op),filters:r}}}(t):ee(54877,{filter:t})}function WH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,i,s=ie.min(),a=ie.min(),o=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.yt=e}}function t7(t){const e=KH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$v(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this.Cn=new r7}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ea.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class r7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fO=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(fO,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fl(0)}static cr(){return new Fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="LruGarbageCollector",i7=1048576;function cI([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class s7{constructor(e){this.Ir=e,this.buffer=new At(cI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(uI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hu(n)?G(uI,"Ignoring IndexedDB error during garbage collection: ",n):await cu(n)}await this.Vr(3e5)})}}class o7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Gg.ce);const r=new s7(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(lI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lI):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Go()<=me.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function l7(t,e){return new o7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gc(r.mutation,i,Ln.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=$a();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=wc();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=$a();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Ki();const a=$c(),o=function(){return $c()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ya)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),Gc(h.mutation,c,h.mutation.getFieldMask(),qe.now())):a.set(c.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>o.set(c,new c7(h,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=$c();let i=new We((a,o)=>a-o),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Ln.empty();h=o.applyToLocalView(c,h),r.set(l,h);const f=(i.get(o.batchId)||pe()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=KM();h.forEach(d=>{if(!s.has(d)){const p=eO(n.get(d),r.get(d));p!==null&&f.set(d,p),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve($a());let o=dh,l=s;return a.next(c=>B.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,pe())).next(h=>({batchId:o,changes:GM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=wc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=wc();return this.indexManager.getCollectionParents(e,s).next(o=>B.forEach(o,l=>{const c=function(f,d){return new Jh(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Kt.newInvalidDocument(h)))});let o=wc();return a.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Gc(h.mutation,c,Ln.empty(),qe.now()),Jg(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:t7(i.bundledQuery),readTime:Br(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(){this.overlays=new We(Q.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$a();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=$a(),s=n.length+1,a=new Q(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=$a(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=$a(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return B.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new MH(n,r));let s=this.qr.get(n);s===void 0&&(s=pe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.Qr=new At(Nt.$r),this.Ur=new At(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Nt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new He([])),r=new Nt(n,e),i=new Nt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new He([])),r=new Nt(n,e),i=new Nt(n,e+1);let s=pe();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||ge(e.Yr,n.Yr)}static Kr(e,n){return ge(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new At(Nt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new NH(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Nt(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return B.resolve(a)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?a1:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(ge);return n.forEach(i=>{const s=new Nt(i,0),a=new Nt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const a=new Nt(new Q(s),0);let o=new At(ge);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},a),B.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,i=>{const s=new Nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.ri=e,this.docs=function(){return new We(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=Ki();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ki();const a=n.path,o=new Q(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||qU(YU(h),r)<=0||(i.has(h.key)||Jg(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new y7(this)}getSize(e){return B.resolve(this.size)}}class y7 extends u7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.persistence=e,this.si=new So(n=>u1(n),c1),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.oi=0,this._i=new p1,this.targetCount=0,this.ai=Fl.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Fl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gg(0),this.li=!1,this.li=!0,this.hi=new m7,this.referenceDelegate=e(this),this.Pi=new v7(this),this.indexManager=new n7,this.remoteDocumentCache=function(i){return new p7(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new e7(n),this.Ii=new f7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new g7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new _7(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class _7 extends GU{constructor(e){super(),this.currentSequenceNumber=e}}class y1{constructor(e){this.persistence=e,this.Ri=new p1,this.Vi=null}static mi(e){return new y1(e)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const i=Q.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $m{constructor(e,n){this.persistence=e,this.pi=new So(r=>QU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=l7(this,n)}static mi(e,n){return new $m(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,s.removeEntry(a,ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hd(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new v1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return $V()?8:KU(Qt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new E7;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Go()<=me.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Go()<=me.DEBUG&&G("QueryEngine","Query:",Ko(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Go()<=me.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):B.resolve())}ys(e,n){if(JA(n))return B.resolve(null);let r=jr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$v(n,null,"F"),r=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=pe(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,$v(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return JA(n)||i.isEqual(ie.min())?B.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?B.resolve(null):(Go()<=me.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ko(n)),this.vs(e,a,n,FU(i,dh)).next(o=>o))})}Ds(e,n){let r=new At(qM(e));return n.forEach((i,s)=>{Jg(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Go()<=me.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.ps.getDocumentsMatchingQuery(e,n,ea.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="LocalStore",S7=3e8;class w7{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new We(ge),this.xs=new So(s=>u1(s),c1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function b7(t,e,n,r){return new w7(t,e,n,r)}async function mO(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=pe();for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function A7(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const f=c.batch,d=f.keys();let p=B.resolve();return d.forEach(y=>{p=p.next(()=>h.getEntry(l,y)).next(w=>{const C=c.docVersions.get(y);Re(C!==null,48541),w.version.compareTo(C)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=pe();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gO(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function I7(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;o.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,f)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Yt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(f,p),function(w,C,v){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=S7?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,p,h)&&o.push(n.Pi.updateTargetData(s,p))});let l=Ki(),c=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(C7(s,a,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(ie.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(h)}return B.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function C7(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ki();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):G(_1,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:i}})}function R7(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=a1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function D7(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new Ms(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Xv(t,e,n){const r=se(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!hu(a))throw a;G(_1,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function hI(t,e,n){const r=se(t);let i=ie.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const f=se(l),d=f.xs.get(h);return d!==void 0?B.resolve(f.Ms.get(d)):f.Pi.getTargetData(c,h)}(r,a,jr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:ie.min(),n?s:pe())).next(o=>(N7(r,gH(e),o),{documents:o,Qs:s})))}function N7(t,e,n){let r=t.Os.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class fI{constructor(){this.activeTargetIds=TH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M7{constructor(){this.Mo=new fI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="ConnectivityMonitor";class mI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(dI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(dI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function Jv(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="RestConnection",x7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Hm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=Jv(),o=this.zo(e,n.toUriEncodedString());G(e0,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),h=au(c);return this.Jo(e,o,l,r,h).then(f=>(G(e0,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Hl(e0,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=x7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class V7 extends k7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=Jv();return new Promise((o,l)=>{const c=new vM;c.setWithCredentials(!0),c.listenOnce(_M.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ud.NO_ERROR:const f=c.getResponseJson();G($t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case Ud.TIMEOUT:G($t,`RPC '${e}' ${a} timed out`),l(new q(H.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const d=c.getStatus();if(G($t,`RPC '${e}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const w=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(_)>=0?_:H.UNKNOWN}(y.status);l(new q(w,y.message))}else l(new q(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(H.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G($t,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);G($t,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Jv(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=SM(),o=TM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");G($t,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=a.createWebChannel(h,l);this.I_(f);let d=!1,p=!1;const y=new L7({Yo:C=>{p?G($t,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(d||(G($t,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),G($t,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},Zo:()=>f.close()}),w=(C,v,_)=>{C.listen(v,A=>{try{_(A)}catch(M){setTimeout(()=>{throw M},0)}})};return w(f,Sc.EventType.OPEN,()=>{p||(G($t,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),w(f,Sc.EventType.CLOSE,()=>{p||(p=!0,G($t,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),w(f,Sc.EventType.ERROR,C=>{p||(p=!0,Hl($t,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),y.a_(new q(H.UNAVAILABLE,"The operation could not be completed")))}),w(f,Sc.EventType.MESSAGE,C=>{var v;if(!p){const _=C.data[0];Re(!!_,16349);const A=_,M=(A==null?void 0:A.error)||((v=A[0])==null?void 0:v.error);if(M){G($t,`RPC '${e}' stream ${i} received error:`,M);const V=M.status;let k=function(E){const R=dt[E];if(R!==void 0)return nO(R)}(V),S=M.message;k===void 0&&(k=H.INTERNAL,S="Unknown error status: "+V+" with message "+M.message),p=!0,y.a_(new q(k,S)),f.close()}else G($t,`RPC '${e}' stream ${i} received:`,_),y.u_(_)}}),w(o,EM.STAT_EVENT,C=>{C.stat===Hv.PROXY?G($t,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Hv.NOPROXY&&G($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function t0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){return new jH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="PersistentStream";class yO{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pO(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new q(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(gI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(gI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P7 extends yO{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FH(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ie.min():a.readTime?Br(a.readTime):ie.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Qv(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=Yv(l)?{documents:$H(s,l)}:{query:GH(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=sO(s,a.resumeToken);const c=Gv(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(ie.min())>0){o.readTime=qm(s,a.snapshotVersion.toTimestamp());const c=Gv(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=ZH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Qv(this.serializer),n.removeTarget=e,this.q_(n)}}class U7 extends yO{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qH(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YH(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{}class j7 extends H7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new q(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,Kv(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(H.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Kv(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(H.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class B7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="RemoteStore";class z7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{wo(this)&&(G(ho,"Restarting streams for network reachability change."),await async function(l){const c=se(l);c.Ea.add(4),await tf(c),c.Ra.set("Unknown"),c.Ea.delete(4),await rp(c)}(this))})}),this.Ra=new B7(r,i)}}async function rp(t){if(wo(t))for(const e of t.da)await e(!0)}async function tf(t){for(const e of t.da)await e(!1)}function vO(t,e){const n=se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),w1(n)?S1(n):fu(n).O_()&&T1(n,e))}function E1(t,e){const n=se(t),r=fu(n);n.Ia.delete(e),r.O_()&&_O(n,e),n.Ia.size===0&&(r.O_()?r.L_():wo(n)&&n.Ra.set("Unknown"))}function T1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fu(t).Y_(e)}function _O(t,e){t.Va.Ue(e),fu(t).Z_(e)}function S1(t){t.Va=new VH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fu(t).start(),t.Ra.ua()}function w1(t){return wo(t)&&!fu(t).x_()&&t.Ia.size>0}function wo(t){return se(t).Ea.size===0}function EO(t){t.Va=void 0}async function F7(t){t.Ra.set("Online")}async function Y7(t){t.Ia.forEach((e,n)=>{T1(t,e)})}async function q7(t,e){EO(t),w1(t)?(t.Ra.ha(e),S1(t)):t.Ra.set("Unknown")}async function $7(t,e,n){if(t.Ra.set("Online"),e instanceof iO&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){G(ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gm(t,r)}else if(e instanceof zd?t.Va.Ze(e):e instanceof rO?t.Va.st(e):t.Va.tt(e),!n.isEqual(ie.min()))try{const r=await gO(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Yt.EMPTY_BYTE_STRING,h.snapshotVersion)),_O(s,l);const f=new Ms(h.target,l,c,h.sequenceNumber);T1(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){G(ho,"Failed to raise snapshot:",r),await Gm(t,r)}}async function Gm(t,e,n){if(!hu(e))throw e;t.Ea.add(1),await tf(t),t.Ra.set("Offline"),n||(n=()=>gO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ho,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rp(t)})}function TO(t,e){return e().catch(n=>Gm(t,n,e))}async function ip(t){const e=se(t),n=ia(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:a1;for(;G7(e);)try{const i=await R7(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,K7(e,i)}catch(i){await Gm(e,i)}SO(e)&&wO(e)}function G7(t){return wo(t)&&t.Ta.length<10}function K7(t,e){t.Ta.push(e);const n=ia(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SO(t){return wo(t)&&!ia(t).x_()&&t.Ta.length>0}function wO(t){ia(t).start()}async function Z7(t){ia(t).ra()}async function Q7(t){const e=ia(t);for(const n of t.Ta)e.ea(n.mutations)}async function X7(t,e,n){const r=t.Ta.shift(),i=d1.from(r,e,n);await TO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ip(t)}async function J7(t,e){e&&ia(t).X_&&await async function(r,i){if(function(a){return xH(a)&&a!==H.ABORTED}(i.code)){const s=r.Ta.shift();ia(r).B_(),await TO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ip(r)}}(t,e),SO(t)&&wO(t)}async function pI(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),G(ho,"RemoteStore received new credentials");const r=wo(n);n.Ea.add(3),await tf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rp(n)}async function W7(t,e){const n=se(t);e?(n.Ea.delete(2),await rp(n)):e||(n.Ea.add(2),await tf(n),n.Ra.set("Unknown"))}function fu(t){return t.ma||(t.ma=function(n,r,i){const s=se(n);return s.sa(),new P7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:F7.bind(null,t),t_:Y7.bind(null,t),r_:q7.bind(null,t),H_:$7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),w1(t)?S1(t):t.Ra.set("Unknown")):(await t.ma.stop(),EO(t))})),t.ma}function ia(t){return t.fa||(t.fa=function(n,r,i){const s=se(n);return s.sa(),new U7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Z7.bind(null,t),r_:J7.bind(null,t),ta:Q7.bind(null,t),na:X7.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ip(t)):(await t.fa.stop(),t.Ta.length>0&&(G(ho,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new b1(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A1(t,e){if(Gi("AsyncQueue",`${e}: ${t}`),hu(t))return new q(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{static emptySet(e){return new Sl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=wc(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.ga=new We(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yl{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Yl(e,n,Sl.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class t8{constructor(){this.queries=vI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),s=i.queries;i.queries=vI(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new q(H.ABORTED,"Firestore shutting down"))}}function vI(){return new So(t=>YM(t),Xg)}async function bO(t,e){const n=se(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new e8,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=A1(a,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&I1(n)}async function AO(t,e){const n=se(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function n8(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&I1(n)}function r8(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function I1(t){t.Ca.forEach(e=>{e.next()})}var Wv,_I;(_I=Wv||(Wv={})).Ma="default",_I.Cache="cache";class IO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.key=e}}class RO{constructor(e){this.key=e}}class i8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pe(),this.mutatedKeys=pe(),this.eu=qM(e),this.tu=new Sl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yI,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),p=Jg(this.query,f)?f:null,y=!!d&&this.mutatedKeys.has(d.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let C=!1;d&&p?d.data.isEqual(p.data)?y!==w&&(r.track({type:3,doc:p}),C=!0):this.su(d,p)||(r.track({type:2,doc:p}),C=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!d&&p?(r.track({type:0,doc:p}),C=!0):d&&!p&&(r.track({type:1,doc:d}),C=!0,(l||c)&&(o=!0)),C&&(p?(a=a.add(p),s=w?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,f)=>function(p,y){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:C})}};return w(p)-w(y)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new Yl(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new RO(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new CO(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const C1="SyncEngine";class s8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class a8{constructor(e){this.key=e,this.hu=!1}}class o8{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new So(o=>YM(o),Xg),this.Iu=new Map,this.Eu=new Set,this.du=new We(Q.comparator),this.Au=new Map,this.Ru=new p1,this.Vu={},this.mu=new Map,this.fu=Fl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function l8(t,e,n=!0){const r=kO(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await DO(r,e,n,!0),i}async function u8(t,e){const n=kO(t);await DO(n,e,!0,!1)}async function DO(t,e,n,r){const i=await D7(t.localStore,jr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await c8(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&vO(t.remoteStore,i),o}async function c8(t,e,n,r,i){t.pu=(f,d,p)=>async function(w,C,v,_){let A=C.view.ru(v);A.Cs&&(A=await hI(w.localStore,C.query,!1).then(({documents:S})=>C.view.ru(S,A)));const M=_&&_.targetChanges.get(C.targetId),V=_&&_.targetMismatches.get(C.targetId)!=null,k=C.view.applyChanges(A,w.isPrimaryClient,M,V);return TI(w,C.targetId,k.au),k.snapshot}(t,f,d,p);const s=await hI(t.localStore,e,!0),a=new i8(e,s.Qs),o=a.ru(s.documents),l=ef.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);TI(t,n,c.au);const h=new s8(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function h8(t,e,n){const r=se(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!Xg(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&E1(r.remoteStore,i.targetId),e_(r,i.targetId)}).catch(cu)):(e_(r,i.targetId),await Xv(r.localStore,i.targetId,!0))}async function f8(t,e){const n=se(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),E1(n.remoteStore,r.targetId))}async function d8(t,e,n){const r=E8(t);try{const i=await function(a,o){const l=se(a),c=qe.now(),h=o.reduce((p,y)=>p.add(y.key),pe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Ki(),w=pe();return l.Ns.getEntries(p,h).next(C=>{y=C,y.forEach((v,_)=>{_.isValidDocument()||(w=w.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(C=>{f=C;const v=[];for(const _ of o){const A=RH(_,f.get(_.key).overlayedDocument);A!=null&&v.push(new ya(_.key,A,VM(A.value.mapValue),ar.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,o)}).next(C=>{d=C;const v=C.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(p,C.batchId,v)})}).then(()=>({batchId:d.batchId,changes:GM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new We(ge)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c}(r,i.batchId,n),await nf(r,i.changes),await ip(r.remoteStore)}catch(i){const s=A1(i,"Failed to persist write");n.reject(s)}}async function NO(t,e){const n=se(t);try{const r=await I7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Re(a.hu,14607):i.removedDocuments.size>0&&(Re(a.hu,42227),a.hu=!1))}),await nf(n,r,e)}catch(r){await cu(r)}}function EI(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=se(a);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.Sa)d.va(o)&&(c=!0)}),c&&I1(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m8(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new We(Q.comparator);a=a.insert(s,Kt.newNoDocument(s,ie.min()));const o=pe().add(s),l=new tp(ie.min(),new Map,new We(ge),a,o);await NO(r,l),r.du=r.du.remove(s),r.Au.delete(e),R1(r)}else await Xv(r.localStore,e,!1).then(()=>e_(r,e,n)).catch(cu)}async function g8(t,e){const n=se(t),r=e.batch.batchId;try{const i=await A7(n.localStore,e);OO(n,r,null),MO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nf(n,i)}catch(i){await cu(i)}}async function p8(t,e,n){const r=se(t);try{const i=await function(a,o){const l=se(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Re(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);OO(r,e,n),MO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nf(r,i)}catch(i){await cu(i)}}function MO(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function OO(t,e,n){const r=se(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function e_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||xO(t,r)})}function xO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(E1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),R1(t))}function TI(t,e,n){for(const r of n)r instanceof CO?(t.Ru.addReference(r.key,e),y8(t,r)):r instanceof RO?(G(C1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||xO(t,r.key)):ee(19791,{wu:r})}function y8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(C1,"New document in limbo: "+n),t.Eu.add(r),R1(t))}function R1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(He.fromString(e)),r=t.fu.next();t.Au.set(r,new a8(n)),t.du=t.du.insert(n,r),vO(t.remoteStore,new Ms(jr(Qg(n.path)),r,"TargetPurposeLimboResolution",Gg.ce))}}async function nf(t,e,n){const r=se(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=v1.As(l.targetId,c);s.push(f)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,c){const h=se(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,d=>B.forEach(d.Es,p=>h.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>B.forEach(d.ds,p=>h.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!hu(f))throw f;G(_1,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const p=h.Ms.get(d),y=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(y);h.Ms=h.Ms.insert(d,w)}}}(r.localStore,s))}async function v8(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){G(C1,"User change. New user:",e.toKey());const r=await mO(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new q(H.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nf(n,r.Ls)}}function _8(t,e){const n=se(t),r=n.Au.get(e);if(r&&r.hu)return pe().add(r.key);{let i=pe();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function kO(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m8.bind(null,e),e.Pu.H_=n8.bind(null,e.eventManager),e.Pu.yu=r8.bind(null,e.eventManager),e}function E8(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p8.bind(null,e),e}class Km{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=np(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return b7(this.persistence,new T7,e.initialUser,this.serializer)}Cu(e){return new dO(y1.mi,this.serializer)}Du(e){return new M7}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Km.provider={build:()=>new Km};class T8 extends Km{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof $m,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new a7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new dO(r=>$m.mi(r,n),this.serializer)}}class t_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>EI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v8.bind(null,this.syncEngine),await W7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t8}()}createDatastore(e){const n=np(e.databaseInfo.databaseId),r=function(s){return new V7(s)}(e.databaseInfo);return function(s,a,o,l){return new j7(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new z7(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>EI(this.syncEngine,n,0),function(){return mI.v()?new mI:new O7}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,h){const f=new o8(i,s,a,o,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=se(i);G(ho,"RemoteStore shutting down."),s.Ea.add(5),await tf(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}t_.provider={build:()=>new t_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="FirestoreClient";class S8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=s1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{G(sa,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(G(sa,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=A1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function n0(t,e){t.asyncQueue.verifyOperationInProgress(),G(sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function SI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w8(t);G(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pI(e.remoteStore,i)),t._onlineComponents=e}async function w8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(sa,"Using user provided OfflineComponentProvider");try{await n0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Hl("Error using user provided cache. Falling back to memory cache: "+n),await n0(t,new Km)}}else G(sa,"Using default OfflineComponentProvider"),await n0(t,new T8(void 0));return t._offlineComponents}async function VO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(sa,"Using user provided OnlineComponentProvider"),await SI(t,t._uninitializedComponentsProvider._online)):(G(sa,"Using default OnlineComponentProvider"),await SI(t,new t_))),t._onlineComponents}function b8(t){return VO(t).then(e=>e.syncEngine)}async function n_(t){const e=await VO(t),n=e.eventManager;return n.onListen=l8.bind(null,e.syncEngine),n.onUnlisten=h8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f8.bind(null,e.syncEngine),n}function A8(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const h=new LO({next:d=>{h.Nu(),a.enqueueAndForget(()=>AO(s,f));const p=d.docs.has(o);!p&&d.fromCache?c.reject(new q(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?c.reject(new q(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new IO(Qg(o.path),h,{includeMetadataChanges:!0,qa:!0});return bO(s,f)}(await n_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firestore.googleapis.com",bI=!0;class AI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UO,this.ssl=bI}else this.host=e.host,this.ssl=e.ssl??bI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i7)throw new q(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PO(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OU;switch(r.type){case"firstParty":return new VU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wI.get(n);r&&(G("ComponentProvider","Removing Datastore"),wI.delete(n),r.terminate())}(this),Promise.resolve()}}function I8(t,e,n,r={}){var c;t=xi(t,sp);const i=au(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(DN(`https://${o}`),NN("Firestore",!0)),s.host!==UO&&s.host!==o&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!ao(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Gt.MOCK_USER;else{h=PV(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new q(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Gt(d)}t._authCredentials=new xU(new bM(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new du(this.firestore,e,this._query)}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xh(n,ut._jsonSchema))return new ut(e,r||null,new Q(He.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:Et("string",ut._jsonSchemaVersion),referencePath:Et("string")};class $s extends du{constructor(e,n,r){super(e,n,Qg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new Q(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function HO(t,e,...n){if(t=Ct(t),AM("collection","path",e),t instanceof sp){const r=He.fromString(e,...n);return UA(r),new $s(t,null,r)}{if(!(t instanceof ut||t instanceof $s))throw new q(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return UA(r),new $s(t.firestore,null,r)}}function ql(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=s1.newId()),AM("doc","path",e),t instanceof sp){const r=He.fromString(e,...n);return PA(r),new ut(t,null,new Q(r))}{if(!(t instanceof ut||t instanceof $s))throw new q(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return PA(r),new ut(t.firestore,t instanceof $s?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="AsyncQueue";class CI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pO(this,"async_queue_retry"),this._c=()=>{const r=t0();r&&G(II,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=t0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=t0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hu(e))throw e;G(II,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",RI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=b1.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ee(47125,{Pc:RI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class $l extends sp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CI(e),this._firestoreClient=void 0,await e}}}function C8(t,e){const n=typeof t=="object"?t:kN(),r=typeof t=="string"?t:Hm,i=GE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=LV("firestore");s&&I8(i,...s)}return i}function ap(t){if(t._terminated)throw new q(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||R8(t),t._firestoreClient}function R8(t){var r,i,s;const e=t._freezeSettings(),n=function(o,l,c,h){return new WU(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,PO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new S8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tr(Yt.fromBase64String(e))}catch(n){throw new q(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tr(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xh(e,tr._jsonSchema))return tr.fromBase64String(e.bytes)}}tr._jsonSchemaVersion="firestore/bytes/1.0",tr._jsonSchema={type:Et("string",tr._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zr._jsonSchemaVersion}}static fromJSON(e){if(Xh(e,zr._jsonSchema))return new zr(e.latitude,e.longitude)}}zr._jsonSchemaVersion="firestore/geoPoint/1.0",zr._jsonSchema={type:Et("string",zr._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xh(e,Fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Fr(e.vectorValues);throw new q(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fr._jsonSchemaVersion="firestore/vectorValue/1.0",Fr._jsonSchema={type:Et("string",Fr._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=/^__.*__$/;class N8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wh(e,this.data,n,this.fieldTransforms)}}class jO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:t})}}class N1{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new N1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(BO(this.Ac)&&D8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class M8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||np(e)}Cc(e,n,r,i=!1){return new N1({Ac:e,methodName:n,Dc:r,path:jt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M1(t){const e=t._freezeSettings(),n=np(t._databaseId);return new M8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zO(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);O1("Data must be an object, but it was:",a,r);const o=FO(r,a);let l,c;if(s.merge)l=new Ln(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const d=r_(e,f,n);if(!a.contains(d))throw new q(H.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);qO(h,d)||h.push(d)}l=new Ln(h),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new N8(new vn(o),l,c)}class lp extends D1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}function O8(t,e,n,r){const i=t.Cc(1,e,n);O1("Data must be an object, but it was:",i,r);const s=[],a=vn.empty();pa(r,(l,c)=>{const h=x1(e,l,n);c=Ct(c);const f=i.yc(h);if(c instanceof lp)s.push(h);else{const d=rf(c,f);d!=null&&(s.push(h),a.set(h,d))}});const o=new Ln(s);return new jO(a,o,i.fieldTransforms)}function x8(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[r_(e,r,n)],l=[i];if(s.length%2!=0)throw new q(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(r_(e,s[d])),l.push(s[d+1]);const c=[],h=vn.empty();for(let d=o.length-1;d>=0;--d)if(!qO(c,o[d])){const p=o[d];let y=l[d];y=Ct(y);const w=a.yc(p);if(y instanceof lp)c.push(p);else{const C=rf(y,w);C!=null&&(c.push(p),h.set(p,C))}}const f=new Ln(c);return new jO(h,f,a.fieldTransforms)}function k8(t,e,n,r=!1){return rf(n,t.Cc(r?4:3,e))}function rf(t,e){if(YO(t=Ct(t)))return O1("Unsupported field value:",e,t),FO(t,e);if(t instanceof D1)return function(r,i){if(!BO(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=rf(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qe.fromDate(r);return{timestampValue:qm(i.serializer,s)}}if(r instanceof qe){const s=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qm(i.serializer,s)}}if(r instanceof zr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tr)return{bytesValue:sO(i.serializer,r._byteString)};if(r instanceof ut){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:g1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fr)return function(a,o){return{mapValue:{fields:{[kM]:{stringValue:LM},[jm]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return h1(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${$g(r)}`)}(t,e)}function FO(t,e){const n={};return RM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(t,(r,i)=>{const s=rf(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function YO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof zr||t instanceof tr||t instanceof ut||t instanceof D1||t instanceof Fr)}function O1(t,e,n){if(!YO(n)||!IM(n)){const r=$g(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function r_(t,e,n){if((e=Ct(e))instanceof op)return e._internalPath;if(typeof e=="string")return x1(t,e);throw Zm("Field path arguments must be of type string or ",t,!1,void 0,n)}const L8=new RegExp("[~\\*/\\[\\]]");function x1(t,e,n){if(e.search(L8)>=0)throw Zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new op(...e.split("."))._internalPath}catch{throw Zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zm(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new q(H.INVALID_ARGUMENT,o+t+l)}function qO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(GO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V8 extends $O{data(){return super.data()}}function GO(t,e){return typeof e=="string"?x1(t,e):e instanceof op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k1{}class U8 extends k1{}function KO(t,e,...n){let r=[];e instanceof k1&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof V1).length,o=s.filter(l=>l instanceof L1).length;if(a>1||a>0&&o>0)throw new q(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class L1 extends U8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new L1(e,n,r)}_apply(e){const n=this._parse(e);return ZO(e._query,n),new du(e.firestore,e.converter,qv(e._query,n))}_parse(e){const n=M1(e.firestore);return function(s,a,o,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){MI(f,h);const y=[];for(const w of f)y.push(NI(l,s,w));d={arrayValue:{values:y}}}else d=NI(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||MI(f,h),d=k8(o,a,f,h==="in"||h==="not-in");return vt.create(c,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class V1 extends k1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)ZO(a,l),a=qv(a,l)}(e._query,n),new du(e.firestore,e.converter,qv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NI(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new q(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FM(e)&&n.indexOf("/")!==-1)throw new q(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!Q.isDocumentKey(r))throw new q(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $A(t,new Q(r))}if(n instanceof ut)return $A(t,n._key);throw new q(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$g(n)}.`)}function MI(t,e){if(!Array.isArray(t)||t.length===0)throw new q(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZO(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class H8{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[jm].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>ot(a.doubleValue));return new Fr(n)}convertGeoPoint(e){return new zr(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mh(e));default:return null}}convertTimestamp(e){const n=ta(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Re(hO(r),9688,{name:e});const i=new gh(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Gi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends $O{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(GO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ja._jsonSchema={type:Et("string",Ja._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class Fd extends Ja{data(e={}){return super.data(e)}}class wl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ac(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fd(this._firestore,this._userDataWriter,r.key,r,new Ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Fd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ac(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Fd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ac(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:j8(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=s1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){t=xi(t,ut);const e=xi(t.firestore,$l);return A8(ap(e),t._key).then(n=>ex(e,t,n))}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:Et("string",wl._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class XO extends H8{constructor(e){super(),this.firestore=e}convertBytes(e){return new tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function z8(t,e,n){t=xi(t,ut);const r=xi(t.firestore,$l),i=QO(t.converter,e,n);return WO(r,[zO(M1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ar.none())])}function JO(t,...e){var l,c,h;t=Ct(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||DI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(DI(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let s,a,o;if(t instanceof ut)a=xi(t.firestore,$l),o=Qg(t._key.path),s={next:f=>{e[r]&&e[r](ex(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=xi(t,du);a=xi(f.firestore,$l),o=f._query;const d=new XO(a);s={next:p=>{e[r]&&e[r](new wl(a,d,f,p))},error:e[r+1],complete:e[r+2]},P8(t._query)}return function(d,p,y,w){const C=new LO(w),v=new IO(p,C,y);return d.asyncQueue.enqueueAndForget(async()=>bO(await n_(d),v)),()=>{C.Nu(),d.asyncQueue.enqueueAndForget(async()=>AO(await n_(d),v))}}(ap(a),o,i,s)}function WO(t,e){return function(r,i){const s=new qs;return r.asyncQueue.enqueueAndForget(async()=>d8(await b8(r),i,s)),s.promise}(ap(t),e)}function ex(t,e,n){const r=n.docs.get(e._key),i=new XO(t);return new Ja(t,i,e._key,r,new Ac(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=M1(e)}set(e,n,r){this._verifyNotCommitted();const i=r0(e,this._firestore),s=QO(i.converter,n,r),a=zO(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ar.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=r0(e,this._firestore);let a;return a=typeof(n=Ct(n))=="string"||n instanceof op?x8(this._dataReader,"WriteBatch.update",s._key,n,r,i):O8(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=r0(e,this._firestore);return this._mutations=this._mutations.concat(new f1(n._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function r0(t,e){if((t=Ct(t)).firestore!==e)throw new q(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){return ap(t=xi(t,$l)),new F8(t,e=>WO(t,e))}(function(e,n=!0){(function(i){uu=i})(ou),Ul(new oo("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new $l(new kU(r.getProvider("auth-internal")),new PU(a,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(c.options.projectId,h)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Fs(xA,kA,e),Fs(xA,kA,"esm2020")})();const Y8={apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"},tx=xN(Y8),Xm=wU(tx),nr=C8(tx);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var OI="popstate";function q8(t={}){function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=bo(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),i_("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof s=="string"?s:_h(s))}function r(i,s){ur(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return G8(e,n,r,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ur(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $8(){return Math.random().toString(36).substring(2,10)}function xI(t,e){return{usr:t.state,key:t.key,idx:e}}function i_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||r||$8()}}function _h({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function G8(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=h();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function h(){return(a.state||{idx:null}).idx}function f(){o="POP";let C=h(),v=C==null?null:C-c;c=C,l&&l({action:o,location:w.location,delta:v})}function d(C,v){o="PUSH";let _=i_(w.location,C,v);n&&n(_,C),c=h()+1;let A=xI(_,c),M=w.createHref(_);try{a.pushState(A,"",M)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(M)}s&&l&&l({action:o,location:w.location,delta:1})}function p(C,v){o="REPLACE";let _=i_(w.location,C,v);n&&n(_,C),c=h();let A=xI(_,c),M=w.createHref(_);a.replaceState(A,"",M),s&&l&&l({action:o,location:w.location,delta:0})}function y(C){return K8(C)}let w={get action(){return o},get location(){return t(i,a)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(OI,f),l=C,()=>{i.removeEventListener(OI,f),l=null}},createHref(C){return e(i,C)},createURL:y,encodeLocation(C){let v=y(C);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(C){return a.go(C)}};return w}function K8(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:_h(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nx(t,e,n="/"){return Z8(t,e,n,!1)}function Z8(t,e,n,r){let i=typeof e=="string"?bo(e):e,s=Zi(i.pathname||"/",n);if(s==null)return null;let a=rx(t);Q8(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=oj(s);o=sj(a[l],c,r)}return o}function rx(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;Qe(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=ki([r,h.relativePath]),d=n.concat(h);a.children&&a.children.length>0&&(Qe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),rx(a.children,e,d,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:rj(f,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of ix(a.path))s(a,o,!0,c)}),e}function ix(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=ix(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Q8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ij(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var X8=/^:[\w-]+$/,J8=3,W8=2,ej=1,tj=10,nj=-2,kI=t=>t==="*";function rj(t,e){let n=t.split("/"),r=n.length;return n.some(kI)&&(r+=nj),e&&(r+=W8),n.filter(i=>!kI(i)).reduce((i,s)=>i+(X8.test(s)?J8:s===""?ej:tj),r)}function ij(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function sj(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Jm({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Jm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:ki([s,f.pathname]),pathnameBase:hj(ki([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=ki([s,f.pathnameBase]))}return a}function Jm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:f},d)=>{if(h==="*"){let y=o[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[d];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function aj(t,e=!1,n=!0){ur(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lj(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bo(t):t;return{pathname:n?n.startsWith("/")?n:uj(n,e):e,search:fj(r),hash:dj(i)}}function uj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function i0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P1(t){let e=cj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function U1(t,e,n,r=!1){let i;typeof t=="string"?i=bo(t):(i={...t},Qe(!i.pathname||!i.pathname.includes("?"),i0("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),i0("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),i0("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=lj(i,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var ki=t=>t.join("/").replace(/\/\/+/g,"/"),hj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sx=["POST","PUT","PATCH","DELETE"];new Set(sx);var gj=["GET",...sx];new Set(gj);var mu=x.createContext(null);mu.displayName="DataRouter";var up=x.createContext(null);up.displayName="DataRouterState";x.createContext(!1);var ax=x.createContext({isTransitioning:!1});ax.displayName="ViewTransition";var pj=x.createContext(new Map);pj.displayName="Fetchers";var yj=x.createContext(null);yj.displayName="Await";var Sr=x.createContext(null);Sr.displayName="Navigation";var sf=x.createContext(null);sf.displayName="Location";var Wr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var H1=x.createContext(null);H1.displayName="RouteError";function vj(t,{relative:e}={}){Qe(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Sr),{hash:i,pathname:s,search:a}=af(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:ki([n,s])),r.createHref({pathname:o,search:a,hash:i})}function gu(){return x.useContext(sf)!=null}function va(){return Qe(gu(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(sf).location}var ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lx(t){x.useContext(Sr).static||x.useLayoutEffect(t)}function j1(){let{isDataRoute:t}=x.useContext(Wr);return t?Mj():_j()}function _j(){Qe(gu(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(mu),{basename:e,navigator:n}=x.useContext(Sr),{matches:r}=x.useContext(Wr),{pathname:i}=va(),s=JSON.stringify(P1(r)),a=x.useRef(!1);return lx(()=>{a.current=!0}),x.useCallback((l,c={})=>{if(ur(a.current,ox),!a.current)return;if(typeof l=="number"){n.go(l);return}let h=U1(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ki([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}x.createContext(null);function af(t,{relative:e}={}){let{matches:n}=x.useContext(Wr),{pathname:r}=va(),i=JSON.stringify(P1(n));return x.useMemo(()=>U1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Ej(t,e){return ux(t,e)}function ux(t,e,n,r,i){var _;Qe(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(Sr),{matches:a}=x.useContext(Wr),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let A=f&&f.path||"";cx(c,!f||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let d=va(),p;if(e){let A=typeof e=="string"?bo(e):e;Qe(h==="/"||((_=A.pathname)==null?void 0:_.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),p=A}else p=d;let y=p.pathname||"/",w=y;if(h!=="/"){let A=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=nx(t,{pathname:w});ur(f||C!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ur(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Aj(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:ki([h,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:ki([h,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),a,n,r,i);return e&&v?x.createElement(sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function Tj(){let t=Nj(),e=mj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,a)}var Sj=x.createElement(Tj,null),wj=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(Wr.Provider,{value:this.props.routeContext},x.createElement(H1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bj({routeContext:t,match:e,children:n}){let r=x.useContext(mu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Wr.Provider,{value:t},n)}function Aj(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Qe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:f,errors:d}=n,p=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!d||d[h.route.id]===void 0);if(h.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let d,p=!1,y=null,w=null;n&&(d=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Sj,o&&(l<0&&f===0?(cx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):l===f&&(p=!0,w=h.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,f+1)),v=()=>{let _;return d?_=y:p?_=w:h.route.Component?_=x.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=c,x.createElement(bj,{match:h,routeContext:{outlet:c,matches:C,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(wj,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:v(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):v()},null)}function B1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ij(t){let e=x.useContext(mu);return Qe(e,B1(t)),e}function Cj(t){let e=x.useContext(up);return Qe(e,B1(t)),e}function Rj(t){let e=x.useContext(Wr);return Qe(e,B1(t)),e}function z1(t){let e=Rj(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Dj(){return z1("useRouteId")}function Nj(){var r;let t=x.useContext(H1),e=Cj("useRouteError"),n=z1("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Mj(){let{router:t}=Ij("useNavigate"),e=z1("useNavigate"),n=x.useRef(!1);return lx(()=>{n.current=!0}),x.useCallback(async(i,s={})=>{ur(n.current,ox),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var LI={};function cx(t,e,n){!e&&!LI[t]&&(LI[t]=!0,ur(!1,n))}x.memo(Oj);function Oj({routes:t,future:e,state:n,unstable_onError:r}){return ux(t,void 0,n,r,e)}function xj({to:t,replace:e,state:n,relative:r}){Qe(gu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Sr);ur(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=x.useContext(Wr),{pathname:a}=va(),o=j1(),l=U1(t,P1(s),a,r==="path"),c=JSON.stringify(l);return x.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function s_(t){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Qe(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=x.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=bo(n));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:d="default"}=n,p=x.useMemo(()=>{let y=Zi(l,a);return y==null?null:{location:{pathname:y,search:c,hash:h,state:f,key:d},navigationType:r}},[a,l,c,h,f,d,r]);return ur(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:x.createElement(Sr.Provider,{value:o},x.createElement(sf.Provider,{children:e,value:p}))}function Lj({children:t,location:e}){return Ej(a_(t),e)}function a_(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,a_(r.props.children,s));return}Qe(r.type===s_,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=a_(r.props.children,s)),n.push(a)}),n}var Yd="get",qd="application/x-www-form-urlencoded";function cp(t){return t!=null&&typeof t.tagName=="string"}function Vj(t){return cp(t)&&t.tagName.toLowerCase()==="button"}function Pj(t){return cp(t)&&t.tagName.toLowerCase()==="form"}function Uj(t){return cp(t)&&t.tagName.toLowerCase()==="input"}function Hj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jj(t,e){return t.button===0&&(!e||e==="_self")&&!Hj(t)}var id=null;function Bj(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var zj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s0(t){return t!=null&&!zj.has(t)?(ur(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qd}"`),null):t}function Fj(t,e){let n,r,i,s,a;if(Pj(t)){let o=t.getAttribute("action");r=o?Zi(o,e):null,n=t.getAttribute("method")||Yd,i=s0(t.getAttribute("enctype"))||qd,s=new FormData(t)}else if(Vj(t)||Uj(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Zi(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Yd,i=s0(t.getAttribute("formenctype"))||s0(o.getAttribute("enctype"))||qd,s=new FormData(o,t),!Bj()){let{name:c,type:h,value:f}=t;if(h==="image"){let d=c?`${c}.`:"";s.append(`${d}x`,"0"),s.append(`${d}y`,"0")}else c&&s.append(c,f)}}else{if(cp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yd,r=null,i=qd,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function F1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yj(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Zi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function qj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $j(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Gj(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await qj(s,n);return a.links?a.links():[]}return[]}));return Xj(r.flat(1).filter($j).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function VI(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var f;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function Kj(t,e,{includeHydrateFallback:n}={}){return Zj(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Zj(t){return[...new Set(t)]}function Qj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Xj(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Qj(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function hx(){let t=x.useContext(mu);return F1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Jj(){let t=x.useContext(up);return F1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Y1=x.createContext(void 0);Y1.displayName="FrameworkContext";function fx(){let t=x.useContext(Y1);return F1(t,"You must render this element inside a <HydratedRouter> element"),t}function Wj(t,e){let n=x.useContext(Y1),[r,i]=x.useState(!1),[s,a]=x.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,d=x.useRef(null);x.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let w=v=>{v.forEach(_=>{a(_.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return d.current&&C.observe(d.current),()=>{C.disconnect()}}},[t]),x.useEffect(()=>{if(r){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[r]);let p=()=>{i(!0)},y=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,d,{}]:[s,d,{onFocus:nc(o,p),onBlur:nc(l,y),onMouseEnter:nc(c,p),onMouseLeave:nc(h,y),onTouchStart:nc(f,p)}]:[!1,d,{}]}function nc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eB({page:t,...e}){let{router:n}=hx(),r=x.useMemo(()=>nx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(nB,{page:t,matches:r,...e}):null}function tB(t){let{manifest:e,routeModules:n}=fx(),[r,i]=x.useState([]);return x.useEffect(()=>{let s=!1;return Gj(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function nB({page:t,matches:e,...n}){let r=va(),{manifest:i,routeModules:s}=fx(),{basename:a}=hx(),{loaderData:o,matches:l}=Jj(),c=x.useMemo(()=>VI(t,e,l,i,r,"data"),[t,e,l,i,r]),h=x.useMemo(()=>VI(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(e.forEach(v=>{var A;let _=i.routes[v.route.id];!_||!_.hasLoader||(!c.some(M=>M.route.id===v.route.id)&&v.route.id in o&&((A=s[v.route.id])!=null&&A.shouldRevalidate)||_.hasClientLoader?w=!0:y.add(v.route.id))}),y.size===0)return[];let C=Yj(t,a,"data");return w&&y.size>0&&C.searchParams.set("_routes",e.filter(v=>y.has(v.route.id)).map(v=>v.route.id).join(",")),[C.pathname+C.search]},[a,o,r,i,c,e,t,s]),d=x.useMemo(()=>Kj(h,i),[h,i]),p=tB(h);return x.createElement(x.Fragment,null,f.map(y=>x.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),d.map(y=>x.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),p.map(({key:y,link:w})=>x.createElement("link",{key:y,nonce:n.nonce,...w})))}function rB(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dx&&(window.__reactRouterVersion="7.9.4")}catch{}function iB({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=q8({window:n,v5Compat:!0}));let i=r.current,[s,a]=x.useState({action:i.action,location:i.location}),o=x.useCallback(l=>{x.startTransition(()=>a(l))},[a]);return x.useLayoutEffect(()=>i.listen(o),[i,o]),x.createElement(kj,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hp=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:f,...d},p){let{basename:y}=x.useContext(Sr),w=typeof c=="string"&&mx.test(c),C,v=!1;if(typeof c=="string"&&w&&(C=c,dx))try{let E=new URL(window.location.href),R=c.startsWith("//")?new URL(E.protocol+c):new URL(c),D=Zi(R.pathname,y);R.origin===E.origin&&D!=null?c=D+R.search+R.hash:v=!0}catch{ur(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=vj(c,{relative:i}),[A,M,V]=Wj(r,d),k=lB(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:f});function S(E){e&&e(E),E.defaultPrevented||k(E)}let T=x.createElement("a",{...d,...V,href:C||_,onClick:v||s?e:S,ref:rB(p,M),target:l,"data-discover":!w&&n==="render"?"true":void 0});return A&&!w?x.createElement(x.Fragment,null,T,x.createElement(eB,{page:_})):T});hp.displayName="Link";var sB=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},h){let f=af(a,{relative:c.relative}),d=va(),p=x.useContext(up),{navigator:y,basename:w}=x.useContext(Sr),C=p!=null&&dB(f)&&o===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,_=d.pathname,A=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(_=_.toLowerCase(),A=A?A.toLowerCase():null,v=v.toLowerCase()),A&&w&&(A=Zi(A,w)||A);const M=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let V=_===v||!i&&_.startsWith(v)&&_.charAt(M)==="/",k=A!=null&&(A===v||!i&&A.startsWith(v)&&A.charAt(v.length)==="/"),S={isActive:V,isPending:k,isTransitioning:C},T=V?e:void 0,E;typeof r=="function"?E=r(S):E=[r,V?"active":null,k?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(S):s;return x.createElement(hp,{...c,"aria-current":T,className:E,ref:h,style:R,to:a,viewTransition:o},typeof l=="function"?l(S):l)});sB.displayName="NavLink";var aB=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Yd,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:f,...d},p)=>{let y=hB(),w=fB(o,{relative:c}),C=a.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&mx.test(o),_=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let M=A.nativeEvent.submitter,V=(M==null?void 0:M.getAttribute("formmethod"))||a;y(M||A.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:f})};return x.createElement("form",{ref:p,method:C,action:w,onSubmit:r?l:_,...d,"data-discover":!v&&t==="render"?"true":void 0})});aB.displayName="Form";function oB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gx(t){let e=x.useContext(mu);return Qe(e,oB(t)),e}function lB(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=j1(),l=va(),c=af(t,{relative:s});return x.useCallback(h=>{if(jj(h,e)){h.preventDefault();let f=n!==void 0?n:_h(l)===_h(c);o(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}var uB=0,cB=()=>`__${String(++uB)}__`;function hB(){let{router:t}=gx("useSubmit"),{basename:e}=x.useContext(Sr),n=Dj();return x.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=Fj(r,e);if(i.navigate===!1){let h=i.fetcherKey||cB();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function fB(t,{relative:e}={}){let{basename:n}=x.useContext(Sr),r=x.useContext(Wr);Qe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...af(t||".",{relative:e})},a=va();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ki([n,s.pathname])),_h(s)}function dB(t,{relative:e}={}){let n=x.useContext(ax);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gx("useViewTransitionState"),i=af(t,{relative:e});if(!n.isTransitioning)return!1;let s=Zi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Zi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jm(i.pathname,a)!=null||Jm(i.pathname,s)!=null}const mB=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[a,o]=x.useState(!1),l=async h=>{h.preventDefault(),o(!0),s("");try{await u9(Xm,t,n)}catch(f){switch(o(!1),f.code){case"auth/invalid-email":s("כתובת אימייל לא תקינה.");break;case"auth/user-not-found":s("לא נמצא משתמש עם אימייל זה.");break;case"auth/wrong-password":s("סיסמה שגויה.");break;default:s("הכניסה נכשלה. אנא נסה שנית.");break}}},c=async()=>{o(!0),s("");const h=new Ti;try{await O9(Xm,h)}catch{o(!1),s("הכניסה עם גוגל נכשלה. אנא נסה שנית.")}};return I.jsxs("div",{style:{maxWidth:"400px",margin:"auto",padding:"20px",border:"1px solid #ccc",borderRadius:"10px",direction:"rtl"},children:[I.jsx("h2",{style:{textAlign:"center",marginBottom:"20px"},children:"ברוכים הבאים!"}),i&&I.jsx("p",{style:{color:"red",textAlign:"center"},children:i}),I.jsxs("form",{onSubmit:l,children:[I.jsxs("div",{style:{marginBottom:"15px"},children:[I.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"5px"},children:"כתובת אימייל"}),I.jsx("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:h=>e(h.target.value),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1p solid #ccc"}})]}),I.jsxs("div",{style:{marginBottom:"15px"},children:[I.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"5px"},children:"סיסמה"}),I.jsx("input",{id:"password",type:"password",placeholder:"הסיסמה שלך",value:n,onChange:h=>r(h.target.value),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"}})]}),I.jsx("button",{type:"submit",disabled:a,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"none",backgroundColor:"#007bff",color:"white",cursor:"pointer"},children:a?"מתחבר...":"כניסה"})]}),I.jsxs("div",{style:{textAlign:"center",marginTop:"15px"},children:[I.jsx("p",{children:"או"}),I.jsx("button",{onClick:c,disabled:a,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc",backgroundColor:"white",color:"black",cursor:"pointer"},children:"התחבר עם גוגל"})]}),I.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:I.jsxs("p",{children:["אין לך חשבון? ",I.jsx(hp,{to:"/signup",children:"הירשם"})]})})]})},gB=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[a,o]=x.useState(""),[l,c]=x.useState(!1),h=j1(),f=async d=>{if(d.preventDefault(),n!==i){o("הסיסמאות אינן תואמות");return}c(!0),o("");try{await l9(Xm,t,n),h("/")}catch(p){switch(c(!1),console.error("Firebase Signup Error:",p),p.code){case"auth/email-already-in-use":o("כתובת האימייל כבר בשימוש.");break;case"auth/invalid-email":o("כתובת אימייל לא תקינה.");break;case"auth/weak-password":o("הסיסמה חלשה מדי. אנא בחר סיסמה חזקה יותר.");break;default:o(`ההרשמה נכשלה: ${p.message}`);break}}};return I.jsxs("div",{style:{maxWidth:"400px",margin:"auto",padding:"20px",border:"1px solid #ccc",borderRadius:"10px",direction:"rtl"},children:[I.jsx("h2",{style:{textAlign:"center",marginBottom:"20px"},children:"הרשמה"}),a&&I.jsx("p",{style:{color:"red",textAlign:"center"},children:a}),I.jsxs("form",{onSubmit:f,children:[I.jsxs("div",{style:{marginBottom:"15px"},children:[I.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"5px"},children:"כתובת אימייל"}),I.jsx("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:d=>e(d.target.value),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"}})]}),I.jsxs("div",{style:{marginBottom:"15px"},children:[I.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"5px"},children:"סיסמה"}),I.jsx("input",{id:"password",type:"password",placeholder:"הסיסמה שלך",value:n,onChange:d=>r(d.target.value),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"}})]}),I.jsxs("div",{style:{marginBottom:"15px"},children:[I.jsx("label",{htmlFor:"confirmPassword",style:{display:"block",marginBottom:"5px"},children:"אימות סיסמה"}),I.jsx("input",{id:"confirmPassword",type:"password",placeholder:"אמת את הסיסמה",value:i,onChange:d=>s(d.target.value),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"}})]}),I.jsx("button",{type:"submit",disabled:l,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"none",backgroundColor:"#28a745",color:"white",cursor:"pointer"},children:l?"רושם...":"הירשם"})]}),I.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:I.jsxs("p",{children:["יש לך כבר חשבון? ",I.jsx(hp,{to:"/",children:"התחבר"})]})})]})};/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const pB="5.10.1";/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const PI=[0,31,28,31,30,31,30,31,31,30,31,30,31],px=[PI,PI.slice()];px[1][2]=29;function a0(t,e){return t-e*Math.floor(t/e)}function Ci(t,e){return Math.floor(t/e)}function yB(t){const e=t-1,n=Ci(e,146097),r=a0(e,146097),i=Ci(r,36524),s=a0(r,36524),a=Ci(s,1461),o=a0(s,1461),l=Ci(o,365),c=400*n+100*i+4*a+l;return i!==4&&l!==4?c+1:c}function fp(t){return!(t%4)&&(!!(t%100)||!(t%400))}function yx(t,e){return px[+fp(e)][t]}function pu(t){return typeof t=="object"&&Date.prototype.isPrototypeOf(t)}function $d(t,e,n){const r=t-1;return 365*r+Ci(r,4)-Ci(r,100)+Ci(r,400)+Ci(367*e-362,12)+(e<=2?0:fp(t)?-1:-2)+n}function Gl(t){if(pu(t)){if(isNaN(t.getTime()))throw new RangeError("Invalid Date")}else throw new TypeError(`not a Date: ${t}`);return $d(t.getFullYear(),t.getMonth()+1,t.getDate())}function q1(t){if(typeof t!="number"||isNaN(t))throw new TypeError(`not a Number: ${t}`);t=Math.trunc(t);const e=yB(t),n=t-$d(e,1,1),r=t<$d(e,3,1)?0:fp(e)?1:2,i=Ci(12*(n+r)+373,367),s=t-$d(e,i,1)+1,a=new Date(e,i-1,s);return e<100&&e>=0&&a.setFullYear(e),a}/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */var fo;fo||(fo={});fo.abs2greg=q1;fo.daysInMonth=yx;fo.greg2abs=Gl;fo.isDate=pu;fo.isLeapYear=fp;/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */function vx(t){return t.normalize().replace(/[\u0590-\u05bd]/g,"").replace(/[\u05bf-\u05c7]/g,"")}/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const $1=1,Wm=2,o_=3,eg=4,l_=5,tg=6,bl=7,G1=8,K1=9,ng=10,u_=11,rg=12,ig=13,K={NISAN:$1,IYYAR:Wm,SIVAN:o_,TAMUZ:eg,AV:l_,ELUL:tg,TISHREI:bl,CHESHVAN:G1,KISLEV:K1,TEVET:ng,SHVAT:u_,ADAR_I:rg,ADAR_II:ig},c_="Nisan",UI=["",c_,"Iyyar","Sivan","Tamuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Sh'vat"],vB=[[...UI,"Adar",c_],[...UI,"Adar I","Adar II",c_]],HI=new Map,sg=-1373428,_B=365.24682220597794;function Al(t,e){if(typeof t!="number"||isNaN(t))throw new TypeError(`param '${e}' not a number: ${t}`)}function Wa(t,e,n){if(Al(t,"year"),Al(e,"month"),Al(n,"day"),t<1)throw new RangeError(`hebrew2abs: invalid year ${t}`);let r=n;if(e<bl){for(let i=bl;i<=Yr(t);i++)r+=Li(i,t);for(let i=$1;i<e;i++)r+=Li(i,t)}else for(let i=bl;i<e;i++)r+=Li(i,t);return sg+ag(t)+r-1}function EB(t){return sg+ag(t)}function Eh(t){if(Al(t,"abs"),t=Math.trunc(t),t<=sg)throw new RangeError(`abs2hebrew: ${t} is before epoch`);let e=Math.floor((t-sg)/_B);for(;EB(e)<=t;)++e;--e;let n=t<Wa(e,1,1)?7:1;for(;t>Wa(e,n,Li(n,e));)++n;const r=1+t-Wa(e,n,1);return{yy:e,mm:n,dd:r}}function Gr(t){return(1+t*7)%19<7}function Yr(t){return 12+ +Gr(t)}function Li(t,e){switch(t){case Wm:case eg:case tg:case ng:case ig:return 29}return t===rg&&!Gr(e)||t===G1&&!Th(e)||t===K1&&Sh(e)?29:30}function jI(t,e){if(Al(t,"month"),Al(e,"year"),t<1||t>14)throw new TypeError(`bad monthNum: ${t}`);return vB[+Gr(e)][t]}function ag(t){const e=HI.get(t);if(typeof e=="number")return e;const n=TB(t);return HI.set(t,n),n}function TB(t){const e=t-1,n=235*Math.floor(e/19)+12*(e%19)+Math.floor((e%19*7+1)/19),r=204+793*(n%1080),i=5+12*n+793*Math.floor(n/1080)+Math.floor(r/1080),s=r%1080+1080*(i%24),a=1+29*n+Math.floor(i/24);let o=a;return(s>=19440||a%7===2&&s>=9924&&!Gr(t)||a%7===1&&s>=16789&&Gr(e))&&o++,o%7===0||o%7===3||o%7===5?o+1:o}function Z1(t){return ag(t+1)-ag(t)}function Th(t){return Z1(t)%10===5}function Sh(t){return Z1(t)%10===3}function o0(t){if(typeof t=="number"){if(isNaN(t)||t<1||t>14)throw new RangeError(`bad monthName: ${t}`);return t}let e=t.trim().toLowerCase();switch(e=vx(e).replace(/׳$/,""),e[0]==="ב"&&(e=e.substring(1)),e[0]){case"n":case"נ":if(e[1]==="o")break;return $1;case"i":return Wm;case"e":return tg;case"c":case"ח":return G1;case"k":case"כ":return K1;case"s":switch(e[1]){case"i":return o_;case"h":return u_}break;case"t":switch(e[1]){case"a":return eg;case"i":return bl;case"e":return ng}break;case"a":switch(e[1]){case"v":return l_;case"d":return/(1|[^i]i|a|א)$/i.test(e)?rg:ig}break;case"ס":return o_;case"ט":return ng;case"ש":return u_;case"א":switch(e[1]){case"ב":return l_;case"ד":return/(1|[^i]i|a|א)$/i.test(e)?rg:ig;case"י":return Wm;case"ל":return tg}break;case"ת":switch(e[1]){case"מ":return eg;case"ש":return bl}break}throw new RangeError(`bad monthName: ${t}`)}/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const SB=K.NISAN,h_=K.CHESHVAN,cl=K.KISLEV,f_=K.TEVET,wB=K.SHVAT,d_=K.ADAR_I,_x=K.ADAR_II;function bB(t){return typeof t=="object"&&t!==null&&typeof t.yy=="number"&&typeof t.mm=="number"&&typeof t.dd=="number"}function Ex(t){if(bB(t))return t;if(pu(t)){const e=Gl(t);return Eh(e)}else return Eh(t)}function AB(t,e){let n=Ex(e);if(!(t<=n.yy))return n.mm===h_&&n.dd===30&&!Th(n.yy+1)?n=Eh(Wa(t,cl,1)-1):n.mm===cl&&n.dd===30&&Sh(n.yy+1)?n=Eh(Wa(t,f_,1)-1):n.mm===_x?n.mm=Yr(t):n.mm===d_&&n.dd===30&&!Gr(t)&&(n.dd=30,n.mm=wB),n.mm===h_&&n.dd===30&&!Th(t)?(n.mm=cl,n.dd=1):n.mm===cl&&n.dd===30&&Sh(t)&&(n.mm=f_,n.dd=1),n.yy=t,n}function IB(t,e){const n=Ex(e),r=n.yy;if(t===r)return n;if(t<r)return;const i=Gr(r);let s=n.mm,a=n.dd;return s===d_&&!i||s===_x&&i?s=Yr(t):s===h_&&a===30&&!Th(t)?(s=cl,a=1):s===cl&&a===30&&Sh(t)?(s=f_,a=1):s===d_&&a===30&&i&&!Gr(t)&&(s=SB,a=1),{yy:t,mm:s,dd:a}}/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const m_="׳",CB="״",Tx={א:1,ב:2,ג:3,ד:4,ה:5,ו:6,ז:7,ח:8,ט:9,י:10,כ:20,ל:30,מ:40,נ:50,ס:60,ע:70,פ:80,צ:90,ק:100,ר:200,ש:300,ת:400},Gd={};for(const[t,e]of Object.entries(Tx))Gd[e]=t;function BI(t){const e=[];for(;t>0;){if(t===15||t===16){e.push(9),e.push(t-9);break}let n=100,r;for(r=400;r>t;r-=n)r===n&&(n=n/10);e.push(r),t-=r}return e}function og(t){const e=parseInt(t,10);if(!e||e<0)throw new TypeError(`invalid number: ${t}`);let n="";const r=Math.floor(e/1e3);if(r>0&&r!==5){const s=BI(r);for(const a of s)n+=Gd[a];n+=m_}const i=BI(e%1e3);if(i.length===1)return n+Gd[i[0]]+m_;for(let s=0;s<i.length;s++)s+1===i.length&&(n+=CB),n+=Gd[i[s]];return n}function g_(t){let e=0;const n=t.indexOf(m_);if(n!==-1&&n!==t.length-1){const r=t.substring(0,n);e+=g_(r)*1e3,t=t.substring(n)}for(const r of t){const i=Tx[r];typeof i=="number"&&(e+=i)}return e}/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */function RB(t,e){let n=e-7;n<0&&(n+=Yr(t));const r=235*Math.floor((t-1)/19)+12*((t-1)%19)+Math.floor((7*((t-1)%19)+1)/19)+n,i=204+Math.floor(793*(r%1080)),s=5+12*r+793*Math.floor(r/1080)+Math.floor(i/1080)-6,o=(i%1080+1080*(s%24))%1080,l=1+29*r+Math.floor(s/24);return{year:t,month:e,dayOfWeek:l%7,hour:s%24,minutes:Math.floor(o/18),chalakim:o%18}}/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */function Q1(t){return t<0?"-00"+Q1(-t):t<10?"000"+t:t<100?"00"+t:t<1e3?"0"+t:String(t)}function lg(t){return t>=0&&t<10?"0"+t:String(t)}/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const zI=new Map;function DB(t){const e=zI.get(t);if(e)return e;const n=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:t});return zI.set(t,n),n}const NB=/^(\d+).(\d+).(\d+),?\s+(\d+).(\d+).(\d+)/;function p_(t,e){const n=DB(t).format(e),r=NB.exec(n);if(r===null)throw new Error(`Unable to parse formatted string: ${n}`);let i=r[4];return i==="24"&&(i="00"),r[3]=Q1(parseInt(r[3],10)),`${r[3]}-${r[1]}-${r[2]}T${i}:${r[5]}:${r[6]}Z`}function MB(t,e){const n=p_("UTC",e),r=p_(t,e),i=new Date(n).getTime()-new Date(r).getTime();return Math.ceil(i/1e3/60)}function Sx(t){return Q1(t.getFullYear())+"-"+lg(t.getMonth()+1)+"-"+lg(t.getDate())}/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */var wx={headers:{"plural-forms":"nplurals=2; plural=(n > 1);",language:"en_CA@ashkenazi"},contexts:{"":{Tevet:["Teves"]}}};/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */var X1={headers:{"plural-forms":"nplurals=2; plural=(n > 1);",language:"he"},contexts:{"":{Adar:["אֲדָר"],"Adar I":["אֲדָר א׳"],"Adar II":["אֲדָר ב׳"],Av:["אָב"],Cheshvan:["חֶשְׁוָן"],Elul:["אֱלוּל"],Iyyar:["אִיָּיר"],Kislev:["כִּסְלֵו"],Nisan:["נִיסָן"],"Sh'vat":["שְׁבָט"],Sivan:["סִיוָן"],Tamuz:["תַּמּוּז"],Tevet:["טֵבֵת"],Tishrei:["תִּשְׁרֵי"]}}};/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const J1={headers:{"plural-forms":"nplurals=2; plural=(n!=1);"},contexts:{"":{}}},OB={h:"he",a:"ashkenazi",s:"en","":"en"},Kd=new Map;let l0,u0;function c0(t){const e=["th","st","nd","rd"],n=t%100;return t+(e[(n-20)%10]||e[n]||e[0])}function y_(t){if(typeof t!="string")throw new TypeError(`Invalid locale name: ${t}`);return t.toLowerCase()}function h0(t){const e=y_(t),n=Kd.get(e);if(!n)throw new RangeError(`Locale '${t}' not found`);return n}class Z{static lookupTranslation(e,n){const i=(typeof n=="string"&&Kd.get(n.toLowerCase())||l0)[e];if(i!=null&&i.length&&i[0].length)return i[0]}static gettext(e,n){const r=this.lookupTranslation(e,n);return typeof r>"u"?e:r}static addLocale(e,n){if(e=y_(e),typeof n.contexts!="object"||typeof n.contexts[""]!="object")throw new TypeError(`Locale '${e}' invalid compact format`);Kd.set(e,n.contexts[""])}static addTranslation(e,n,r){const i=h0(e);if(typeof n!="string"||n.length===0)throw new TypeError(`Invalid id string: ${n}`);const s=Array.isArray(r);if(s){const a=r[0];if(typeof a!="string"||a.length===0)throw new TypeError(`Invalid translation array: ${r}`)}else if(typeof r!="string")throw new TypeError(`Invalid translation string: ${r}`);i[n]=s?r:[r]}static addTranslations(e,n){const r=h0(e);if(typeof n.contexts!="object"||typeof n.contexts[""]!="object")throw new TypeError(`Locale '${e}' invalid compact format`);const i=n.contexts[""];Object.assign(r,i)}static useLocale(e){const n=y_(e),r=h0(n);return u0=OB[n]||n,l0=r,l0}static getLocaleName(){return u0}static getLocaleNames(){return Array.from(Kd.keys()).sort((n,r)=>n.localeCompare(r))}static ordinal(e,n){const i=(n==null?void 0:n.toLowerCase())||u0;if(!i)return c0(e);switch(i){case"en":case"s":case"a":return c0(e);case"es":return e+"º";case"h":case"he":case"he-x-nonikud":return String(e)}return i.startsWith("ashkenazi")?c0(e):e+"."}static hebrewStripNikkud(e){return vx(e)}static copyLocaleNoNikud(e){const n=e.contexts[""],r={};for(const[i,s]of Object.entries(n))r[i]=[Z.hebrewStripNikkud(s[0])];return{headers:e.headers,contexts:{"":r}}}}Z.addLocale("en",J1);Z.addLocale("s",J1);Z.addLocale("",J1);Z.useLocale("en");Z.addLocale("ashkenazi",wx);Z.addLocale("a",wx);Z.addLocale("he",X1);Z.addLocale("h",X1);const xB=Z.copyLocaleNoNikud(X1);Z.addLocale("he-x-NoNikud",xB);/*! @hebcal/hdate v0.14.5, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */function kB(t,e){return t-e*Math.floor(t/e)}function LB(t){return t.yy!==void 0}const v_="day",__="week",FI="month",E_="year";class U{constructor(e,n,r){if(arguments.length===2||arguments.length>3)throw new TypeError("HDate constructor requires 0, 1 or 3 arguments");if(arguments.length===3){this.dd=this.mm=1;const i=typeof r=="string"?parseInt(r,10):r;if(isNaN(i))throw new TypeError(`HDate called with bad year: ${r}`);this.yy=i,UB(this,n);const s=typeof e=="string"?parseInt(e,10):e;if(isNaN(s))throw new TypeError(`HDate called with bad day: ${e}`);HB(this,s)}else{(typeof e>"u"||e===null)&&(e=new Date);const i=typeof e=="number"&&!isNaN(e)?e:pu(e)?Gl(e):LB(e)?e:null;if(i===null)throw new TypeError(`HDate called with bad arg: ${e}`);const s=typeof i=="number",a=s?Eh(i):i;this.yy=a.yy,this.mm=a.mm,this.dd=a.dd,s&&(this.rd=i)}}getFullYear(){return this.yy}isLeapYear(){return Gr(this.yy)}getMonth(){return this.mm}getTishreiMonth(){const e=Yr(this.getFullYear());return(this.getMonth()+e-6)%e||e}daysInMonth(){return Li(this.getMonth(),this.getFullYear())}getDate(){return this.dd}getDay(){return kB(this.abs(),7)}greg(){return q1(this.abs())}abs(){return typeof this.rd!="number"&&(this.rd=Wa(this.yy,this.mm,this.dd)),this.rd}static hebrew2abs(e,n,r){return Wa(e,n,r)}getMonthName(){return jI(this.getMonth(),this.getFullYear())}render(e,n=!0){const r=e||Z.getLocaleName(),i=this.getDate(),a=Z.gettext(this.getMonthName(),r).replace(/'/g,"’"),o=Z.ordinal(i,r),l=PB(r),c=`${o}${l} ${a}`;if(n){const h=this.getFullYear();return`${c}, ${h}`}else return c}renderGematriya(e=!1){const n=this.getDate(),r=e?"he-x-NoNikud":"he",i=Z.gettext(this.getMonthName(),r),s=this.getFullYear();return og(n)+" "+i+" "+og(s)}before(e){return rc(e,this,-1)}onOrBefore(e){return rc(e,this,0)}nearest(e){return rc(e,this,3)}onOrAfter(e){return rc(e,this,6)}after(e){return rc(e,this,7)}next(){return new U(this.abs()+1)}prev(){return new U(this.abs()-1)}add(e,n="d"){if(e=typeof e=="string"?parseInt(e,10):e,!e)return new U(this);if(n=VB(n),n===v_)return new U(this.abs()+e);if(n===__)return new U(this.abs()+7*e);if(n===E_)return new U(this.getDate(),this.getMonth(),this.getFullYear()+e);{let r=new U(this);const i=e>0?1:-1;e=Math.abs(e);for(let s=0;s<e;s++)r=new U(r.abs()+i*r.daysInMonth());return r}}subtract(e,n="d"){return this.add(e*-1,n)}deltaDays(e){return this.abs()-e.abs()}isSameDate(e){return this.yy===e.yy&&this.mm===e.mm&&this.dd===e.dd}toString(){const e=this.getDate(),n=this.getFullYear(),r=this.getMonthName();return`${e} ${r} ${n}`}static isLeapYear(e){return Gr(e)}static monthsInYear(e){return Yr(e)}static daysInMonth(e,n){return Li(e,n)}static getMonthName(e,n){return jI(e,n)}static monthNum(e){if(typeof e=="number"){if(isNaN(e)||e>14)throw new RangeError(`bad monthNum: ${e}`);return e}return e.charCodeAt(0)>=48&&e.charCodeAt(0)<=57?parseInt(e,10):o0(e)}static daysInYear(e){return Z1(e)}static longCheshvan(e){return Th(e)}static shortKislev(e){return Sh(e)}static monthFromName(e){return o0(e)}static dayOnOrBefore(e,n){return n-(n-e)%7}static isHDate(e){return e!==null&&typeof e=="object"&&typeof e.yy=="number"&&typeof e.mm=="number"&&typeof e.dd=="number"&&typeof e.greg=="function"&&typeof e.abs=="function"}static fromGematriyaString(e,n=5e3){const r=e.split(" ").filter(h=>h.length!==0),i=r.length;if(i!==3&&i!==4)throw new RangeError(`cannot parse gematriya str: "${e}"`);const s=g_(r[0]),a=i===3?r[1]:r[1]+" "+r[2],o=o0(a),l=i===3?r[2]:r[3];let c=g_(l);return c<1e3&&(c+=n),new U(s,o,c)}}function VB(t){switch(t){case"d":return v_;case"w":return __;case"M":return FI;case"y":return E_}const e=String(t||"").toLowerCase().replace(/s$/,"");switch(e){case v_:case __:case FI:case E_:return e}throw new TypeError(`Invalid units '${t}'`)}function PB(t){switch(t){case"en":case"s":case"a":case"ashkenazi":return" of"}const e=Z.lookupTranslation("of",t);return e?" "+e:t.startsWith("ashkenazi")?" of":""}function UB(t,e){return t.mm=U.monthNum(e),eo(t),t}function HB(t,e){return t.dd=e,eo(t),t}function eo(t){bx(t),jB(t)}function jB(t){t.dd<1&&(t.mm===K.TISHREI&&(t.yy-=1),t.dd+=Li(t.mm,t.yy),t.mm-=1,eo(t)),t.dd>Li(t.mm,t.yy)&&(t.mm===K.ELUL&&(t.yy+=1),t.dd-=Li(t.mm,t.yy),t.mm===Yr(t.yy)?t.mm=1:t.mm+=1,eo(t)),bx(t)}function bx(t){t.mm===K.ADAR_II&&!t.isLeapYear()?(t.mm-=1,eo(t)):t.mm<1?(t.mm+=Yr(t.yy),t.yy-=1,eo(t)):t.mm>Yr(t.yy)&&(t.mm-=Yr(t.yy),t.yy+=1,eo(t)),delete t.rd}function rc(t,e,n){return new U(U.dayOnOrBefore(t,e.abs()+n))}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */var Ax={headers:{"plural-forms":"nplurals=2; plural=(n > 1);",language:"en_CA@ashkenazi"},contexts:{"":{Shabbat:["Shabbos"],"Achrei Mot":["Achrei Mos"],Bechukotai:["Bechukosai"],"Beha'alotcha":["Beha’aloscha"],Bereshit:["Bereshis"],Chukat:["Chukas"],"Erev Shavuot":["Erev Shavuos"],"Erev Sukkot":["Erev Sukkos"],"Ki Tavo":["Ki Savo"],"Ki Teitzei":["Ki Seitzei"],"Ki Tisa":["Ki Sisa"],Matot:["Matos"],"Purim Katan":["Purim Koton"],"Shabbat Chazon":["Shabbos Chazon"],"Shabbat HaChodesh":["Shabbos HaChodesh"],"Shabbat HaGadol":["Shabbos HaGadol"],"Shabbat Nachamu":["Shabbos Nachamu"],"Shabbat Parah":["Shabbos Parah"],"Shabbat Shekalim":["Shabbos Shekalim"],"Shabbat Shuva":["Shabbos Shuvah"],"Shabbat Zachor":["Shabbos Zachor"],Shavuot:["Shavuos"],"Shavuot I":["Shavuos I"],"Shavuot II":["Shavuos II"],Shemot:["Shemos"],"Shmini Atzeret":["Shmini Atzeres"],"Simchat Torah":["Simchas Torah"],Sukkot:["Sukkos"],"Sukkot I":["Sukkos I"],"Sukkot II":["Sukkos II"],"Sukkot II (CH''M)":["Sukkos II (CH’’M)"],"Sukkot III (CH''M)":["Sukkos III (CH’’M)"],"Sukkot IV (CH''M)":["Sukkos IV (CH’’M)"],"Sukkot V (CH''M)":["Sukkos V (CH’’M)"],"Sukkot VI (CH''M)":["Sukkos VI (CH’’M)"],"Sukkot VII (Hoshana Raba)":["Sukkos VII (Hoshana Raba)"],"Ta'anit Bechorot":["Ta’anis Bechoros"],"Ta'anit Esther":["Ta’anis Esther"],Toldot:["Toldos"],Vaetchanan:["Vaeschanan"],Yitro:["Yisro"],"Vezot Haberakhah":["Vezos Haberakhah"],Parashat:["Parshas"],"Leil Selichot":["Leil Selichos"],"Shabbat Mevarchim Chodesh":["Shabbos Mevorchim Chodesh"],"Shabbat Shirah":["Shabbos Shirah"],"Asara B'Tevet":["Asara B’Teves"],"Alot HaShachar":["Alos HaShachar"],"Kriat Shema, sof zeman":["Krias Shema, sof zman"],"Tefilah, sof zeman":["Tefilah, sof zman"],"Kriat Shema, sof zeman (MGA)":["Krias Shema, sof zman (MGA)"],"Tefilah, sof zeman (MGA)":["Tefilah, sof zman (MGA)"],"Chatzot HaLailah":["Chatzos HaLailah"],"Chatzot hayom":["Chatzos"],"Tzeit HaKochavim":["Tzeis HaKochavim"],"Birkat Hachamah":["Birkas Hachamah"],"Shushan Purim Katan":["Shushan Purim Koton"]}}};/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */var dp={headers:{"plural-forms":"nplurals=2; plural=(n > 1);",language:"he_IL"},contexts:{"":{Shabbat:["שַׁבָּת"],Parashat:["פָּרָשַׁת"],"Achrei Mot":["אַחֲרֵי מוֹת"],Balak:["בָּלָק"],Bamidbar:["בְּמִדְבַּר"],Bechukotai:["בְּחֻקֹּתַי"],"Beha'alotcha":["בְּהַעֲלֹתְךָ"],Behar:["בְּהַר"],Bereshit:["בְּרֵאשִׁית"],Beshalach:["בְּשַׁלַּח"],Bo:["בֹּא"],"Chayei Sara":["חַיֵּי שָֹרָה"],Chukat:["חֻקַּת"],Devarim:["דְּבָרִים"],Eikev:["עֵקֶב"],Emor:["אֱמוֹר"],"Ha'azinu":["הַאֲזִינוּ"],Kedoshim:["קְדשִׁים"],"Ki Tavo":["כִּי־תָבוֹא"],"Ki Teitzei":["כִּי־תֵצֵא"],"Ki Tisa":["כִּי תִשָּׂא"],Korach:["קֹרַח"],"Lech-Lecha":["לֶךְ־לְךָ"],Masei:["מַסְעֵי"],Matot:["מַטּוֹת"],Metzora:["מְצֹרָע"],Miketz:["מִקֵּץ"],Mishpatim:["מִשְׁפָּטִים"],Nasso:["נָשׂא"],Nitzavim:["נִצָּבִים"],Noach:["נֹחַ"],Pekudei:["פְקוּדֵי"],Pinchas:["פִּינְחָס"],"Re'eh":["רְאֵה"],"Sh'lach":["שְׁלַח־לְךָ"],Shemot:["שְׁמוֹת"],Shmini:["שְּׁמִינִי"],Shoftim:["שׁוֹפְטִים"],Tazria:["תַזְרִיעַ"],Terumah:["תְּרוּמָה"],Tetzaveh:["תְּצַוֶּה"],Toldot:["תּוֹלְדוֹת"],Tzav:["צַו"],Vaera:["וָאֵרָא"],Vaetchanan:["וָאֶתְחַנַּן"],Vayakhel:["וַיַּקְהֵל"],Vayechi:["וַיְחִי"],Vayeilech:["וַיֵּלֶךְ"],Vayera:["וַיֵּרָא"],Vayeshev:["וַיֵּשֶׁב"],Vayetzei:["וַיֵּצֵא"],Vayigash:["וַיִּגַּשׁ"],Vayikra:["וַיִּקְרָא"],Vayishlach:["וַיִּשְׁלַח"],"Vezot Haberakhah":["וְזֹאת הַבְּרָכָה"],Yitro:["יִתְרוֹ"],"Asara B'Tevet":["עֲשָׂרָה בְּטֵבֵת"],"Candle lighting":["הַדְלָקַת נֵרוֹת"],Chanukah:["חֲנוּכָּה"],"Chanukah: 1 Candle":["חֲנוּכָּה: א׳ נֵר"],"Chanukah: 2 Candles":["חֲנוּכָּה: ב׳ נֵרוֹת"],"Chanukah: 3 Candles":["חֲנוּכָּה: ג׳ נֵרוֹת"],"Chanukah: 4 Candles":["חֲנוּכָּה: ד׳ נֵרוֹת"],"Chanukah: 5 Candles":["חֲנוּכָּה: ה׳ נֵרוֹת"],"Chanukah: 6 Candles":["חֲנוּכָּה: ו׳ נֵרוֹת"],"Chanukah: 7 Candles":["חֲנוּכָּה: ז׳ נֵרוֹת"],"Chanukah: 8 Candles":["חֲנוּכָּה: ח׳ נֵרוֹת"],"Chanukah: 8th Day":["חֲנוּכָּה: יוֹם ח׳"],"Days of the Omer":["סְפִירַת הָעוֹמֶר"],Omer:["עוֹמֶר"],"day of the Omer":["בָּעוֹמֶר"],"Erev Pesach":["עֶרֶב פֶּסַח"],"Erev Purim":["עֶרֶב פּוּרִים"],"Erev Rosh Hashana":["עֶרֶב רֹאשׁ הַשָּׁנָה"],"Erev Shavuot":["עֶרֶב שָׁבוּעוֹת"],"Erev Simchat Torah":["עֶרֶב שִׂמְחַת תּוֹרָה"],"Erev Sukkot":["עֶרֶב סוּכּוֹת"],"Erev Tish'a B'Av":["עֶרֶב תִּשְׁעָה בְּאָב"],"Erev Yom Kippur":["עֶרֶב יוֹם כִּפּוּר"],Havdalah:["הַבְדָּלָה"],"Lag BaOmer":["ל״ג בָּעוֹמֶר"],"Leil Selichot":["סְלִיחוֹת"],Pesach:["פֶּסַח"],"Pesach I":["פֶּסַח א׳"],"Pesach II":["פֶּסַח ב׳"],"Pesach II (CH''M)":["פֶּסַח ב׳ (חוה״מ)"],"Pesach III (CH''M)":["פֶּסַח ג׳ (חוה״מ)"],"Pesach IV (CH''M)":["פֶּסַח ד׳ (חוה״מ)"],"Pesach Sheni":["פֶּסַח שֵׁנִי"],"Pesach V (CH''M)":["פֶּסַח ה׳ (חוה״מ)"],"Pesach VI (CH''M)":["פֶּסַח ו׳ (חוה״מ)"],"Pesach VII":["פֶּסַח ז׳"],"Pesach VIII":["פֶּסַח ח׳"],Purim:["פּוּרִים"],"Purim Katan":["פּוּרִים קָטָן"],"Rosh Chodesh %s":["רֹאשׁ חוֹדֶשׁ %s"],"Rosh Chodesh":["רֹאשׁ חוֹדֶשׁ"],"Rosh Hashana":["רֹאשׁ הַשָּׁנָה"],"Rosh Hashana I":["רֹאשׁ הַשָּׁנָה א׳"],"Rosh Hashana II":["רֹאשׁ הַשָּׁנָה ב׳"],"Shabbat Chazon":["שַׁבַּת חֲזוֹן"],"Shabbat HaChodesh":["שַׁבַּת הַחֹדֶשׁ"],"Shabbat HaGadol":["שַׁבַּת הַגָּדוֹל"],"Shabbat Nachamu":["שַׁבַּת נַחֲמוּ"],"Shabbat Parah":["שַׁבַּת פָּרָה"],"Shabbat Shekalim":["שַׁבַּת שְׁקָלִים"],"Shabbat Shuva":["שַׁבַּת שׁוּבָה"],"Shabbat Zachor":["שַׁבַּת זָכוֹר"],Shavuot:["שָׁבוּעוֹת"],"Shavuot I":["שָׁבוּעוֹת א׳"],"Shavuot II":["שָׁבוּעוֹת ב׳"],"Shmini Atzeret":["שְׁמִינִי עֲצֶרֶת"],"Shushan Purim":["שׁוּשָׁן פּוּרִים"],Sigd:["חַג הַסִּיגְד"],"Simchat Torah":["שִׂמְחַת תּוֹרָה"],Sukkot:["סוּכּוֹת"],"Sukkot I":["סוּכּוֹת א׳"],"Sukkot II":["סוּכּוֹת ב׳"],"Sukkot II (CH''M)":["סוּכּוֹת ב׳ (חוה״מ)"],"Sukkot III (CH''M)":["סוּכּוֹת ג׳ (חוה״מ)"],"Sukkot IV (CH''M)":["סוּכּוֹת ד׳ (חוה״מ)"],"Sukkot V (CH''M)":["סוּכּוֹת ה׳ (חוה״מ)"],"Sukkot VI (CH''M)":["סוּכּוֹת ו׳ (חוה״מ)"],"Sukkot VII (Hoshana Raba)":["סוּכּוֹת ז׳ (הוֹשַׁעְנָא רַבָּה)"],"Ta'anit Bechorot":["תַּעֲנִית בְּכוֹרוֹת"],"Ta'anit Esther":["תַּעֲנִית אֶסְתֵּר"],"Tish'a B'Av":["תִּשְׁעָה בְּאָב"],"Tu B'Av":["ט״וּ בְּאָב"],"Tu BiShvat":["ט״וּ בִּשְׁבָט"],"Tu B'Shvat":["ט״וּ בִּשְׁבָט"],"Tzom Gedaliah":["צוֹם גְּדַלְיָה"],"Tzom Tammuz":["צוֹם י״ז בְּתַמּוּז"],"Yom HaAtzma'ut":["יוֹם הָעַצְמָאוּת"],"Yom HaShoah":["יוֹם הַשּׁוֹאָה"],"Yom HaZikaron":["יוֹם הַזִּכָּרוֹן"],"Yom Kippur":["יוֹם כִּפּוּר"],"Yom Yerushalayim":["יוֹם יְרוּשָׁלַיִם"],"Yom HaAliyah":["יוֹם הַעֲלִיָּה"],"Yom HaAliyah School Observance":["שְׁמִירָת בֵּית הַסֵפֶר לְיוֹם הַעֲלִיָּה"],"Rosh Chodesh Adar":["רֹאשׁ חוֹדֶשׁ אֲדָר"],"Rosh Chodesh Adar I":["רֹאשׁ חוֹדֶשׁ אֲדָר א׳"],"Rosh Chodesh Adar II":["רֹאשׁ חוֹדֶשׁ אֲדָר ב׳"],"Rosh Chodesh Av":["רֹאשׁ חוֹדֶשׁ אָב"],"Rosh Chodesh Cheshvan":["רֹאשׁ חוֹדֶשׁ חֶשְׁוָן"],"Rosh Chodesh Elul":["רֹאשׁ חוֹדֶשׁ אֱלוּל"],"Rosh Chodesh Iyyar":["רֹאשׁ חוֹדֶשׁ אִיָּיר"],"Rosh Chodesh Kislev":["רֹאשׁ חוֹדֶשׁ כִּסְלֵו"],"Rosh Chodesh Nisan":["רֹאשׁ חוֹדֶשׁ נִיסָן"],"Rosh Chodesh Sh'vat":["רֹאשׁ חוֹדֶשׁ שְׁבָט"],"Rosh Chodesh Sivan":["רֹאשׁ חוֹדֶשׁ סִיוָן"],"Rosh Chodesh Tamuz":["רֹאשׁ חוֹדֶשׁ תַּמּוּז"],"Rosh Chodesh Tevet":["רֹאשׁ חוֹדֶשׁ טֵבֵת"],min:["דַּקּוֹת"],"Fast begins":["תְּחִילַּת הַצוֹם"],"Fast ends":["סִיּוּם הַצוֹם"],"Rosh Hashana LaBehemot":["רֹאשׁ הַשָּׁנָה לְמַעְשַׂר בְּהֵמָה"],"Tish'a B'Av (observed)":["(תִּשְׁעָה בְּאָב (נִדְחָה"],"Shabbat Mevarchim Chodesh":["שַׁבַּת מְבָרְכִים חוֹדֶשׁ"],"Shabbat Shirah":["שַׁבַּת שִׁירָה"],Lovingkindness:["חֶסֶד"],Might:["גְּבוּרָה"],Beauty:["תִּפְאֶרֶת"],Eternity:["נֶּצַח"],Splendor:["הוֹד"],Foundation:["יְּסוֹד"],Majesty:["מַּלְכוּת"],day:["יוֹם"],"Yom Kippur Katan":["יוֹם כִּפּוּר קָטָן"],Yizkor:["יִזְכּוֹר"],"Family Day":["יוֹם הַמִּשׁפָּחָה"],"Yitzhak Rabin Memorial Day":["יוֹם הַזִּכָּרוֹן לְיִצְחָק רַבִּין"],"Jabotinsky Day":["יוֹם זַ׳בּוֹטִינְסְקִי"],"Herzl Day":["יוֹם הֵרְצְל"],"Ben-Gurion Day":["יוֹם בן־גוריון"],"Hebrew Language Day":["יוֹם הַשָׂפָה הַעִברִית"],"Birkat Hachamah":["בִּרְכַּת הַחַמָּה"],"Shushan Purim Katan":["שׁוּשָׁן פּוּרִים קָטָן"],"Purim Meshulash":["פּוּרִים מְשׁוּלָּשׁ"],"Chag HaBanot":["חַג הַבָּנוֹת"],Molad:["מוֹלָד הָלְּבָנָה"],chalakim:["חֲלָקִים"]}}};/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */var BB={headers:{"plural-forms":"nplurals=2; plural=(n != 1);",language:"he-x-NoNikud"},contexts:{"":{Korach:["קורח"],Chukat:["חוקת"]}}};/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */Z.addTranslations("he",dp);Z.addTranslations("h",dp);Z.addTranslations("ashkenazi",Ax);Z.addTranslations("a",Ax);const zB=dp.contexts[""],Ix={};for(const[t,e]of Object.entries(zB))Ix[t]=[Z.hebrewStripNikkud(e[0])];const FB={headers:dp.headers,contexts:{"":Ix}};Z.addTranslations("he-x-NoNikud",FB);Z.addTranslations("he-x-NoNikud",BB);/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const F={CHAG:1,LIGHT_CANDLES:2,YOM_TOV_ENDS:4,CHUL_ONLY:8,IL_ONLY:16,LIGHT_CANDLES_TZEIS:32,CHANUKAH_CANDLES:64,ROSH_CHODESH:128,MINOR_FAST:256,SPECIAL_SHABBAT:512,PARSHA_HASHAVUA:1024,DAF_YOMI:2048,OMER_COUNT:4096,MODERN_HOLIDAY:8192,MAJOR_FAST:16384,SHABBAT_MEVARCHIM:32768,MOLAD:65536,USER_EVENT:131072,HEBREW_DATE:262144,MINOR_HOLIDAY:524288,EREV:1048576,CHOL_HAMOED:2097152,MISHNA_YOMI:4194304,YOM_KIPPUR_KATAN:8388608,YERUSHALMI_YOMI:16777216,NACH_YOMI:33554432,DAILY_LEARNING:67108864,YIZKOR:134217728},YB=[[F.MAJOR_FAST,"holiday","major","fast"],[F.CHANUKAH_CANDLES,"holiday","major"],[F.HEBREW_DATE,"hebdate"],[F.MINOR_FAST,"holiday","fast"],[F.MINOR_HOLIDAY,"holiday","minor"],[F.MODERN_HOLIDAY,"holiday","modern"],[F.MOLAD,"molad"],[F.OMER_COUNT,"omer"],[F.PARSHA_HASHAVUA,"parashat"],[F.ROSH_CHODESH,"roshchodesh"],[F.SHABBAT_MEVARCHIM,"mevarchim"],[F.SPECIAL_SHABBAT,"holiday","shabbat"],[F.USER_EVENT,"user"],[F.YIZKOR,"yizkor"]];class ei{constructor(e,n,r=0,i){if(U.isHDate(e)){if(typeof n!="string")throw new TypeError(`Invalid Event description: ${n}`)}else throw new TypeError(`Invalid Event date: ${e}`);this.date=e,this.desc=n,this.mask=+r,typeof i=="object"&&i!==null&&Object.assign(this,i)}getDate(){return this.date}getDesc(){return this.desc}getFlags(){return this.mask}render(e){return Z.gettext(this.desc,e)}renderBrief(e){return this.render(e)}getEmoji(){return this.emoji||null}basename(){return this.getDesc()}url(){}observedInIsrael(){return!(this.mask&F.CHUL_ONLY)}observedInDiaspora(){return!(this.mask&F.IL_ONLY)}observedIn(e){return e?this.observedInIsrael():this.observedInDiaspora()}clone(){const e=new ei(this.date,this.desc,this.mask);return Object.assign(e,this),e}getCategories(){const e=this.getFlags();for(const n of YB){const r=n[0];if(e&r)return n.slice(1)}return["unknown"]}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */class qB extends ei{constructor(e){super(e,e.toString(),F.HEBREW_DATE)}render(e){const n=e==null?void 0:e.toLowerCase(),r=n??Z.getLocaleName(),i=this.getDate();switch(r){case"h":case"he":return i.renderGematriya(!1);case"he-x-nonikud":return i.renderGematriya(!0);default:return i.render(r,!0)}}renderBriefHebrew(e){const n=this.getDate(),r=n.getDate(),i=Z.gettext(n.getMonthName(),e);return og(r)+" "+i}renderBrief(e){const n=e==null?void 0:e.toLowerCase(),r=n??Z.getLocaleName(),i=this.getDate();if(i.getMonth()===K.TISHREI&&i.getDate()===1)return this.render(r);switch(r){case"h":case"he":case"he-x-nonikud":return this.renderBriefHebrew(r);default:return i.render(r,!1)}}}function Mn(t,e,n,r,i){return Qi(e,((s,a)=>{const o=s[a];if(o===void 0)throw new TypeError(GT(a));return o})(t,e),n,r,i)}function Qi(t,e,n,r,i,s){const a=bh(e,n,r);if(i&&e!==a)throw new RangeError(H4(t,e,n,r,s));return a}function An(t){return t!==null&&/object|function/.test(typeof t)}function cr(t,e=Map){const n=new e;return(r,...i)=>{if(n.has(r))return n.get(r);const s=t(r,...i);return n.set(r,s),s}}function wh(t){return Vi({name:t},1)}function Vi(t,e){return Xi(n=>({value:n,configurable:1,writable:!e}),t)}function $B(t){return Xi(e=>({get:e,configurable:1}),t)}function W1(t){return{[Symbol.toStringTag]:{value:t,configurable:1}}}function yu(t,e){const n={};let r=t.length;for(const i of e)n[t[--r]]=i;return n}function Xi(t,e,n){const r={};for(const i in e)r[i]=t(e[i],i,n);return r}function mp(t,e,n){const r={};for(let i=0;i<e.length;i++){const s=e[i];r[s]=t(s,i,n)}return r}function Cx(t,e,n){const r={};for(let i=0;i<t.length;i++)r[e[i]]=n[t[i]];return r}function wr(t,e){const n=Object.create(null);for(const r of t)n[r]=e[r];return n}function YI(t,e){for(const n of e)if(n in t)return 1;return 0}function Rx(t,e,n){for(const r of t)if(e[r]!==n[r])return 0;return 1}function Dx(t,e,n){const r={...n};for(let i=0;i<e;i++)r[t[i]]=0;return r}function ke(t,...e){return(...n)=>t(...e,...n)}function qI(t){return t[0].toUpperCase()+t.substring(1)}function of(t){return t.slice().sort()}function ug(t,e){return String(e).padStart(t,"0")}function Gs(t,e){return Math.sign(t-e)}function bh(t,e,n){return Math.min(Math.max(t,e),n)}function Pi(t,e){return[Math.floor(t/e),Kc(t,e)]}function Kc(t,e){return(t%e+e)%e}function aa(t,e){return[gp(t,e),eT(t,e)]}function gp(t,e){return Math.trunc(t/e)||0}function eT(t,e){return t%e||0}function sd(t){return Math.abs(t%1)===.5}function Nx(t,e,n){let r=0,i=0;for(let o=0;o<=e;o++){const l=t[n[o]],c=Qr[o],h=Je/c,[f,d]=aa(l,h);r+=d*c,i+=f}const[s,a]=aa(r,Je);return[i+s,a]}function pp(t,e,n){const r={};for(let i=e;i>=0;i--){const s=Qr[i];r[n[i]]=gp(t,s),t=eT(t,s)}return r}function GB(t){if(t!==void 0)return ln(t)}function KB(t){if(t!==void 0)return Ri(t)}function Mx(t){if(t!==void 0)return tT(t)}function Ri(t){return xx(tT(t))}function tT(t){return rT(iY(t))}function Ox(t,e){if(e==null)throw new RangeError(GT(t));return e}function lf(t){if(!An(t))throw new TypeError(DF);return t}function nT(t,e,n=t){if(typeof e!==t)throw new TypeError(ba(n,e));return e}function rT(t,e="number"){if(!Number.isInteger(t))throw new RangeError(wF(e,t));return t||0}function xx(t,e="number"){if(t<=0)throw new RangeError(bF(e,t));return t}function iT(t){if(typeof t=="symbol")throw new TypeError(RF);return String(t)}function Zd(t,e){return An(t)?String(t):ln(t,e)}function sT(t){if(typeof t=="string")return BigInt(t);if(typeof t!="bigint")throw new TypeError(CF(t));return t}function kx(t,e="number"){if(typeof t=="bigint")throw new TypeError(IF(e));if(t=Number(t),!Number.isFinite(t))throw new RangeError(AF(e,t));return t}function En(t,e){return Math.trunc(kx(t,e))||0}function aT(t,e){return rT(kx(t,e),e)}function $I(t,e){return xx(En(t,e),e)}function oT(t,e){let[n,r]=aa(e,Je),i=t+n;const s=Math.sign(i);return s&&s===-Math.sign(r)&&(i-=s,r+=s*Je),[i,r]}function Kl(t,e,n=1){return oT(t[0]+e[0]*n,t[1]+e[1]*n)}function mo(t,e){return oT(t[0],t[1]+e)}function Kr(t,e){return Kl(e,t,-1)}function hr(t,e){return Gs(t[0],e[0])||Gs(t[1],e[1])}function Lx(t,e,n){return hr(t,e)===-1||hr(t,n)===1}function lT(t,e=1){const n=BigInt(Je/e);return[Number(t/n),Number(t%n)*e]}function Ah(t,e=1){const n=Je/e,[r,i]=aa(t,n);return[r,i*e]}function Zr(t,e=1,n){const[r,i]=t,[s,a]=aa(i,e);return r*(Je/e)+(s+(n?a/e:0))}function uT(t,e,n=Pi){const[r,i]=t,[s,a]=n(i,e);return[r*(Je/e)+s,a]}function cT(t){return Mn(t,"isoYear",Mh,Nh,1),t.isoYear===Mh?Mn(t,"isoMonth",4,12,1):t.isoYear===Nh&&Mn(t,"isoMonth",1,9,1),t}function vr(t){return Yn({...t,...qn,isoHour:12}),t}function Yn(t){const e=Mn(t,"isoYear",Mh,Nh,1),n=e===Mh?1:e===Nh?-1:0;return n&&ti(Zt({...t,isoDay:t.isoDay+n,isoNanosecond:t.isoNanosecond-n})),t}function ti(t){if(!t||Lx(t,hY,cY))throw new RangeError(Aa);return t}function oa(t){return Nx(t,5,Ir)[1]}function yp(t){const[e,n]=Pi(t,Je);return[pp(n,5,Ir),e]}function GI(t){return uT(t,qr)}function wn(t){return vu(t.isoYear,t.isoMonth,t.isoDay,t.isoHour,t.isoMinute,t.isoSecond,t.isoMillisecond)}function Zt(t){const e=wn(t);if(e!==void 0){const[n,r]=aa(e,Bn);return[n,r*si+(t.isoMicrosecond||0)*gf+(t.isoNanosecond||0)]}}function hT(t,e){const[n,r]=yp(oa(t)-e);return ti(Zt({...t,isoDay:t.isoDay+r,...n}))}function cg(...t){return vu(...t)/K4}function vu(...t){const[e,n]=Vx(...t),r=e.valueOf();if(!isNaN(r))return r-n*Bn}function Vx(t,e=1,n=1,r=0,i=0,s=0,a=0){const o=t===Mh?1:t===Nh?-1:0,l=new Date;return l.setUTCHours(r,i,s,a),l.setUTCFullYear(t,e-1,n+o),[l,o]}function _u(t,e){let[n,r]=mo(t,e);r<0&&(r+=Je,n-=1);const[i,s]=Pi(r,si),[a,o]=Pi(s,gf);return vp(n*Bn+i,a,o)}function vp(t,e=0,n=0){const r=Math.ceil(Math.max(0,Math.abs(t)-sS)/Bn)*Math.sign(t),i=new Date(t-r*Bn);return yu(Hp,[i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate()+r,i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds(),e,n])}function fT(t,e){if(e<-sS)throw new RangeError(Aa);const n=t.formatToParts(e),r={};for(const i of n)r[i.type]=i.value;return r}function dT(t){return[t.isoYear,t.isoMonth,t.isoDay]}function Px(t,e){return[e,0]}function Ux(){return ps}function Hx(t,e){switch(e){case 2:return mT(t)?29:28;case 4:case 6:case 9:case 11:return 30}return 31}function jx(t){return mT(t)?366:365}function mT(t){return t%4==0&&(t%100!=0||t%400==0)}function Bx(t){const[e,n]=Vx(t.isoYear,t.isoMonth,t.isoDay);return Kc(e.getUTCDay()-n,7)||7}function zx(t){return this.id===Cu?(({isoYear:e})=>e<1?["gregory-inverse",1-e]:["gregory",e])(t):this.id===ca?mY(t):[]}function ZB(t){const e=wn(t);if(e<dY){const{isoYear:s}=t;return s<1?["japanese-inverse",1-s]:["japanese",s]}const n=fT(gS(ca),e),{era:r,eraYear:i}=R4(n,ca);return[r,i]}function _p(t){return Ao(t),Eu(t,1),t}function Ao(t){return Fx(t,1),t}function KI(t){return Rx(nS,t,Fx(t))}function Fx(t,e){const{isoYear:n}=t,r=Mn(t,"isoMonth",1,Ux(),e);return{isoYear:n,isoMonth:r,isoDay:Mn(t,"isoDay",1,Hx(n,r),e)}}function Eu(t,e){return yu(Ir,[Mn(t,"isoHour",0,23,e),Mn(t,"isoMinute",0,59,e),Mn(t,"isoSecond",0,59,e),Mn(t,"isoMillisecond",0,999,e),Mn(t,"isoMicrosecond",0,999,e),Mn(t,"isoNanosecond",0,999,e)])}function Be(t){return t===void 0?0:u3(lf(t))}function Ep(t,e=0){t=ni(t);const n=c3(t),r=bY(t,e);return[u3(t),r,n]}function Tu(t,e,n,r=9,i=0,s=4){e=ni(e);let a=l3(e,r,i),o=yT(e),l=vf(e,s);const c=yf(e,r,i,1);return a==null?a=Math.max(n,c):Gx(a,c),o=vT(o,c,1),t&&(l=(h=>h<4?(h+2)%4:h)(l)),[a,c,o,l]}function Tp(t,e=6,n){let r=yT(t=Sp(t,pg));const i=vf(t,7);let s=yf(t,e);return s=Ox(pg,s),r=vT(r,s,void 0,n),[s,r,i]}function gT(t){return aS(ni(t))}function Yx(t,e){return pT(ni(t),e)}function QB(t){const e=Sp(t,_0),n=_a(_0,SY,e,0);if(!n)throw new RangeError(ba(_0,n));return n}function pT(t,e=4){const n=$x(t);return[vf(t,4),...qx(yf(t,e),n)]}function qx(t,e){return t!=null?[Qr[t],t<4?9-3*t:-1]:[e===void 0?1:10**(9-e),e]}function yT(t){const e=t[Zc];return e===void 0?1:En(e,Zc)}function vT(t,e,n,r){const i=r?Je:Qr[e+1];if(i){const s=Qr[e];if(i%((t=Qi(Zc,t,1,i/s-(r?0:1),1))*s))throw new RangeError(ba(Zc,t))}else t=Qi(Zc,t,1,n?10**9:1,1);return t}function $x(t){let e=t[v0];if(e!==void 0){if(typeof e!="number"){if(iT(e)==="auto")return;throw new RangeError(ba(v0,e))}e=Qi(v0,Math.floor(e),0,9,1)}return e}function ni(t){return t===void 0?{}:lf(t)}function Sp(t,e){return typeof t=="string"?{[e]:t}:lf(t)}function wp(t){return{overflow:gY[t]}}function _T(t,e,n=9,r=0,i){let s=e[t];if(s===void 0)return i?r:void 0;if(s=iT(s),s==="auto")return i?r:null;let a=b_[s];if(a===void 0&&(a=oY[s]),a===void 0)throw new RangeError(B4(t,s,b_));return Qi(t,a,r,n,1,KT),a}function _a(t,e,n,r=0){const i=n[t];if(i===void 0)return r;const s=iT(i),a=e[s];if(a===void 0)throw new RangeError(B4(t,s,e));return a}function Gx(t,e){if(e>t)throw new RangeError(QF)}function ri(t){return{branding:cS,epochNanoseconds:t}}function br(t,e,n){return{branding:Ia,calendar:n,timeZone:e,epochNanoseconds:t}}function Ar(t,e=t.calendar){return{branding:Ru,calendar:e,...wr(lY,t)}}function es(t,e=t.calendar){return{branding:_f,calendar:e,...wr(rS,t)}}function Ih(t,e=t.calendar){return{branding:oS,calendar:e,...wr(rS,t)}}function hg(t,e=t.calendar){return{branding:lS,calendar:e,...wr(rS,t)}}function ii(t){return{branding:uS,...wr(i3,t)}}function qt(t){return{branding:hS,sign:Ea(t),...wr(WT,t)}}function ET(t){return uT(t.epochNanoseconds,si)[0]}function XB(t){return((e,n=1)=>{const[r,i]=e,s=Math.floor(i/n),a=Je/n;return BigInt(r)*BigInt(a)+BigInt(s)})(t.epochNanoseconds)}function Kx(t){return t.epochNanoseconds}function JB(t,e,n,r,i){const s=go(r),[a,o]=((v,_)=>{const A=_((v=Sp(v,C_))[a3]);let M=wY(v);return M=Ox(C_,M),[M,A]})(i,t),l=Math.max(a,s);if(!o&&Rh(l,o))return ZI(r,a);if(!o)throw new RangeError(Vp);if(!r.sign)return 0;const[c,h,f]=Rp(e,n,o),d=DT(f),p=Dp(f),y=NT(f),w=p(h,c,r);Zl(o)||(Yn(c),Yn(w));const C=y(h,c,w,a);return Rh(a,o)?ZI(C,a):((v,_,A,M,V,k,S)=>{const T=Ea(v),[E,R]=TT(M,tS(A,v),A,T,V,k,S),D=ST(_,E,R);return v[Ge[A]]+D*T})(C,d(w),a,h,c,d,p)}function ZI(t,e){return Zr(Xt(t),Qr[e],1)}function TT(t,e,n,r,i,s,a){const o=Ge[n],l={...e,[o]:e[o]+r},c=a(t,i,e),h=a(t,i,l);return[s(c),s(h)]}function ST(t,e,n){const r=Zr(Kr(e,n));if(!r)throw new RangeError(Iu);return Zr(Kr(e,t))/r}function WB(t,e){const[n,r,i]=Tp(e,5,1);return ri(Ap(t.epochNanoseconds,n,r,i,1))}function ez(t,e,n){let{epochNanoseconds:r,timeZone:i,calendar:s}=e;const[a,o,l]=Tp(n);if(a===0&&o===1)return e;const c=t(i);if(a===6)r=((h,f,d,p)=>{const y=dr(d,f),[w,C]=h(y),v=d.epochNanoseconds,_=ua(f,w),A=ua(f,C);if(Lx(v,_,A))throw new RangeError(Iu);return Wx(ST(v,_,A),p)?A:_})(Xx,c,e,l);else{const h=c.R(r);r=Su(c,Zx(_u(r,h),a,o,l),h,2,0,1)}return br(r,i,s)}function tz(t,e){return Ar(Zx(t,...Tp(e)),t.calendar)}function nz(t,e){const[n,r,i]=Tp(e,5);var s;return ii((s=i,wT(t,uf(n,r),s)[0]))}function rz(t,e){const n=t(e.timeZone),r=dr(e,n),[i,s]=Xx(r),a=Zr(Kr(ua(n,i),ua(n,s)),Up,1);if(a<=0)throw new RangeError(Iu);return a}function iz(t,e){const{timeZone:n,calendar:r}=e,i=((s,a,o)=>ua(a,s(dr(o,a))))(Jx,t(n),e);return br(i,n,r)}function Zx(t,e,n,r){return Qx(t,uf(e,n),r)}function Qx(t,e,n){const[r,i]=wT(t,e,n);return Yn({...Io(t,i),...r})}function wT(t,e,n){return yp(la(oa(t),e,n))}function fg(t){return la(t,Pp,7)}function uf(t,e){return Qr[t]*e}function Xx(t){const e=Jx(t);return[e,Io(e,1)]}function Jx(t){return uY(6,t)}function sz(t,e,n){const r=Math.min(go(t),6);return wu(Ip(Xt(t,r),e,n),r)}function bp(t,e,n,r,i,s,a,o,l,c){if(r===0&&i===1)return t;const h=Rh(r,o)?Zl(o)&&r<6&&n>=6?oz:az:lz;let[f,d,p]=h(t,e,n,r,i,s,a,o,l,c);return p&&r!==7&&(f=((y,w,C,v,_,A,M,V)=>{const k=Ea(y);for(let S=v+1;S<=C;S++){if(S===7&&C!==7)continue;const T=tS(S,y);T[Ge[S]]+=k;const E=Zr(Kr(M(V(_,A,T)),w));if(E&&Math.sign(E)!==k)break;y=T}return y})(f,d,n,Math.max(6,r),a,o,l,c)),f}function Ap(t,e,n,r,i){if(e===6){const s=(a=>a[0]+a[1]/Je)(t);return[la(s,n,r),0]}return Ip(t,uf(e,n),r,i)}function Ip(t,e,n,r){let[i,s]=t;r&&s<0&&(s+=Je,i-=1);const[a,o]=Pi(la(s,e,n),Je);return oT(i+a,o)}function la(t,e,n){return Wx(t/e,n)*e}function Wx(t,e){return CY[e](t)}function az(t,e,n,r,i,s){const a=Ea(t),o=Xt(t),l=Ap(o,r,i,s),c=Kr(o,l),h=Math.sign(l[0]-o[0])===a,f=wu(l,Math.min(n,6));return[{...t,...f},Kl(e,c),h]}function oz(t,e,n,r,i,s,a,o,l,c){const h=Ea(t)||1,f=Zr(Xt(t,5)),d=uf(r,i);let p=la(f,d,s);const[y,w]=TT(a,{...t,...eS},6,h,o,l,c),C=p-Zr(Kr(y,w));let v=0;C&&Math.sign(C)!==h?e=mo(y,p):(v+=h,p=la(C,d,s),e=mo(w,p));const _=Np(p);return[{...t,..._,days:t.days+v},e,!!v]}function lz(t,e,n,r,i,s,a,o,l,c){const h=Ea(t),f=Ge[r],d=tS(r,t);r===7&&(t={...t,weeks:t.weeks+Math.trunc(t.days/7)});const p=gp(t[f],i)*i;d[f]=p;const[y,w]=TT(a,d,r,i*h,o,l,c),C=p+ST(e,y,w)*h*i,v=la(C,i,s),_=Math.sign(v-C)===h;return d[f]=v,[d,_?w:y,_]}function QI(t,e,n,r){const[i,s,a,o]=(c=>{const h=pT(c=ni(c));return[c.timeZone,...h]})(r),l=i!==void 0;return((c,h,f,d,p,y)=>{f=Ip(f,p,d,1);const w=h.R(f);return bT(_u(f,w),y)+(c?cf(fg(w)):"Z")})(l,e(l?t(i):No),n.epochNanoseconds,s,a,o)}function XI(t,e,n){const[r,i,s,a,o,l]=(c=>{c=ni(c);const h=aS(c),f=$x(c),d=IY(c),p=vf(c,4),y=yf(c,4);return[h,AY(c),d,p,...qx(y,f)]})(n);return((c,h,f,d,p,y,w,C,v,_)=>{d=Ip(d,v,C,1);const A=c(f).R(d);return bT(_u(d,A),_)+cf(fg(A),w)+((M,V)=>V!==1?"["+(V===2?"!":"")+M+"]":"")(f,y)+AT(h,p)})(t,e.calendar,e.timeZone,e.epochNanoseconds,r,i,s,a,o,l)}function JI(t,e){const[n,r,i,s]=(c=>(c=ni(c),[aS(c),...pT(c)]))(e);return a=t.calendar,o=n,l=s,bT(Qx(t,i,r),l)+AT(a,o);var a,o,l}function WI(t,e){return n=t.calendar,r=t,i=gT(e),dg(r)+AT(n,i);var n,r,i}function eC(t,e){return e4(t.calendar,t4,t,gT(e))}function tC(t,e){return e4(t.calendar,uz,t,gT(e))}function nC(t,e){const[n,r,i]=Yx(e);return s=i,n4(wT(t,r,n)[0],s);var s}function f0(t,e){const[n,r,i]=Yx(e,3);return r>1&&Co(t={...t,...sz(t,r,n)}),((s,a)=>{const{sign:o}=s,l=o===-1?In(s):s,{hours:c,minutes:h}=l,[f,d]=uT(Xt(l,3),qr,aa);a4(f);const p=IT(d,a),y=a>=0||!o||p;return(o<0?"-":"")+"P"+rC({Y:Va(l.years),M:Va(l.months),W:Va(l.weeks),D:Va(l.days)})+(c||h||f||y?"T"+rC({H:Va(c),M:Va(h),S:Va(f,y)+p}):"")})(t,i)}function e4(t,e,n,r){const i=r>1||r===0&&t!==Pe;return r===1?t===Pe?e(n):dg(n):i?dg(n)+r4(t,r===2):e(n)}function rC(t){const e=[];for(const n in t){const r=t[n];r&&e.push(r,n)}return e.join("")}function bT(t,e){return dg(t)+"T"+n4(t,e)}function dg(t){return t4(t)+"-"+_r(t.isoDay)}function t4(t){const{isoYear:e}=t;return(e<0||e>9999?i4(e)+ug(6,Math.abs(e)):ug(4,e))+"-"+_r(t.isoMonth)}function uz(t){return _r(t.isoMonth)+"-"+_r(t.isoDay)}function n4(t,e){const n=[_r(t.isoHour),_r(t.isoMinute)];return e!==-1&&n.push(_r(t.isoSecond)+((r,i,s,a)=>IT(r*si+i*gf+s,a))(t.isoMillisecond,t.isoMicrosecond,t.isoNanosecond,e)),n.join(":")}function cf(t,e=0){if(e===1)return"";const[n,r]=Pi(Math.abs(t),Up),[i,s]=Pi(r,Pp),[a,o]=Pi(s,qr);return i4(t)+_r(n)+":"+_r(i)+(a||o?":"+_r(a)+IT(o):"")}function AT(t,e){return e!==1&&(e>1||e===0&&t!==Pe)?r4(t,e===2):""}function r4(t,e){return"["+(e?"!":"")+"u-ca="+t+"]"}function IT(t,e){let n=ug(9,t);return n=e===void 0?n.replace(NY,""):n.slice(0,e),n?"."+n:""}function i4(t){return t<0?"-":"+"}function Va(t,e){return t||e?t.toLocaleString("fullwide",{useGrouping:0}):""}function cz(t,e){const{epochNanoseconds:n}=t,r=(e.R?e:e(t.timeZone)).R(n),i=_u(n,r);return{calendar:t.calendar,...i,offsetNanoseconds:r}}function Su(t,e,n,r=0,i=0,s,a){if(n!==void 0&&r===1&&(r===1||a))return hT(e,n);const o=t.I(e);if(n!==void 0&&r!==3){const l=((c,h,f,d)=>{const p=Zt(h);d&&(f=fg(f));for(const y of c){let w=Zr(Kr(y,p));if(d&&(w=fg(w)),w===f)return y}})(o,e,n,s);if(l!==void 0)return l;if(r===0)throw new RangeError(YF)}return a?Zt(e):hf(t,e,i,o)}function hf(t,e,n=0,r=t.I(e)){if(r.length===1)return r[0];if(n===1)throw new RangeError(qF);if(r.length)return r[n===3?1:0];const i=Zt(e),s=((o,l)=>{const c=o.R(mo(l,-Je));return(h=>{if(h>Je)throw new RangeError(FF);return h})(o.R(mo(l,Je))-c)})(t,i),a=s*(n===2?-1:1);return(r=t.I(_u(i,a)))[n===2?0:r.length-1]}function ua(t,e){const n=t.I(e);if(n.length)return n[0];const r=mo(Zt(e),-Je);return t.O(r,1)}function iC(t,e,n){return ri(ti(Kl(e.epochNanoseconds,(r=>{if(o4(r))throw new RangeError(KF);return Xt(r,5)})(t?In(n):n))))}function sC(t,e,n,r,i,s=Object.create(null)){const a=e(r.timeZone),o=t(r.calendar);return{...r,...CT(a,o,r,n?In(i):i,s)}}function aC(t,e,n,r,i=Object.create(null)){const{calendar:s}=n;return Ar(RT(t(s),n,e?In(r):r,i),s)}function oC(t,e,n,r,i){const{calendar:s}=n;return es(Cp(t(s),n,e?In(r):r,i),s)}function lC(t,e,n,r,i){const s=n.calendar,a=t(s);let o=vr(Ch(a,n));e&&(r=MT(r)),r.sign<0&&(o=a.P(o,{...Jt,months:1}),o=Io(o,-1));const l=a.P(o,r,i);return Ih(Ch(a,l),s)}function uC(t,e,n){return ii(s4(e,t?In(n):n)[0])}function CT(t,e,n,r,i){const s=Xt(r,5);let a=n.epochNanoseconds;if(o4(r)){const o=dr(n,t);a=Kl(hf(t,{...Cp(e,o,{...r,...eS},i),...wr(Ir,o)}),s)}else a=Kl(a,s),Be(i);return{epochNanoseconds:ti(a)}}function RT(t,e,n,r){const[i,s]=s4(e,n);return Yn({...Cp(t,e,{...n,...eS,days:n.days+s},r),...i})}function Cp(t,e,n,r){if(n.years||n.months||n.weeks)return t.P(e,n,r);Be(r);const i=n.days+Xt(n,5)[0];return i?vr(Io(e,i)):e}function Ch(t,e,n=1){return Io(e,n-t.day(e))}function s4(t,e){const[n,r]=Xt(e,5),[i,s]=yp(oa(t)+r);return[i,n+s]}function Io(t,e){return e?{...t,...vp(wn(t)+e*Bn)}:t}function Rp(t,e,n){const r=t(n.calendar);return Zl(n)?[n,r,e(n.timeZone)]:[{...n,...qn},r]}function DT(t){return t?Kx:Zt}function Dp(t){return t?ke(CT,t):RT}function NT(t){return t?ke(kz,t):Lz}function Zl(t){return t&&t.epochNanoseconds}function Rh(t,e){return t<=6-(Zl(e)?1:0)}function cC(t,e,n,r,i,s,a){const o=t(ni(a).relativeTo),l=Math.max(go(i),go(s));if(Rh(l,o))return qt(Co(((w,C,v,_)=>{const A=Kl(Xt(w),Xt(C),_?-1:1);if(!Number.isFinite(A[0]))throw new RangeError(Aa);return{...Jt,...wu(A,v)}})(i,s,l,r)));if(!o)throw new RangeError(Vp);r&&(s=In(s));const[c,h,f]=Rp(e,n,o),d=Dp(f),p=NT(f),y=d(h,c,i);return qt(p(h,c,d(h,y,s),l))}function hz(t,e,n,r,i){const s=go(r),[a,o,l,c,h]=((k,S,T)=>{k=Sp(k,pg);let E=l3(k);const R=T(k[a3]);let D=yT(k);const O=vf(k,7);let N=yf(k);if(E===void 0&&N===void 0)throw new RangeError(ZF);if(N==null&&(N=0),E==null&&(E=Math.max(N,S)),Gx(E,N),D=vT(D,N,1),D>1&&N>5&&E!==N)throw new RangeError("For calendar units with roundingIncrement > 1, use largestUnit = smallestUnit");return[E,N,D,O,R]})(i,s,t),f=Math.max(s,a);if(!h&&f<=6)return qt(Co(((k,S,T,E,R)=>{const D=Ap(Xt(k),T,E,R);return{...Jt,...wu(D,S)}})(r,a,o,l,c)));if(!Zl(h)&&!r.sign)return r;if(!h)throw new RangeError(Vp);const[d,p,y]=Rp(e,n,h),w=DT(y),C=Dp(y),v=NT(y),_=C(p,d,r);Zl(h)||(Yn(d),Yn(_));let A=v(p,d,_,a);const M=r.sign,V=Ea(A);if(M&&V&&M!==V)throw new RangeError(Iu);return A=bp(A,w(_),a,o,l,c,p,d,w,C),qt(A)}function fz(t){return t.sign===-1?MT(t):t}function MT(t){return qt(In(t))}function In(t){const e={};for(const n of Ge)e[n]=-1*t[n]||0;return e}function dz(t){return!t.sign}function Ea(t,e=Ge){let n=0;for(const r of e){const i=Math.sign(t[r]);if(i){if(n&&n!==i)throw new RangeError(GF);n=i}}return n}function Co(t){for(const e of aY)Qi(e,t[e],-TC,TC,1);return a4(Zr(Xt(t),qr)),t}function a4(t){if(!Number.isSafeInteger(t))throw new RangeError($F)}function Xt(t,e=6){return Nx(t,e,Ge)}function wu(t,e=6){const[n,r]=t,i=pp(r,e,Ge);if(i[Ge[e]]+=n*(Je/Qr[e]),!Number.isFinite(i[Ge[e]]))throw new RangeError(Aa);return i}function Np(t,e=5){return pp(t,e,Ge)}function o4(t){return!!Ea(t,r3)}function go(t){let e=9;for(;e>0&&!t[Ge[e]];e--);return e}function mz(t,e){return[t,e]}function hC(t){const e=Math.floor(t/Xd)*Xd;return[e,e+Xd]}function gz(t){const e=Ta(t=Zd(t));if(!e)throw new RangeError(Vn(t));let n;if(e.j)n=0;else{if(!e.offset)throw new RangeError(Vn(t));n=Ro(e.offset)}return e.timeZone&&VT(e.timeZone,1),ri(hT(_p(e),n))}function pz(t){const e=Ta(ln(t));if(!e)throw new RangeError(Vn(t));if(e.timeZone)return l4(e,e.offset?Ro(e.offset):void 0);if(e.j)throw new RangeError(Vn(t));return c4(e)}function yz(t,e){const n=Ta(ln(t));if(!n||!n.timeZone)throw new RangeError(Vn(t));const{offset:r}=n,i=r?Ro(r):void 0,[,s,a]=Ep(e);return l4(n,i,s,a)}function Ro(t){const e=VT(t);if(e===void 0)throw new RangeError(Vn(t));return e}function vz(t){const e=Ta(ln(t));if(!e||e.j)throw new RangeError(Vn(t));return Ar(u4(e))}function OT(t,e,n){let r=Ta(ln(t));if(!r||r.j)throw new RangeError(Vn(t));return e?r.calendar===Pe&&(r=r.isoYear===-271821&&r.isoMonth===4?{...r,isoDay:20,...qn}:{...r,isoDay:1,...qn}):n&&r.calendar===Pe&&(r={...r,isoYear:Hi}),es(r.C?u4(r):c4(r))}function _z(t,e){const n=kT(ln(e));if(n)return xT(n),Ih(cT(Ao(n)));const r=OT(e,1);return Ih(Ch(t(r.calendar),r))}function xT(t){if(t.calendar!==Pe)throw new RangeError(Ui(t.calendar))}function Ez(t,e){const n=LT(ln(e));if(n)return xT(n),hg(Ao(n));const r=OT(e,0,1),{calendar:i}=r,s=t(i),[a,o,l]=s.v(r),[c,h]=s.q(a,o),[f,d]=s.G(c,h,l);return hg(vr(s.V(f,d,l)),i)}function Tz(t){let e,n=(r=>{const i=PY.exec(r);return i?(Mp(i[10]),d4(i)):void 0})(ln(t));if(!n){if(n=Ta(t),!n)throw new RangeError(Vn(t));if(!n.C)throw new RangeError(Vn(t));if(n.j)throw new RangeError(Ui("Z"));xT(n)}if((e=kT(t))&&KI(e))throw new RangeError(Vn(t));if((e=LT(t))&&KI(e))throw new RangeError(Vn(t));return ii(Eu(n,1))}function Sz(t){const e=(n=>{const r=jY.exec(n);return r?(i=>{function s(h,f,d){let p=0,y=0;if(d&&([p,l]=Pi(l,Qr[d])),h!==void 0){if(o)throw new RangeError(Ui(h));y=(w=>{const C=parseInt(w);if(!Number.isFinite(C))throw new RangeError(Ui(w));return C})(h),a=1,f&&(l=PT(f)*(Qr[d]/qr),o=1)}return p+y}let a=0,o=0,l=0,c={...yu(Ge,[s(i[2]),s(i[3]),s(i[4]),s(i[5]),s(i[6],i[7],5),s(i[8],i[9],4),s(i[10],i[11],3)]),...pp(l,2,Ge)};if(!a)throw new RangeError(j4(Ge));return UT(i[1])<0&&(c=In(c)),c})(r):void 0})(ln(t));if(!e)throw new RangeError(Vn(t));return qt(Co(e))}function wz(t){const e=Ta(t)||kT(t)||LT(t);return e?e.calendar:t}function bz(t){const e=Ta(t);return e&&(e.timeZone||e.j&&No||e.offset)||t}function l4(t,e,n=0,r=0){const i=HT(t.timeZone),s=_e(i);let a;return _p(t),a=t.C?Su(s,t,e,n,r,!s.$,t.j):ua(s,t),br(a,i,Lp(t.calendar))}function u4(t){return h4(Yn(_p(t)))}function c4(t){return h4(vr(Ao(t)))}function h4(t){return{...t,calendar:Lp(t.calendar)}}function Ta(t){const e=VY.exec(t);return e?(n=>{const r=n[10],i=(r||"").toUpperCase()==="Z";return{isoYear:f4(n),isoMonth:parseInt(n[4]),isoDay:parseInt(n[5]),...d4(n.slice(5)),...Mp(n[16]),C:!!n[6],j:i,offset:i?void 0:r}})(e):void 0}function kT(t){const e=kY.exec(t);return e?(n=>({isoYear:f4(n),isoMonth:parseInt(n[4]),isoDay:1,...Mp(n[5])}))(e):void 0}function LT(t){const e=LY.exec(t);return e?(n=>({isoYear:Hi,isoMonth:parseInt(n[1]),isoDay:parseInt(n[2]),...Mp(n[3])}))(e):void 0}function VT(t,e){const n=UY.exec(t);return n?((r,i)=>{const s=r[4]||r[5];if(i&&s)throw new RangeError(Ui(s));return(a=>{if(Math.abs(a)>=Je)throw new RangeError(zF);return a})((Il(r[2])*Up+Il(r[3])*Pp+Il(r[4])*qr+PT(r[5]||""))*UT(r[1]))})(n,e):void 0}function f4(t){const e=UT(t[1]),n=parseInt(t[2]||t[3]);if(e<0&&!n)throw new RangeError(Ui(-0));return e*n}function d4(t){const e=Il(t[3]);return{...yp(PT(t[4]||""))[0],isoHour:Il(t[1]),isoMinute:Il(t[2]),isoSecond:e===60?59:e}}function Mp(t){let e,n;const r=[];if(t.replace(HY,(i,s,a)=>{const o=!!s,[l,c]=a.split("=").reverse();if(c){if(c==="u-ca")r.push(l),e||(e=o);else if(o||/[A-Z]/.test(c))throw new RangeError(Ui(i))}else{if(n)throw new RangeError(Ui(i));n=l}return""}),r.length>1&&e)throw new RangeError(Ui(t));return{timeZone:n,calendar:r[0]||Pe}}function PT(t){return parseInt(t.padEnd(9,"0"))}function bu(t){return new RegExp(`^${t}$`,"i")}function UT(t){return t&&t!=="+"?-1:1}function Il(t){return t===void 0?0:parseInt(t)}function Az(t){return HT(ln(t))}function HT(t){const e=jT(t);return typeof e=="number"?cf(e):e?(n=>{if(FY.test(n))throw new RangeError(q4(n));if(zY.test(n))throw new RangeError(BF);return n.toLowerCase().split("/").map((r,i)=>(r.length<=3||/\d/.test(r))&&!/etc|yap/.test(r)?r.toUpperCase():r.replace(/baja|dumont|[a-z]+/g,(s,a)=>s.length<=2&&!i||s==="in"||s==="chat"?s.toUpperCase():s.length>2||!a?qI(s).replace(/island|noronha|murdo|rivadavia|urville/,qI):s)).join("/")})(t):No}function fC(t){const e=jT(t);return typeof e=="number"?e:e?e.resolvedOptions().timeZone:No}function jT(t){const e=VT(t=t.toUpperCase(),1);return e!==void 0?e:t!==No?BY(t):void 0}function m4(t,e){return hr(t.epochNanoseconds,e.epochNanoseconds)}function g4(t,e){return hr(t.epochNanoseconds,e.epochNanoseconds)}function Iz(t,e,n,r,i,s){const a=t(ni(s).relativeTo),o=Math.max(go(r),go(i));if(Rx(Ge,r,i))return 0;if(Rh(o,a))return hr(Xt(r),Xt(i));if(!a)throw new RangeError(Vp);const[l,c,h]=Rp(e,n,a),f=DT(h),d=Dp(h);return hr(f(d(c,l,r)),f(d(c,l,i)))}function p4(t,e){return Au(t,e)||BT(t,e)}function Au(t,e){return Gs(wn(t),wn(e))}function BT(t,e){return Gs(oa(t),oa(e))}function Cz(t,e){return!m4(t,e)}function Rz(t,e){return!g4(t,e)&&!!y4(t.timeZone,e.timeZone)&&t.calendar===e.calendar}function Dz(t,e){return!p4(t,e)&&t.calendar===e.calendar}function Nz(t,e){return!Au(t,e)&&t.calendar===e.calendar}function Mz(t,e){return!Au(t,e)&&t.calendar===e.calendar}function Oz(t,e){return!Au(t,e)&&t.calendar===e.calendar}function xz(t,e){return!BT(t,e)}function y4(t,e){if(t===e)return 1;try{return fC(t)===fC(e)}catch{}}function dC(t,e,n,r){const i=Tu(t,r,3,5),s=Op(e.epochNanoseconds,n.epochNanoseconds,...i);return qt(t?In(s):s)}function mC(t,e,n,r,i,s){const a=kp(r.calendar,i.calendar),[o,l,c,h]=Tu(n,s,5),f=r.epochNanoseconds,d=i.epochNanoseconds,p=hr(d,f);let y;if(p)if(o<6)y=Op(f,d,o,l,c,h);else{const w=e(((v,_)=>{if(!y4(v,_))throw new RangeError($4);return v})(r.timeZone,i.timeZone)),C=t(a);y=_4(C,w,r,i,p,o,s),y=bp(y,d,o,l,c,h,C,r,Kx,ke(CT,w))}else y=Jt;return qt(n?In(y):y)}function gC(t,e,n,r,i){const s=kp(n.calendar,r.calendar),[a,o,l,c]=Tu(e,i,6),h=Zt(n),f=Zt(r),d=hr(f,h);let p;if(d)if(a<=6)p=Op(h,f,a,o,l,c);else{const y=t(s);p=E4(y,n,r,d,a,i),p=bp(p,f,a,o,l,c,y,n,Zt,RT)}else p=Jt;return qt(e?In(p):p)}function pC(t,e,n,r,i){const s=kp(n.calendar,r.calendar);return v4(e,()=>t(s),n,r,...Tu(e,i,6,9,6))}function yC(t,e,n,r,i){const s=kp(n.calendar,r.calendar),a=Tu(e,i,9,9,8),o=t(s),l=Ch(o,n),c=Ch(o,r);return l.isoYear===c.isoYear&&l.isoMonth===c.isoMonth&&l.isoDay===c.isoDay?qt(Jt):v4(e,()=>o,vr(l),vr(c),...a,8)}function v4(t,e,n,r,i,s,a,o,l=6){const c=Zt(n),h=Zt(r);if(c===void 0||h===void 0)throw new RangeError(Aa);let f;if(hr(h,c))if(i===6)f=Op(c,h,i,s,a,o);else{const d=e();f=d.N(n,r,i),s===l&&a===1||(f=bp(f,h,i,s,a,o,d,n,Zt,Cp))}else f=Jt;return qt(t?In(f):f)}function vC(t,e,n,r){const[i,s,a,o]=Tu(t,r,5,5),l=la(zT(e,n),uf(s,a),o),c={...Jt,...Np(l,i)};return qt(t?In(c):c)}function kz(t,e,n,r,i,s){const a=hr(r.epochNanoseconds,n.epochNanoseconds);return a?i<6?T4(n.epochNanoseconds,r.epochNanoseconds,i):_4(e,t,n,r,a,i,s):Jt}function Lz(t,e,n,r,i){const s=Zt(e),a=Zt(n),o=hr(a,s);return o?r<=6?T4(s,a,r):E4(t,e,n,o,r,i):Jt}function _4(t,e,n,r,i,s,a){const[o,l,c]=((d,p,y,w)=>{function C(){return S={...Io(A,V++*-w),..._},T=hf(d,S),hr(M,T)===-w}const v=dr(p,d),_=wr(Ir,v),A=dr(y,d),M=y.epochNanoseconds;let V=0;const k=zT(v,A);let S,T;if(Math.sign(k)===-w&&V++,C()&&(w===-1||C()))throw new RangeError(Iu);const E=Zr(Kr(T,M));return[v,S,E]})(e,n,r,i);var h,f;return{...s===6?(h=o,f=l,{...Jt,days:S4(h,f)}):t.N(o,l,s,a),...Np(c)}}function E4(t,e,n,r,i,s){const[a,o,l]=((c,h,f)=>{let d=h,p=zT(c,h);return Math.sign(p)===-f&&(d=Io(h,-f),p+=Je*f),[c,d,p]})(e,n,r);return{...t.N(a,o,i,s),...Np(l)}}function Op(t,e,n,r,i,s){return{...Jt,...wu(Ap(Kr(t,e),r,i,s),n)}}function T4(t,e,n){return{...Jt,...wu(Kr(t,e),n)}}function S4(t,e){return xp(wn(t),wn(e))}function xp(t,e){return Math.trunc((e-t)/Bn)}function zT(t,e){return oa(e)-oa(t)}function kp(t,e){if(t!==e)throw new RangeError(Y4);return t}function w4(t){return this.m(t)[0]}function b4(t){return this.m(t)[1]}function FT(t){const[e]=this.v(t);return xp(this.p(e),wn(t))+1}function YT(t){const e=YY.exec(t);if(!e)throw new RangeError(HF(t));return[parseInt(e[1]),!!e[2]]}function ff(t,e){return"M"+_r(t)+(e?"L":"")}function mg(t,e,n){return t+(e||n&&t>=n?1:0)}function qT(t,e){return t-(e&&t>=e?1:0)}function A4(t,e){return(e+t)*(Math.sign(e)||1)||0}function T_(t){return t3[C4(t)]}function I4(t){return nY[C4(t)]}function C4(t){return po(t.id||Pe)}function Vz(t){function e(i){return((s,a)=>({...R4(s,a),o:s.month,day:parseInt(s.day)}))(fT(n,i),r)}const n=gS(t),r=po(t);return{id:t,h:Pz(e),l:Uz(e)}}function Pz(t){return cr(e=>{const n=wn(e);return t(n)},WeakMap)}function Uz(t){const e=t(0).year-fY;return cr(n=>{let r,i=vu(n-e),s=0;const a=[],o=[];do i+=400*Bn;while((r=t(i)).year<=n);do if(i+=(1-r.day)*Bn,r.year===n&&(a.push(i),o.push(r.o)),i-=Bn,++s>100||i<-sS)throw new RangeError(Iu);while((r=t(i)).year>=n);return{i:a.reverse(),u:G4(o.reverse())}})}function R4(t,e){let n,r,i=D4(t);if(t.era){const s=t3[e],a=n3[e]||{};s!==void 0&&(n=e==="islamic"?"ah":t.era.normalize("NFD").toLowerCase().replace(/[^a-z0-9]/g,""),n==="bc"||n==="b"?n="bce":n==="ad"||n==="a"?n="ce":n==="beforeroc"&&(n="broc"),n=a[n]||n,r=i,i=A4(r,s[n]||0))}return{era:n,eraYear:r,year:i}}function D4(t){return parseInt(t.relatedYear||t.year)}function gg(t){const{year:e,o:n,day:r}=this.h(t),{u:i}=this.l(e);return[e,i[n]+1,r]}function Dh(t,e=1,n=1){return this.l(t).i[e-1]+(n-1)*Bn}function N4(t,e){const n=Qd.call(this,t);return[qT(e,n),n===e]}function Qd(t){const e=EC(this,t),n=EC(this,t-1),r=e.length;if(r>n.length){const i=I4(this);if(i<0)return-i;for(let s=0;s<r;s++)if(e[s]!==n[s])return s+1}}function ad(t){return xp(Dh.call(this,t),Dh.call(this,t+1))}function _C(t,e){const{i:n}=this.l(t);let r=e+1,i=n;return r>n.length&&(r=1,i=this.l(t+1).i),xp(n[e-1],i[r-1])}function od(t){return this.l(t).i.length}function M4(t){const e=this.h(t);return[e.era,e.eraYear]}function EC(t,e){return Object.keys(t.l(e).u)}function df(t){return Lp(ln(t))}function Lp(t){if((t=t.toLowerCase())!==Pe&&t!==Cu){const e=gS(t).resolvedOptions().calendar;if(po(t)!==po(e))throw new RangeError(F4(t));return e}return t}function po(t){return t==="islamicc"&&(t="islamic"),t.split("-")[0]}function O4(t,e){return n=>n===Pe?t:n===Cu||n===ca?Object.assign(Object.create(t),{id:n}):Object.assign(Object.create(e),qY(n))}function Hz(t,e,n,r){const i=Sa(n,r,ns,[],X4);if(i.timeZone!==void 0){const s=n.F(i),a=mf(i),o=t(i.timeZone);return{epochNanoseconds:Su(e(o),{...s,...a},i.offset!==void 0?Ro(i.offset):void 0),timeZone:o}}return{...n.F(i),...qn}}function jz(t,e,n,r,i,s){const a=Sa(n,i,ns,Z4,X4),o=t(a.timeZone),[l,c,h]=Ep(s),f=n.F(a,wp(l)),d=mf(a,l);return br(Su(e(o),{...f,...d},a.offset!==void 0?Ro(a.offset):void 0,c,h),o,r)}function Bz(t,e,n){const r=Sa(t,e,ns,[],ts),i=Be(n);return Ar(Yn({...t.F(r,wp(i)),...mf(r,i)}))}function zz(t,e,n,r=[]){const i=Sa(t,e,ns,r);return t.F(i,n)}function Fz(t,e,n,r){const i=Sa(t,e,JT,r);return t.K(i,n)}function Yz(t,e,n,r){const i=Sa(t,n,ns,pf);return e&&i.month!==void 0&&i.monthCode===void 0&&i.year===void 0&&(i.year=Hi),t._(i,r)}function qz(t,e){return ii(mf(fr(t,A_,[],1),Be(e)))}function $z(t){const e=fr(t,WT);return qt(Co({...Jt,...e}))}function Sa(t,e,n,r=[],i=[]){return fr(e,[...t.fields(n),...i].sort(),r)}function fr(t,e,n,r=!n){const i={};let s,a=0;for(const o of e){if(o===s)throw new RangeError(MF(o));if(o==="constructor"||o==="__proto__")throw new RangeError(NF(o));let l=t[o];if(l!==void 0)a=1,SC[o]&&(l=SC[o](l,o)),i[o]=l;else if(n){if(n.includes(o))throw new TypeError(GT(o));i[o]=e3[o]}s=o}if(r&&!a)throw new TypeError(j4(e));return i}function mf(t,e){return Eu(pS({...e3,...t}),e)}function Gz(t,e,n,r,i){const{calendar:s,timeZone:a}=n,o=t(s),l=e(a),c=[...o.fields(ns),...Q4].sort(),h=(v=>{const _=dr(v,_e),A=cf(_.offsetNanoseconds),M=Bp(v.calendar),[V,k,S]=M.v(_),[T,E]=M.q(V,k),R=ff(T,E);return{...WY(_),year:V,monthCode:R,day:S,offset:A}})(n),f=fr(r,c),d=o.k(h,f),p={...h,...f},[y,w,C]=Ep(i,2);return br(Su(l,{...o.F(d,wp(y)),...Eu(pS(p),y)},Ro(p.offset),w,C),a,s)}function Kz(t,e,n,r){const i=t(e.calendar),s=[...i.fields(ns),...ts].sort(),a={...k4(o=e),hour:o.isoHour,minute:o.isoMinute,second:o.isoSecond,millisecond:o.isoMillisecond,microsecond:o.isoMicrosecond,nanosecond:o.isoNanosecond};var o;const l=fr(n,s),c=Be(r),h=i.k(a,l),f={...a,...l};return Ar(Yn({...i.F(h,wp(c)),...Eu(pS(f),c)}))}function Zz(t,e,n,r){const i=t(e.calendar),s=i.fields(ns).sort(),a=k4(e),o=fr(n,s),l=i.k(a,o);return i.F(l,r)}function Qz(t,e,n,r){const i=t(e.calendar),s=i.fields(JT).sort(),a=(c=>{const h=Bp(c.calendar),[f,d]=h.v(c),[p,y]=h.q(f,d);return{year:f,monthCode:ff(p,y)}})(e),o=fr(n,s),l=i.k(a,o);return i.K(l,r)}function Xz(t,e,n,r){const i=t(e.calendar),s=i.fields(ns).sort(),a=(c=>{const h=Bp(c.calendar),[f,d,p]=h.v(c),[y,w]=h.q(f,d);return{monthCode:ff(y,w),day:p}})(e),o=fr(n,s),l=i.k(a,o);return i._(l,r)}function Jz(t,e,n){return ii(((r,i,s)=>mf({...wr(A_,r),...fr(i,A_)},Be(s)))(t,e,n))}function Wz(t,e){return qt((n=t,r=e,Co({...n,...fr(r,WT)})));var n,r}function x4(t,e,n,r,i){e=wr(n=t.fields(n),e),r=fr(r,i=t.fields(i),[]);let s=t.k(e,r);return s=fr(s,[...n,...i].sort(),[]),t.F(s)}function d0(t,e){const n=T_(t),r=n3[t.id||""]||{};let{era:i,eraYear:s,year:a}=e;if(i!==void 0||s!==void 0){if(i===void 0||s===void 0)throw new TypeError(LF);if(!n)throw new RangeError(kF);const o=n[r[i]||i];if(o===void 0)throw new RangeError(PF(i));const l=A4(s,o);if(a!==void 0&&a!==l)throw new RangeError(VF);a=l}else if(a===void 0)throw new TypeError(UF(n));return a}function ld(t,e,n,r){let{month:i,monthCode:s}=e;if(s!==void 0){const a=((o,l,c,h)=>{const f=o.L(c),[d,p]=YT(l);let y=mg(d,p,f);if(p){const w=I4(o);if(w===void 0)throw new RangeError(sc);if(w>0){if(y>w)throw new RangeError(sc);if(f===void 0){if(h===1)throw new RangeError(sc);y--}}else{if(y!==-w)throw new RangeError(sc);if(f===void 0&&h===1)throw new RangeError(sc)}}return y})(t,s,n,r);if(i!==void 0&&i!==a)throw new RangeError(jF);i=a,r=1}else if(i===void 0)throw new TypeError(z4);return Qi("month",i,1,t.B(n),r)}function m0(t,e,n,r,i){return Mn(e,"day",1,t.U(r,n),i)}function g0(t,e,n,r){let i=0;const s=[];for(const a of n)e[a]!==void 0?i=1:s.push(a);if(Object.assign(t,e),i)for(const a of r||s)delete t[a]}function k4(t){const e=Bp(t.calendar),[n,r,i]=e.v(t),[s,a]=e.q(n,r);return{year:n,monthCode:ff(s,a),day:i}}function eF(t){return ri(ti(lT(sT(t))))}function tF(t,e,n,r,i=Pe){return br(ti(lT(sT(n))),e(r),t(i))}function nF(t,e,n,r,i=0,s=0,a=0,o=0,l=0,c=0,h=Pe){return Ar(Yn(_p(Xi(En,yu(Hp,[e,n,r,i,s,a,o,l,c])))),t(h))}function rF(t,e,n,r,i=Pe){return es(vr(Ao(Xi(En,{isoYear:e,isoMonth:n,isoDay:r}))),t(i))}function iF(t,e,n,r=Pe,i=1){const s=En(e),a=En(n),o=t(r);return Ih(cT(Ao({isoYear:s,isoMonth:a,isoDay:En(i)})),o)}function sF(t,e,n,r=Pe,i=Hi){const s=En(e),a=En(n),o=t(r);return hg(vr(Ao({isoYear:En(i),isoMonth:s,isoDay:a})),o)}function aF(t=0,e=0,n=0,r=0,i=0,s=0){return ii(Eu(Xi(En,yu(Ir,[t,e,n,r,i,s])),1))}function oF(t=0,e=0,n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0){return qt(Co(Xi(aT,yu(Ge,[t,e,n,r,i,s,a,o,l,c]))))}function lF(t,e,n=Pe){return br(t.epochNanoseconds,e,n)}function uF(t){return ri(t.epochNanoseconds)}function L4(t,e){return Ar(dr(e,t))}function V4(t,e){return es(dr(e,t))}function P4(t,e){return ii(dr(e,t))}function cF(t,e,n,r){const i=((s,a,o,l)=>{const c=(h=>c3(ni(h)))(l);return hf(s(a),o,c)})(t,n,e,r);return br(ti(i),n,e.calendar)}function hF(t,e,n,r,i){const s=t(i.timeZone),a=i.plainTime,o=a!==void 0?e(a):void 0,l=n(s);let c;return c=o?hf(l,{...r,...o}):ua(l,{...r,...qn}),br(c,s,r.calendar)}function fF(t,e=qn){return Ar(Yn({...t,...e}))}function dF(t,e,n){return((r,i)=>{const s=Sa(r,i,J4);return r.K(s,void 0)})(t(e.calendar),n)}function mF(t,e,n){return((r,i)=>{const s=Sa(r,i,W4);return r._(s)})(t(e.calendar),n)}function gF(t,e,n,r){return((i,s,a)=>x4(i,s,J4,lf(a),pf))(t(e.calendar),n,r)}function pF(t,e,n,r){return((i,s,a)=>x4(i,s,W4,lf(a),ZT))(t(e.calendar),n,r)}function yF(t){return ri(ti(Ah(aT(t),si)))}function vF(t){return ri(ti(lT(sT(t))))}function Do(t,e,n){const r=new Set(n);return(i,s)=>{const a=n&&YI(i,n);if(!YI(i=((o,l)=>{const c={};for(const h in l)o.has(h)||(c[h]=l[h]);return c})(r,i),t)){if(s&&a)throw new TypeError("Invalid formatting options");i={...e,...i}}return n&&(i.timeZone=No,["full","long"].includes(i.J)&&(i.J="medium")),i}}function wa(t,e=U4,n=0){const[r,,,i]=t;return(s,a=vq,...o)=>{const l=e(i&&i(...o),s,a,r,n),c=l.resolvedOptions();return[l,..._F(t,c,o)]}}function U4(t,e,n,r,i){if(n=r(n,i),t){if(n.timeZone!==void 0)throw new TypeError(JF);n.timeZone=t}return new Ks(e,n)}function _F(t,e,n){const[,r,i]=t;return n.map(s=>(s.calendar&&((a,o,l)=>{if((l||a!==Pe)&&a!==o)throw new RangeError(Y4)})(s.calendar,e.calendar,i),r(s,e)))}function EF(t,e,n){const r=e.timeZone,i=t(r),s={...dr(e,i),...n||qn};let a;return a=n?Su(i,s,s.offsetNanoseconds,2):ua(i,s),br(a,r,e.calendar)}function TF(t,e=qn){return Ar(Yn({...t,...e}))}function $T(t,e){return{...t,calendar:e}}function SF(t,e){return{...t,timeZone:e}}function p0(t){const e=S_();return _u(e,t.R(e))}function S_(){return Ah(Date.now(),si)}function ic(){return wC||(wC=new Ks().resolvedOptions().timeZone)}const wF=(t,e)=>`Non-integer ${t}: ${e}`,bF=(t,e)=>`Non-positive ${t}: ${e}`,AF=(t,e)=>`Non-finite ${t}: ${e}`,IF=t=>`Cannot convert bigint to ${t}`,CF=t=>`Invalid bigint: ${t}`,RF="Cannot convert Symbol to string",DF="Invalid object",H4=(t,e,n,r,i)=>i?H4(t,i[e],i[n],i[r]):ba(t,e)+`; must be between ${n}-${r}`,ba=(t,e)=>`Invalid ${t}: ${e}`,GT=t=>`Missing ${t}`,NF=t=>`Invalid field ${t}`,MF=t=>`Duplicate field ${t}`,j4=t=>"No valid fields: "+t.join(),OF="Invalid bag",B4=(t,e,n)=>ba(t,e)+"; must be "+Object.keys(n).join(),xF="Cannot use valueOf",w_="Invalid calling context",kF="Forbidden era/eraYear",LF="Mismatching era/eraYear",VF="Mismatching year/eraYear",PF=t=>`Invalid era: ${t}`,UF=t=>"Missing year"+(t?"/era/eraYear":""),HF=t=>`Invalid monthCode: ${t}`,jF="Mismatching month/monthCode",z4="Missing month/monthCode",sc="Invalid leap month",Iu="Invalid protocol results",F4=t=>ba("Calendar",t),Y4="Mismatching Calendars",q4=t=>ba("TimeZone",t),$4="Mismatching TimeZones",BF="Forbidden ICU TimeZone",zF="Out-of-bounds offset",FF="Out-of-bounds TimeZone gap",YF="Invalid TimeZone offset",qF="Ambiguous offset",Aa="Out-of-bounds date",$F="Out-of-bounds duration",GF="Cannot mix duration signs",Vp="Missing relativeTo",KF="Cannot use large units",ZF="Required smallestUnit or largestUnit",QF="smallestUnit > largestUnit",Vn=t=>`Cannot parse: ${t}`,Ui=t=>`Invalid substring: ${t}`,XF=t=>`Cannot format ${t}`,y0="Mismatching types for formatting",JF="Cannot specify TimeZone",G4=ke(mp,(t,e)=>e),Ql=ke(mp,(t,e,n)=>n),_r=ke(ug,2),b_={nanosecond:0,microsecond:1,millisecond:2,second:3,minute:4,hour:5,day:6,week:7,month:8,year:9},KT=Object.keys(b_),Bn=864e5,K4=1e3,gf=1e3,si=1e6,qr=1e9,Pp=6e10,Up=36e11,Je=864e11,Qr=[1,gf,si,qr,Pp,Up,Je],ts=KT.slice(0,6),A_=of(ts),WF=["offset"],Z4=["timeZone"],Q4=ts.concat(WF),X4=Q4.concat(Z4),I_=["era","eraYear"],eY=I_.concat(["year"]),ZT=["year"],QT=["monthCode"],XT=["month"].concat(QT),pf=["day"],JT=XT.concat(ZT),J4=QT.concat(ZT),ns=pf.concat(JT),tY=pf.concat(XT),W4=pf.concat(QT),e3=Ql(ts,0),Pe="iso8601",Cu="gregory",ca="japanese",t3={[Cu]:{"gregory-inverse":-1,gregory:0},[ca]:{"japanese-inverse":-1,japanese:0,meiji:1867,taisho:1911,showa:1925,heisei:1988,reiwa:2018},ethiopic:{ethioaa:0,ethiopic:5500},coptic:{"coptic-inverse":-1,coptic:0},roc:{"roc-inverse":-1,roc:0},buddhist:{be:0},islamic:{ah:0},indian:{saka:0},persian:{ap:0}},n3={[Cu]:{bce:"gregory-inverse",ce:"gregory"},[ca]:{bce:"japanese-inverse",ce:"japanese"},ethiopic:{era0:"ethioaa",era1:"ethiopic"},coptic:{era0:"coptic-inverse",era1:"coptic"},roc:{broc:"roc-inverse",minguo:"roc"}},nY={chinese:13,dangi:13,hebrew:-6},ln=ke(nT,"string"),rY=ke(nT,"boolean"),iY=ke(nT,"number"),Ge=KT.map(t=>t+"s"),WT=of(Ge),sY=Ge.slice(0,6),r3=Ge.slice(6),aY=r3.slice(1),oY=G4(Ge),Jt=Ql(Ge,0),eS=Ql(sY,0),tS=ke(Dx,Ge),Ir=["isoNanosecond","isoMicrosecond","isoMillisecond","isoSecond","isoMinute","isoHour"],nS=["isoDay","isoMonth","isoYear"],Hp=Ir.concat(nS),rS=of(nS),i3=of(Ir),lY=of(Hp),qn=Ql(i3,0),uY=ke(Dx,Hp),iS=1e8,sS=iS*Bn,cY=[iS,0],hY=[-iS,0],Nh=275760,Mh=-271821,Ks=Intl.DateTimeFormat,s3="en-GB",fY=1970,Hi=1972,ps=12,dY=vu(1868,9,8),mY=cr(ZB,WeakMap),pg="smallestUnit",C_="unit",Zc="roundingIncrement",v0="fractionalSecondDigits",a3="relativeTo",_0="direction",o3={constrain:0,reject:1},gY=Object.keys(o3),pY={compatible:0,reject:1,earlier:2,later:3},yY={reject:0,use:1,prefer:2,ignore:3},vY={auto:0,never:1,critical:2,always:3},_Y={auto:0,never:1,critical:2},EY={auto:0,never:1},TY={floor:0,halfFloor:1,ceil:2,halfCeil:3,trunc:4,halfTrunc:5,expand:6,halfExpand:7,halfEven:8},SY={previous:-1,next:1},yf=ke(_T,pg),l3=ke(_T,"largestUnit"),wY=ke(_T,C_),u3=ke(_a,"overflow",o3),c3=ke(_a,"disambiguation",pY),bY=ke(_a,"offset",yY),aS=ke(_a,"calendarName",vY),AY=ke(_a,"timeZoneName",_Y),IY=ke(_a,"offset",EY),vf=ke(_a,"roundingMode",TY),oS="PlainYearMonth",lS="PlainMonthDay",_f="PlainDate",Ru="PlainDateTime",uS="PlainTime",Ia="ZonedDateTime",cS="Instant",hS="Duration",CY=[Math.floor,t=>sd(t)?Math.floor(t):Math.round(t),Math.ceil,t=>sd(t)?Math.ceil(t):Math.round(t),Math.trunc,t=>sd(t)?Math.trunc(t)||0:Math.round(t),t=>t<0?Math.floor(t):Math.ceil(t),t=>Math.sign(t)*Math.round(Math.abs(t))||0,t=>sd(t)?(t=Math.trunc(t)||0)+t%2:Math.round(t)],No="UTC",Xd=5184e3,RY=cg(1847),DY=cg(new Date().getUTCFullYear()+10),NY=/0+$/,dr=cr(cz,WeakMap),TC=2**32-1,_e=cr(t=>{const e=jT(t);return typeof e=="object"?new OY(e):new MY(e||0)});class MY{constructor(e){this.$=e}R(){return this.$}I(e){return(n=>{const r=Zt({...n,...qn});if(!r||Math.abs(r[0])>1e8)throw new RangeError(Aa)})(e),[hT(e,this.$)]}O(){}}class OY{constructor(e){this.nn=(n=>{function r(c){const h=bh(c,o,l),[f,d]=hC(h),p=s(f),y=s(d);return p===y?p:i(a(f,d),p,y,c)}function i(c,h,f,d){let p,y;for(;(d===void 0||(p=d<c[0]?h:d>=c[1]?f:void 0)===void 0)&&(y=c[1]-c[0]);){const w=c[0]+Math.floor(y/2);n(w)===f?c[1]=w:c[0]=w+1}return p}const s=cr(n),a=cr(mz);let o=RY,l=DY;return{tn(c){const h=r(c-86400),f=r(c+86400),d=c-h,p=c-f;if(h===f)return[d];const y=r(d);return y===r(p)?[c-y]:h>f?[d,p]:[]},rn:r,O(c,h){const f=bh(c,o,l);let[d,p]=hC(f);const y=Xd*h,w=h<0?()=>p>o||(o=f,0):()=>d<l||(l=f,0);for(;w();){const C=s(d),v=s(p);if(C!==v){const _=a(d,p);i(_,C,v);const A=_[0];if((Gs(A,c)||1)===h)return A}d+=y,p+=y}}}})((n=>r=>{const i=fT(n,r*K4);return cg(D4(i),parseInt(i.month),parseInt(i.day),parseInt(i.hour),parseInt(i.minute),parseInt(i.second))-r})(e))}R(e){return this.nn.rn((n=>GI(n)[0])(e))*qr}I(e){const[n,r]=[cg((i=e).isoYear,i.isoMonth,i.isoDay,i.isoHour,i.isoMinute,i.isoSecond),i.isoMillisecond*si+i.isoMicrosecond*gf+i.isoNanosecond];var i;return this.nn.tn(n).map(s=>ti(mo(Ah(s,qr),r)))}O(e,n){const[r,i]=GI(e),s=this.nn.O(r+(n>0||i?1:0),n);if(s!==void 0)return Ah(s,qr)}}const fS="([+-])",Jd="(?:[.,](\\d{1,9}))?",h3=`(?:(?:${fS}(\\d{6}))|(\\d{4}))-?(\\d{2})`,dS="(\\d{2})(?::?(\\d{2})(?::?(\\d{2})"+Jd+")?)?",mS=fS+dS,xY=h3+"-?(\\d{2})(?:[T ]"+dS+"(Z|"+mS+")?)?",f3="\\[(!?)([^\\]]*)\\]",jp=`((?:${f3}){0,9})`,kY=bu(h3+jp),LY=bu("(?:--)?(\\d{2})-?(\\d{2})"+jp),VY=bu(xY+jp),PY=bu("T?"+dS+"(?:"+mS+")?"+jp),UY=bu(mS),HY=new RegExp(f3,"g"),jY=bu(`${fS}?P(\\d+Y)?(\\d+M)?(\\d+W)?(\\d+D)?(?:T(?:(\\d+)${Jd}H)?(?:(\\d+)${Jd}M)?(?:(\\d+)${Jd}S)?)?`),BY=cr(t=>new Ks(s3,{timeZone:t,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),zY=/^(AC|AE|AG|AR|AS|BE|BS|CA|CN|CS|CT|EA|EC|IE|IS|JS|MI|NE|NS|PL|PN|PR|PS|SS|VS)T$/,FY=/[^\w\/:+-]+/,YY=/^M(\d{2})(L?)$/,qY=cr(Vz),gS=cr(t=>new Ks(s3,{calendar:t,timeZone:No,era:"short",year:"numeric",month:"short",day:"numeric"})),d3={P(t,e,n){const r=Be(n);let i,{years:s,months:a,weeks:o,days:l}=e;if(l+=Xt(e,5)[0],s||a)i=((c,h,f,d,p)=>{let[y,w,C]=c.v(h);if(f){const[v,_]=c.q(y,w);y+=f,w=mg(v,_,c.L(y)),w=Qi("month",w,1,c.B(y),p)}return d&&([y,w]=c.un(y,w,d)),C=Qi("day",C,1,c.U(y,w),p),c.p(y,w,C)})(this,t,s,a,r);else{if(!o&&!l)return t;i=wn(t)}if(i===void 0)throw new RangeError(Aa);return i+=(7*o+l)*Bn,vr(vp(i))},N(t,e,n){if(n<=7){let l=0,c=S4({...t,...qn},{...e,...qn});return n===7&&([l,c]=aa(c,7)),{...Jt,weeks:l,days:c}}const r=this.v(t),i=this.v(e);let[s,a,o]=((l,c,h,f,d,p,y)=>{let w=d-c,C=p-h,v=y-f;if(w||C){const _=Math.sign(w||C);let A=l.U(d,p),M=0;if(Math.sign(v)===-_){const V=A;[d,p]=l.un(d,p,-_),w=d-c,C=p-h,A=l.U(d,p),M=_<0?-V:A}if(v=y-Math.min(f,A)+M,w){const[V,k]=l.q(c,h),[S,T]=l.q(d,p);if(C=S-V||Number(T)-Number(k),Math.sign(C)===-_){const E=_<0&&-l.B(d);w=(d-=_)-c,C=p-mg(V,k,l.L(d))+(E||l.B(d))}}}return[w,C,v]})(this,...r,...i);return n===8&&(a+=this.cn(s,r[0]),s=0),{...Jt,years:s,months:a,days:o}},F(t,e){const n=Be(e),r=d0(this,t),i=ld(this,t,r,n),s=m0(this,t,i,r,n);return es(vr(this.V(r,i,s)),this.id||Pe)},K(t,e){const n=Be(e),r=d0(this,t),i=ld(this,t,r,n);return Ih(cT(this.V(r,i,1)),this.id||Pe)},_(t,e){const n=Be(e);let r,i,s,a=t.eraYear!==void 0||t.year!==void 0?d0(this,t):void 0;const o=!this.id;if(a===void 0&&o&&(a=Hi),a!==void 0){const f=ld(this,t,a,n);r=m0(this,t,f,a,n);const d=this.L(a);i=qT(f,d),s=f===d}else{if(t.monthCode===void 0)throw new TypeError(z4);if([i,s]=YT(t.monthCode),this.id&&this.id!==Cu&&this.id!==ca)if(this.id&&po(this.id)==="coptic"&&n===0){const f=s||i!==13?30:6;r=t.day,r=bh(r,1,f)}else if(this.id&&po(this.id)==="chinese"&&n===0){const f=!s||i!==1&&i!==9&&i!==10&&i!==11&&i!==12?30:29;r=t.day,r=bh(r,1,f)}else r=t.day;else r=m0(this,t,ld(this,t,Hi,n),Hi,n)}const l=this.G(i,s,r);if(!l)throw new RangeError("Cannot guess year");const[c,h]=l;return hg(vr(this.V(c,h,r)),this.id||Pe)},fields(t){return T_(this)&&t.includes("year")?[...t,...I_]:t},k(t,e){const n=Object.assign(Object.create(null),t);return g0(n,e,XT),T_(this)&&(g0(n,e,eY),this.id===ca&&g0(n,e,tY,I_)),n},inLeapYear(t){const[e]=this.v(t);return this.sn(e)},monthsInYear(t){const[e]=this.v(t);return this.B(e)},daysInMonth(t){const[e,n]=this.v(t);return this.U(e,n)},daysInYear(t){const[e]=this.v(t);return this.fn(e)},dayOfYear:FT,era(t){return this.hn(t)[0]},eraYear(t){return this.hn(t)[1]},monthCode(t){const[e,n]=this.v(t),[r,i]=this.q(e,n);return ff(r,i)},dayOfWeek:Bx,daysInWeek(){return 7}},$Y={v:dT,hn:zx,q:Px},GY={dayOfYear:FT,v:dT,p:vu},KY=Object.assign({},GY,{weekOfYear:w4,yearOfWeek:b4,m(t){function e(p){return(7-p<r?7:0)-p}function n(p){const y=jx(d+p),w=p||1,C=e(Kc(l+y*w,7));return h=(y+(C-c)*w)/7}const r=this.id?1:4,i=Bx(t),s=this.dayOfYear(t),a=Kc(i-1,7),o=s-1,l=Kc(a-o,7),c=e(l);let h,f=Math.floor((o-c)/7)+1,d=t.isoYear;return f?f>n(0)&&(f=1,d++):(f=n(-1),d--),[f,d,h]}}),ZY=Object.assign({},d3,KY,{v:dT,hn:zx,q:Px,G(t,e){if(!e)return[Hi,t]},sn:mT,L(){},B:Ux,cn:t=>t*ps,U:Hx,fn:jx,V:(t,e,n)=>({isoYear:t,isoMonth:e,isoDay:n}),p:vu,un:(t,e,n)=>(t+=gp(n,ps),(e+=eT(n,ps))<1?(t--,e+=ps):e>ps&&(t++,e-=ps),[t,e]),year(t){return t.isoYear},month(t){return t.isoMonth},day:t=>t.isoDay}),QY={v:gg,hn:M4,q:N4},XY={dayOfYear:FT,v:gg,p:Dh,weekOfYear:w4,yearOfWeek:b4,m(){return[]}},JY=Object.assign({},d3,XY,{v:gg,hn:M4,q:N4,G(t,e,n){const r=this.id&&po(this.id)==="chinese"?((c,h,f)=>{if(h)switch(c){case 1:return 1651;case 2:return f<30?1947:1765;case 3:return f<30?1966:1955;case 4:return f<30?1963:1944;case 5:return f<30?1971:1952;case 6:return f<30?1960:1941;case 7:return f<30?1968:1938;case 8:return f<30?1957:1718;case 9:return 1832;case 10:return 1870;case 11:return 1814;case 12:return 1890}return 1972})(t,e,n):Hi;let[i,s,a]=gg.call(this,{isoYear:r,isoMonth:ps,isoDay:31});const o=Qd.call(this,i),l=s===o;(Gs(t,qT(s,o))||Gs(Number(e),Number(l))||Gs(n,a))===1&&i--;for(let c=0;c<100;c++){const h=i-c,f=Qd.call(this,h),d=mg(t,e,f);if(e===(d===f)&&n<=_C.call(this,h,d))return[h,d]}},sn(t){const e=ad.call(this,t);return e>ad.call(this,t-1)&&e>ad.call(this,t+1)},L:Qd,B:od,cn(t,e){const n=e+t,r=Math.sign(t),i=r<0?-1:0;let s=0;for(let a=e;a!==n;a+=r)s+=od.call(this,a+i);return s},U:_C,fn:ad,V(t,e,n){return vp(Dh.call(this,t,e,n))},p:Dh,un(t,e,n){if(n){if(e+=n,!Number.isSafeInteger(e))throw new RangeError(Aa);if(n<0)for(;e<1;)e+=od.call(this,--t);else{let r;for(;e>(r=od.call(this,t));)e-=r,t++}}return[t,e]},year(t){return this.h(t).year},month(t){const{year:e,o:n}=this.h(t),{u:r}=this.l(e);return r[n]+1},day(t){return this.h(t).day}}),Bp=O4($Y,QY),ce=O4(ZY,JY),SC={era:Zd,eraYear:En,year:En,month:$I,monthCode(t){const e=Zd(t);return YT(e),e},day:$I,...Ql(ts,En),...Ql(Ge,aT),offset(t){const e=Zd(t);return Ro(e),e}},pS=ke(Cx,ts,Ir),WY=ke(Cx,Ir,ts),Zs="numeric",Ef=["timeZoneName"],m3={month:Zs,day:Zs},yS={year:Zs,month:Zs},vS=Object.assign({},yS,{day:Zs}),_S={hour:Zs,minute:Zs,second:Zs},ES=Object.assign({},vS,_S),eq=Object.assign({},ES,{timeZoneName:"short"}),tq=Object.keys(yS),nq=Object.keys(m3),rq=Object.keys(vS),iq=Object.keys(_S),TS=["dateStyle"],sq=tq.concat(TS),aq=nq.concat(TS),SS=rq.concat(TS,["weekday"]),Tf=iq.concat(["dayPeriod","timeStyle","fractionalSecondDigits"]),wS=SS.concat(Tf),oq=Ef.concat(Tf),lq=Ef.concat(SS),uq=Ef.concat(["day","weekday"],Tf),cq=Ef.concat(["year","weekday"],Tf),hq=Do(wS,ES),fq=Do(wS,eq),dq=Do(wS,ES,Ef),mq=Do(SS,vS,oq),gq=Do(Tf,_S,lq),pq=Do(sq,yS,uq),yq=Do(aq,m3,cq),vq={},g3=new Ks(void 0,{calendar:Pe}).resolvedOptions().calendar===Pe,p3=[hq,ET],_q=[fq,ET,0,(t,e)=>{const n=t.timeZone;if(e&&e.timeZone!==n)throw new RangeError($4);return n}],y3=[dq,wn],v3=[mq,wn],_3=[gq,t=>oa(t)/si],E3=[pq,wn,g3],T3=[yq,wn,g3];let wC;function Ca(t,e,n,r,i){function s(...l){if(!(this instanceof s))throw new TypeError(w_);IC(this,e(...l))}function a(l,c){return Object.defineProperties(function(...h){return l.call(this,o(this),...h)},wh(c))}function o(l){const c=Cn(l);if(!c||c.branding!==t)throw new TypeError(w_);return c}return Object.defineProperties(s.prototype,{...$B(Xi(a,n)),...Vi(Xi(a,r)),...W1("Temporal."+t)}),Object.defineProperties(s,{...Vi(i),...wh(t)}),[s,l=>{const c=Object.create(s.prototype);return IC(c,l),c},o]}function Du(t){if(Cn(t)||t.calendar!==void 0||t.timeZone!==void 0)throw new TypeError(OF);return t}function Sf(t){return S3(t)||Pe}function S3(t){const{calendar:e}=t;if(e!==void 0)return zp(e)}function zp(t){if(An(t)){const{calendar:e}=Cn(t)||{};if(!e)throw new TypeError(F4(t));return e}return(e=>Lp(wz(ln(e))))(t)}function bS(t){const e={};for(const n in t)e[n]=r=>{const{calendar:i}=r;return ce(i)[n](r)};return e}function Ra(){throw new TypeError(xF)}function rr(t){if(An(t)){const{timeZone:e}=Cn(t)||{};if(!e)throw new TypeError(q4(t));return e}return(e=>HT(bz(ln(e))))(t)}function Bt(t){if(An(t)){const e=Cn(t);return e&&e.branding===hS?e:$z(t)}return Sz(t)}function ac(t){if(t!==void 0){if(An(t)){const e=Cn(t)||{};switch(e.branding){case Ia:case _f:return e;case Ru:return es(e)}const n=Sf(t);return{...Hz(rr,_e,ce(n),t),calendar:n}}return pz(t)}}function ys(t,e){if(An(t)){const r=Cn(t)||{};switch(r.branding){case uS:return Be(e),r;case Ru:return Be(e),ii(r);case Ia:return Be(e),P4(_e,r)}return qz(t,e)}const n=Tz(t);return Be(e),n}function AS(t){return t===void 0?void 0:ys(t)}function Vo(t,e){if(An(t)){const r=Cn(t)||{};switch(r.branding){case Ru:return Be(e),r;case _f:return Be(e),Ar({...r,...qn});case Ia:return Be(e),L4(_e,r)}return Bz(ce(Sf(t)),t,e)}const n=vz(t);return Be(e),n}function bC(t,e){if(An(t)){const r=Cn(t);if(r&&r.branding===lS)return Be(e),r;const i=S3(t);return Yz(ce(i||Pe),!i,t,e)}const n=Ez(ce,t);return Be(e),n}function Po(t,e){if(An(t)){const r=Cn(t);return r&&r.branding===oS?(Be(e),r):Fz(ce(Sf(t)),t,e)}const n=_z(ce,t);return Be(e),n}function Uo(t,e){if(An(t)){const r=Cn(t)||{};switch(r.branding){case _f:return Be(e),r;case Ru:return Be(e),es(r);case Ia:return Be(e),V4(_e,r)}return zz(ce(Sf(t)),t,e)}const n=OT(t);return Be(e),n}function Ho(t,e){if(An(t)){const n=Cn(t);if(n&&n.branding===Ia)return Ep(e),n;const r=Sf(t);return jz(rr,_e,ce(r),r,t,e)}return yz(t,e)}function AC(t){return Xi(e=>n=>e(R_(n)),t)}function R_(t){return dr(t,_e)}function jo(t){if(An(t)){const e=Cn(t);if(e)switch(e.branding){case cS:return e;case Ia:return ri(e.epochNanoseconds)}}return gz(t)}function Eq(){const t=Date.prototype.valueOf.call(this);return _i(ri(Ah(rT(t),si)))}function Tq(){function t(s,a){return new e(s,a)}function e(s,a=Object.create(null)){vg.set(this,((o,l)=>{const c=new Ks(o,l),h=c.resolvedOptions(),f=h.locale,d=wr(Object.keys(l),h),p=cr(bq),y=(w,...C)=>{if(w){if(C.length!==2)throw new TypeError(y0);for(const M of C)if(M===void 0)throw new TypeError(y0)}w||C[0]!==void 0||(C=[]);const v=C.map(M=>Cn(M)||Number(M));let _,A=0;for(const M of v){const V=typeof M=="object"?M.branding:void 0;if(A++&&V!==_)throw new TypeError(y0);_=V}return _?p(_)(f,d,...v):[c,...v]};return y.X=c,y})(s,a))}const n=Ks.prototype,r=Object.getOwnPropertyDescriptors(n),i=Object.getOwnPropertyDescriptors(Ks);for(const s in r){const a=r[s],o=s.startsWith("format")&&Sq(s);typeof a.value=="function"?a.value=s==="constructor"?t:o||wq(s):o&&(a.get=function(){if(!vg.has(this))throw new TypeError(w_);return(...l)=>o.apply(this,l)},Object.defineProperties(a.get,wh(`get ${s}`)))}return i.prototype.value=e.prototype=Object.create({},r),Object.defineProperties(t,i),t}function Sq(t){return Object.defineProperties(function(...e){const n=vg.get(this),[r,...i]=n(t.includes("Range"),...e);return r[t](...i)},wh(t))}function wq(t){return Object.defineProperties(function(...e){return vg.get(this).X[t](...e)},wh(t))}function bq(t){const e=Nq[t];if(!e)throw new TypeError(XF(t));return wa(e,cr(U4),1)}const yg=new WeakMap,Cn=yg.get.bind(yg),IC=yg.set.bind(yg),w3={era:GB,eraYear:Mx,year:tT,month:Ri,daysInMonth:Ri,daysInYear:Ri,inLeapYear:rY,monthsInYear:Ri},IS={monthCode:ln},b3={day:Ri},Aq={dayOfWeek:Ri,dayOfYear:Ri,weekOfYear:KB,yearOfWeek:Mx,daysInWeek:Ri},CS=bS(Object.assign({},w3,IS,b3,Aq)),Iq=bS({...w3,...IS}),Cq=bS({...IS,...b3}),wf={calendarId:t=>t.calendar},Rq=mp(t=>e=>e[t],Ge.concat("sign")),RS=mp((t,e)=>n=>n[Ir[e]],ts),A3={epochMilliseconds:ET,epochNanoseconds:XB},[Dq,wt]=Ca(hS,oF,{...Rq,blank:dz},{with:(t,e)=>wt(Wz(t,e)),negated:t=>wt(MT(t)),abs:t=>wt(fz(t)),add:(t,e,n)=>wt(cC(ac,ce,_e,0,t,Bt(e),n)),subtract:(t,e,n)=>wt(cC(ac,ce,_e,1,t,Bt(e),n)),round:(t,e)=>wt(hz(ac,ce,_e,t,e)),total:(t,e)=>JB(ac,ce,_e,t,e),toLocaleString(t,e,n){return Intl.DurationFormat?new Intl.DurationFormat(e,n).format(this):f0(t)},toString:f0,toJSON:t=>f0(t),valueOf:Ra},{from:t=>wt(Bt(t)),compare:(t,e,n)=>Iz(ac,ce,_e,Bt(t),Bt(e),n)}),Nq={Instant:p3,PlainDateTime:y3,PlainDate:v3,PlainTime:_3,PlainYearMonth:E3,PlainMonthDay:T3},Mq=wa(p3),Oq=wa(_q),xq=wa(y3),kq=wa(v3),Lq=wa(_3),Vq=wa(E3),Pq=wa(T3),[Uq,As]=Ca(uS,aF,RS,{with(t,e,n){return As(Jz(this,Du(e),n))},add:(t,e)=>As(uC(0,t,Bt(e))),subtract:(t,e)=>As(uC(1,t,Bt(e))),until:(t,e,n)=>wt(vC(0,t,ys(e),n)),since:(t,e,n)=>wt(vC(1,t,ys(e),n)),round:(t,e)=>As(nz(t,e)),equals:(t,e)=>xz(t,ys(e)),toLocaleString(t,e,n){const[r,i]=Lq(e,n,t);return r.format(i)},toString:nC,toJSON:t=>nC(t),valueOf:Ra},{from:(t,e)=>As(ys(t,e)),compare:(t,e)=>BT(ys(t),ys(e))}),[Hq,xr]=Ca(Ru,ke(nF,df),{...wf,...CS,...RS},{with:(t,e,n)=>xr(Kz(ce,t,Du(e),n)),withCalendar:(t,e)=>xr($T(t,zp(e))),withPlainTime:(t,e)=>xr(TF(t,AS(e))),add:(t,e,n)=>xr(aC(ce,0,t,Bt(e),n)),subtract:(t,e,n)=>xr(aC(ce,1,t,Bt(e),n)),until:(t,e,n)=>wt(gC(ce,0,t,Vo(e),n)),since:(t,e,n)=>wt(gC(ce,1,t,Vo(e),n)),round:(t,e)=>xr(tz(t,e)),equals:(t,e)=>Dz(t,Vo(e)),toZonedDateTime:(t,e,n)=>gn(cF(_e,t,rr(e),n)),toPlainDate:t=>kr(es(t)),toPlainTime:t=>As(ii(t)),toLocaleString(t,e,n){const[r,i]=xq(e,n,t);return r.format(i)},toString:JI,toJSON:t=>JI(t),valueOf:Ra},{from:(t,e)=>xr(Vo(t,e)),compare:(t,e)=>p4(Vo(t),Vo(e))}),[jq,D_]=Ca(lS,ke(sF,df),{...wf,...Cq},{with:(t,e,n)=>D_(Xz(ce,t,Du(e),n)),equals:(t,e)=>Oz(t,bC(e)),toPlainDate(t,e){return kr(pF(ce,t,this,e))},toLocaleString(t,e,n){const[r,i]=Pq(e,n,t);return r.format(i)},toString:tC,toJSON:t=>tC(t),valueOf:Ra},{from:(t,e)=>D_(bC(t,e))}),[Bq,Ic]=Ca(oS,ke(iF,df),{...wf,...Iq},{with:(t,e,n)=>Ic(Qz(ce,t,Du(e),n)),add:(t,e,n)=>Ic(lC(ce,0,t,Bt(e),n)),subtract:(t,e,n)=>Ic(lC(ce,1,t,Bt(e),n)),until:(t,e,n)=>wt(yC(ce,0,t,Po(e),n)),since:(t,e,n)=>wt(yC(ce,1,t,Po(e),n)),equals:(t,e)=>Mz(t,Po(e)),toPlainDate(t,e){return kr(gF(ce,t,this,e))},toLocaleString(t,e,n){const[r,i]=Vq(e,n,t);return r.format(i)},toString:eC,toJSON:t=>eC(t),valueOf:Ra},{from:(t,e)=>Ic(Po(t,e)),compare:(t,e)=>Au(Po(t),Po(e))}),[zq,kr]=Ca(_f,ke(rF,df),{...wf,...CS},{with:(t,e,n)=>kr(Zz(ce,t,Du(e),n)),withCalendar:(t,e)=>kr($T(t,zp(e))),add:(t,e,n)=>kr(oC(ce,0,t,Bt(e),n)),subtract:(t,e,n)=>kr(oC(ce,1,t,Bt(e),n)),until:(t,e,n)=>wt(pC(ce,0,t,Uo(e),n)),since:(t,e,n)=>wt(pC(ce,1,t,Uo(e),n)),equals:(t,e)=>Nz(t,Uo(e)),toZonedDateTime(t,e){const n=An(e)?e:{timeZone:e};return gn(hF(rr,ys,_e,t,n))},toPlainDateTime:(t,e)=>xr(fF(t,AS(e))),toPlainYearMonth(t){return Ic(dF(ce,t,this))},toPlainMonthDay(t){return D_(mF(ce,t,this))},toLocaleString(t,e,n){const[r,i]=kq(e,n,t);return r.format(i)},toString:WI,toJSON:t=>WI(t),valueOf:Ra},{from:(t,e)=>kr(Uo(t,e)),compare:(t,e)=>Au(Uo(t),Uo(e))}),[Fq,gn]=Ca(Ia,ke(tF,df,Az),{...A3,...wf,...AC(CS),...AC(RS),offset:t=>cf(R_(t).offsetNanoseconds),offsetNanoseconds:t=>R_(t).offsetNanoseconds,timeZoneId:t=>t.timeZone,hoursInDay:t=>rz(_e,t)},{with:(t,e,n)=>gn(Gz(ce,_e,t,Du(e),n)),withCalendar:(t,e)=>gn($T(t,zp(e))),withTimeZone:(t,e)=>gn(SF(t,rr(e))),withPlainTime:(t,e)=>gn(EF(_e,t,AS(e))),add:(t,e,n)=>gn(sC(ce,_e,0,t,Bt(e),n)),subtract:(t,e,n)=>gn(sC(ce,_e,1,t,Bt(e),n)),until:(t,e,n)=>wt(qt(mC(ce,_e,0,t,Ho(e),n))),since:(t,e,n)=>wt(qt(mC(ce,_e,1,t,Ho(e),n))),round:(t,e)=>gn(ez(_e,t,e)),startOfDay:t=>gn(iz(_e,t)),equals:(t,e)=>Rz(t,Ho(e)),toInstant:t=>_i(uF(t)),toPlainDateTime:t=>xr(L4(_e,t)),toPlainDate:t=>kr(V4(_e,t)),toPlainTime:t=>As(P4(_e,t)),toLocaleString(t,e,n={}){const[r,i]=Oq(e,n,t);return r.format(i)},toString:(t,e)=>XI(_e,t,e),toJSON:t=>XI(_e,t),valueOf:Ra,getTimeZoneTransition(t,e){const{timeZone:n,epochNanoseconds:r}=t,i=QB(e),s=_e(n).O(r,i);return s?gn({...t,epochNanoseconds:s}):null}},{from:(t,e)=>gn(Ho(t,e)),compare:(t,e)=>g4(Ho(t),Ho(e))}),[Yq,_i]=Ca(cS,eF,A3,{add:(t,e)=>_i(iC(0,t,Bt(e))),subtract:(t,e)=>_i(iC(1,t,Bt(e))),until:(t,e,n)=>wt(dC(0,t,jo(e),n)),since:(t,e,n)=>wt(dC(1,t,jo(e),n)),round:(t,e)=>_i(WB(t,e)),equals:(t,e)=>Cz(t,jo(e)),toZonedDateTimeISO:(t,e)=>gn(lF(t,rr(e))),toLocaleString(t,e,n){const[r,i]=Mq(e,n,t);return r.format(i)},toString:(t,e)=>QI(rr,_e,t,e),toJSON:t=>QI(rr,_e,t),valueOf:Ra},{from:t=>_i(jo(t)),fromEpochMilliseconds:t=>_i(yF(t)),fromEpochNanoseconds:t=>_i(vF(t)),compare:(t,e)=>m4(jo(t),jo(e))}),qq=Object.defineProperties({},{...W1("Temporal.Now"),...Vi({timeZoneId:()=>ic(),instant:()=>_i(ri(S_())),zonedDateTimeISO:(t=ic())=>gn(br(S_(),rr(t),Pe)),plainDateTimeISO:(t=ic())=>xr(Ar(p0(_e(rr(t))),Pe)),plainDateISO:(t=ic())=>kr(es(p0(_e(rr(t))),Pe)),plainTimeISO:(t=ic())=>As(ii(p0(_e(rr(t)))))})}),$q=Object.defineProperties({},{...W1("Temporal"),...Vi({PlainYearMonth:Bq,PlainMonthDay:jq,PlainDate:zq,PlainTime:Uq,PlainDateTime:Hq,ZonedDateTime:Fq,Instant:Yq,Duration:Dq,Now:qq})}),I3=Tq(),vg=new WeakMap;Object.create(Intl),Vi({DateTimeFormat:I3});Object.defineProperties(globalThis,Vi({Temporal:$q})),Object.defineProperties(Intl,Vi({DateTimeFormat:I3})),Object.defineProperties(Date.prototype,Vi({toTemporalInstant:Eq}));function Xe(t){return t*Math.PI/180}function hi(t){return t*180/Math.PI}class Gq{constructor(e,n,r,i,s){this.locationName=null,this.setLocationName(e),this.setLatitude(n),this.setLongitude(r),this.setElevation(i),this.setTimeZone(s)}getElevation(){return this.elevation}setElevation(e){if(typeof e!="number")throw new TypeError("Invalid elevation");if(e<0)throw new RangeError(`elevation ${e} must be zero or positive`);this.elevation=e}setLatitude(e){if(typeof e!="number")throw new TypeError("Invalid latitude");if(e<-90||e>90)throw new RangeError(`Latitude ${e} out of range [-90,90]`);this.latitude=e}getLatitude(){return this.latitude}setLongitude(e){if(typeof e!="number")throw new TypeError("Invalid longitude");if(e<-180||e>180)throw new RangeError(`Longitude ${e} out of range [-180,180]`);this.longitude=e}getLongitude(){return this.longitude}getLocationName(){return this.locationName}setLocationName(e){this.locationName=e}getTimeZone(){return this.timeZoneId}setTimeZone(e){if(!e)throw new RangeError("Invalid timeZoneId");this.timeZoneId=e}}const Kq=34/60,Zq=16/60,CC=6356.9;class Y{constructor(e,n){this.date=n,this.geoLocation=e}getSunrise(){const e=this.getUTCSunrise0(Y.GEOMETRIC_ZENITH);return isNaN(e)?null:this.getDateFromTime(e,!0)}getSeaLevelSunrise(){const e=this.getUTCSeaLevelSunrise(Y.GEOMETRIC_ZENITH);return isNaN(e)?null:this.getDateFromTime(e,!0)}getBeginCivilTwilight(){return this.getSunriseOffsetByDegrees(Y.CIVIL_ZENITH)}getBeginNauticalTwilight(){return this.getSunriseOffsetByDegrees(Y.NAUTICAL_ZENITH)}getBeginAstronomicalTwilight(){return this.getSunriseOffsetByDegrees(Y.ASTRONOMICAL_ZENITH)}getSunset(){const e=this.getUTCSunset0(Y.GEOMETRIC_ZENITH);return isNaN(e)?null:this.getDateFromTime(e,!1)}getSeaLevelSunset(){const e=this.getUTCSeaLevelSunset(Y.GEOMETRIC_ZENITH);return isNaN(e)?null:this.getDateFromTime(e,!1)}getEndCivilTwilight(){return this.getSunsetOffsetByDegrees(Y.CIVIL_ZENITH)}getEndNauticalTwilight(){return this.getSunsetOffsetByDegrees(Y.NAUTICAL_ZENITH)}getEndAstronomicalTwilight(){return this.getSunsetOffsetByDegrees(Y.ASTRONOMICAL_ZENITH)}static getTimeOffset(e,n){return e===null||isNaN(n)?null:e.add({milliseconds:n})}getSunriseOffsetByDegrees(e){const n=this.getUTCSunrise0(e);return isNaN(n)?null:this.getDateFromTime(n,!0)}getSunsetOffsetByDegrees(e){const n=this.getUTCSunset0(e);return isNaN(n)?null:this.getDateFromTime(n,!1)}getUTCSunrise0(e){return this.getUTCSunrise(this.getAdjustedDate(),this.geoLocation,e,!0)}getUTCSeaLevelSunrise(e){return this.getUTCSunrise(this.getAdjustedDate(),this.geoLocation,e,!1)}getUTCSunset0(e){return this.getUTCSunset(this.getAdjustedDate(),this.geoLocation,e,!0)}getUTCSeaLevelSunset(e){return this.getUTCSunset(this.getAdjustedDate(),this.geoLocation,e,!1)}getAdjustedDate(){return this.date}getElevationAdjustment(e){return hi(Math.acos(CC/(CC+e/1e3)))}adjustZenith(e,n){let r=e;return e===Y.GEOMETRIC_ZENITH&&(r=e+(Zq+Kq+this.getElevationAdjustment(n))),r}getUTCSunrise(e,n,r,i){const s=i?n.getElevation():0,a=this.adjustZenith(r,s);let o=Y.getSunriseUTC(Y.getJulianDay(e),n.getLatitude(),-n.getLongitude(),a);for(o=o/60;o<0;)o+=24;for(;o>=24;)o-=24;return o}getUTCSunset(e,n,r,i){const s=i?n.getElevation():0,a=this.adjustZenith(r,s);let o=Y.getSunsetUTC(Y.getJulianDay(e),n.getLatitude(),-n.getLongitude(),a);for(o=o/60;o<0;)o+=24;for(;o>=24;)o-=24;return o}getTemporalHour(e=this.getSeaLevelSunrise(),n=this.getSeaLevelSunset()){if(e===null||n===null)return NaN;const r=n.epochMilliseconds-e.epochMilliseconds;return Math.floor(r/12)}getSunTransit(e=this.getSeaLevelSunrise(),n=this.getSeaLevelSunset()){const r=this.getTemporalHour(e,n);return Y.getTimeOffset(e,r*6)}getDateFromTime(e,n){if(isNaN(e))return null;let r=e,i=this.getAdjustedDate();const s=Math.trunc(r);r-=s;const a=Math.trunc(r*=60);r-=a;const o=Math.trunc(r*=60);r-=o;const l=Math.trunc(this.geoLocation.getLongitude()/15);return n&&l+s>18?i=i.add({days:-1}):!n&&l+s<6&&(i=i.add({days:1})),i.toZonedDateTime({timeZone:"UTC",plainTime:new Temporal.PlainTime(s,a,o,Math.trunc(r*1e3))}).withTimeZone(this.geoLocation.getTimeZone())}static getJulianDay(e){let{year:n,month:r}=e;const{day:i}=e;r<=2&&(n-=1,r+=12);const s=Math.trunc(n/100),a=Math.trunc(2-s+s/4);return Math.floor(365.25*(n+4716))+Math.floor(30.6001*(r+1))+i+a-1524.5}static getJulianCenturiesFromJulianDay(e){return(e-Y.JULIAN_DAY_JAN_1_2000)/Y.JULIAN_DAYS_PER_CENTURY}static getJulianDayFromJulianCenturies(e){return e*Y.JULIAN_DAYS_PER_CENTURY+Y.JULIAN_DAY_JAN_1_2000}static getSunGeometricMeanLongitude(e){let n=280.46646+e*(36000.76983+3032e-7*e);for(;n>360;)n-=360;for(;n<0;)n+=360;return n}static getSunGeometricMeanAnomaly(e){return 357.52911+e*(35999.05029-1537e-7*e)}static getEarthOrbitEccentricity(e){return .016708634-e*(42037e-9+1267e-10*e)}static getSunEquationOfCenter(e){const n=Y.getSunGeometricMeanAnomaly(e),r=Xe(n),i=Math.sin(r),s=Math.sin(r+r),a=Math.sin(r+r+r);return i*(1.914602-e*(.004817+14e-6*e))+s*(.019993-101e-6*e)+a*289e-6}static getSunTrueLongitude(e){const n=Y.getSunGeometricMeanLongitude(e),r=Y.getSunEquationOfCenter(e);return n+r}static getSunApparentLongitude(e){const n=Y.getSunTrueLongitude(e),r=125.04-1934.136*e;return n-.00569-.00478*Math.sin(Xe(r))}static getMeanObliquityOfEcliptic(e){return 23+(26+(21.448-e*(46.815+e*(59e-5-e*.001813)))/60)/60}static getObliquityCorrection(e){const n=Y.getMeanObliquityOfEcliptic(e),r=125.04-1934.136*e;return n+.00256*Math.cos(Xe(r))}static getSunDeclination(e){const n=Y.getObliquityCorrection(e),r=Y.getSunApparentLongitude(e),i=Math.sin(Xe(n))*Math.sin(Xe(r));return hi(Math.asin(i))}static getEquationOfTime(e){const n=Y.getObliquityCorrection(e),r=Y.getSunGeometricMeanLongitude(e),i=Y.getEarthOrbitEccentricity(e),s=Y.getSunGeometricMeanAnomaly(e);let a=Math.tan(Xe(n)/2);a*=a;const o=Math.sin(2*Xe(r)),l=Math.sin(Xe(s)),c=Math.cos(2*Xe(r)),h=Math.sin(4*Xe(r)),f=Math.sin(2*Xe(s)),d=a*o-2*i*l+4*i*a*l*c-.5*a*a*h-1.25*i*i*f;return hi(d)*4}static getSunHourAngleAtSunrise(e,n,r){const i=Xe(e),s=Xe(n);return Math.acos(Math.cos(Xe(r))/(Math.cos(i)*Math.cos(s))-Math.tan(i)*Math.tan(s))}static getSunHourAngleAtSunset(e,n,r){const i=Xe(e),s=Xe(n);return-Math.acos(Math.cos(Xe(r))/(Math.cos(i)*Math.cos(s))-Math.tan(i)*Math.tan(s))}static getSolarElevation(e,n,r){const i=Y.getJulianDay(e.toPlainDate()),s=Y.getJulianCenturiesFromJulianDay(i),a=Y.getEquationOfTime(s);let o=e.hour+12+(e.minute+a+e.second/60)/60;o=-(o*360/24)%360;const l=Xe(r-o),c=Y.getSunDeclination(s),h=Xe(c),f=Xe(n);return hi(Math.asin(Math.sin(f)*Math.sin(h)+Math.cos(f)*Math.cos(h)*Math.cos(l)))}static getSolarAzimuth(e,n,r){const i=Y.getJulianDay(e.toPlainDate()),s=Y.getJulianCenturiesFromJulianDay(i),a=Y.getEquationOfTime(s);let o=e.hour+12+(e.minute+a+e.second/60)/60;o=-(o*360/24)%360;const l=Xe(r-o),c=Y.getSunDeclination(s),h=Xe(c),f=Xe(n);return hi(Math.atan(Math.sin(l)/(Math.cos(l)*Math.sin(f)-Math.tan(h)*Math.cos(f))))+180}static getSunriseUTC(e,n,r,i){const s=Y.getJulianCenturiesFromJulianDay(e),a=Y.getSolarNoonUTC(s,r),o=Y.getJulianCenturiesFromJulianDay(e+a/1440);let l=Y.getEquationOfTime(o),c=Y.getSunDeclination(o),h=Y.getSunHourAngleAtSunrise(n,c,i),f=r-hi(h),d=4*f,p=720+d-l;const y=Y.getJulianCenturiesFromJulianDay(Y.getJulianDayFromJulianCenturies(s)+p/1440);return l=Y.getEquationOfTime(y),c=Y.getSunDeclination(y),h=Y.getSunHourAngleAtSunrise(n,c,i),f=r-hi(h),d=4*f,p=720+d-l,p}static getSolarNoonUTC(e,n){const r=Y.getJulianCenturiesFromJulianDay(Y.getJulianDayFromJulianCenturies(e)+n/360);let i=Y.getEquationOfTime(r);const s=720+n*4-i,a=Y.getJulianCenturiesFromJulianDay(Y.getJulianDayFromJulianCenturies(e)-.5+s/1440);return i=Y.getEquationOfTime(a),720+n*4-i}static getSunsetUTC(e,n,r,i){const s=Y.getJulianCenturiesFromJulianDay(e),a=Y.getSolarNoonUTC(s,r),o=Y.getJulianCenturiesFromJulianDay(e+a/1440);let l=Y.getEquationOfTime(o),c=Y.getSunDeclination(o),h=Y.getSunHourAngleAtSunset(n,c,i),f=r-hi(h),d=4*f,p=720+d-l;const y=Y.getJulianCenturiesFromJulianDay(Y.getJulianDayFromJulianCenturies(s)+p/1440);return l=Y.getEquationOfTime(y),c=Y.getSunDeclination(y),h=Y.getSunHourAngleAtSunset(n,c,i),f=r-hi(h),d=4*f,p=720+d-l,p}}Y.GEOMETRIC_ZENITH=90;Y.CIVIL_ZENITH=96;Y.NAUTICAL_ZENITH=102;Y.ASTRONOMICAL_ZENITH=108;Y.JULIAN_DAY_JAN_1_2000=2451545;Y.JULIAN_DAYS_PER_CENTURY=36525;/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const Qq=[["Ashdod","IL",31.79213,34.64966,"Asia/Jerusalem",27],["Atlanta","US",33.749,-84.38798,"America/New_York",336],["Austin","US",30.26715,-97.74306,"America/Chicago",165],["Baghdad","IQ",33.34058,44.40088,"Asia/Baghdad",41],["Beer Sheva","IL",31.25181,34.7913,"Asia/Jerusalem",285],["Berlin","DE",52.52437,13.41053,"Europe/Berlin",43],["Baltimore","US",39.29038,-76.61219,"America/New_York",35],["Bogota","CO",4.60971,-74.08175,"America/Bogota",2582],["Boston","US",42.35843,-71.05977,"America/New_York",38],["Budapest","HU",47.49801,19.03991,"Europe/Budapest",104],["Buenos Aires","AR",-34.61315,-58.37723,"America/Argentina/Buenos_Aires",31],["Buffalo","US",42.88645,-78.87837,"America/New_York",191],["Chicago","US",41.85003,-87.65005,"America/Chicago",180],["Cincinnati","US",39.162,-84.45689,"America/New_York",267],["Cleveland","US",41.4995,-81.69541,"America/New_York",204],["Dallas","US",32.78306,-96.80667,"America/Chicago",139],["Denver","US",39.73915,-104.9847,"America/Denver",1636],["Detroit","US",42.33143,-83.04575,"America/Detroit",192],["Eilat","IL",29.55805,34.94821,"Asia/Jerusalem",63],["Gibraltar","GI",36.14474,-5.35257,"Europe/Gibraltar",11],["Haifa","IL",32.81841,34.9885,"Asia/Jerusalem",40],["Hawaii","US",21.30694,-157.85833,"Pacific/Honolulu",18],["Helsinki","FI",60.16952,24.93545,"Europe/Helsinki",26],["Houston","US",29.76328,-95.36327,"America/Chicago",30],["Jerusalem","IL",31.76904,35.21633,"Asia/Jerusalem",786],["Johannesburg","ZA",-26.20227,28.04363,"Africa/Johannesburg",1767],["Kiev","UA",50.45466,30.5238,"Europe/Kiev",187],["La Paz","BO",-16.5,-68.15,"America/La_Paz",3782],["Livingston","US",40.79593,-74.31487,"America/New_York",98],["Las Vegas","US",36.17497,-115.13722,"America/Los_Angeles",613],["London","GB",51.50853,-.12574,"Europe/London",25],["Los Angeles","US",34.05223,-118.24368,"America/Los_Angeles",96],["Marseilles","FR",43.29695,5.38107,"Europe/Paris",28],["Miami","US",25.77427,-80.19366,"America/New_York",25],["Minneapolis","US",44.97997,-93.26384,"America/Chicago",262],["Melbourne","AU",-37.814,144.96332,"Australia/Melbourne",25],["Mexico City","MX",19.42847,-99.12766,"America/Mexico_City",2240],["Montreal","CA",45.50884,-73.58781,"America/Toronto",216],["Moscow","RU",55.75222,37.61556,"Europe/Moscow",144],["New York","US",40.71427,-74.00597,"America/New_York",57],["Omaha","US",41.25861,-95.93779,"America/Chicago",315],["Ottawa","CA",45.41117,-75.69812,"America/Toronto",71],["Panama City","PA",8.9936,-79.51973,"America/Panama",17],["Paris","FR",48.85341,2.3488,"Europe/Paris",42],["Pawtucket","US",41.87871,-71.38256,"America/New_York",0],["Petach Tikvah","IL",32.08707,34.88747,"Asia/Jerusalem",54],["Philadelphia","US",39.95233,-75.16379,"America/New_York",8],["Phoenix","US",33.44838,-112.07404,"America/Phoenix",366],["Pittsburgh","US",40.44062,-79.99589,"America/New_York",239],["Providence","US",41.82399,-71.41283,"America/New_York",0],["Portland","US",45.52345,-122.67621,"America/Los_Angeles",15],["Saint Louis","US",38.62727,-90.19789,"America/Chicago",149],["Saint Petersburg","RU",59.93863,30.31413,"Europe/Moscow",11],["San Diego","US",32.71533,-117.15726,"America/Los_Angeles",20],["San Francisco","US",37.77493,-122.41942,"America/Los_Angeles",28],["Sao Paulo","BR",-23.5475,-46.63611,"America/Sao_Paulo",769],["Seattle","US",47.60621,-122.33207,"America/Los_Angeles",56],["Sydney","AU",-33.86785,151.20732,"Australia/Sydney",58],["Tel Aviv","IL",32.08088,34.78057,"Asia/Jerusalem",15],["Tiberias","IL",32.79221,35.53124,"Asia/Jerusalem",0],["Toronto","CA",43.70011,-79.4163,"America/Toronto",175],["Vancouver","CA",49.24966,-123.11934,"America/Vancouver",70],["White Plains","US",41.03399,-73.76291,"America/New_York",82],["Washington DC","US",38.89511,-77.03637,"America/New_York",6],["Worcester","US",42.26259,-71.80229,"America/New_York",164]],E0=new Map,RC={0:"UTC",4:"America/Puerto_Rico",5:"America/New_York",6:"America/Chicago",7:"America/Denver",8:"America/Los_Angeles",9:"America/Anchorage",10:"Pacific/Honolulu",11:"Pacific/Pago_Pago",13:"Pacific/Funafuti",14:"Pacific/Guam",15:"Pacific/Palau",16:"Pacific/Chuuk"},DC=new Map;function Xq(t){const e=DC.get(t);if(e)return e;const n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour:"numeric",minute:"numeric",hour12:!1});return DC.set(t,n),n}class Oh extends Gq{constructor(e,n,r,i,s,a,o,l){const c=typeof e=="number"?e:parseFloat(e);if(isNaN(c)||c<-90||c>90)throw new RangeError(`Latitude ${e} out of range [-90,90]`);const h=typeof n=="number"?n:parseFloat(n);if(isNaN(h)||h<-180||h>180)throw new RangeError(`Longitude ${n} out of range [-180,180]`);if(!i)throw new RangeError("Invalid timezone");const f=typeof l=="number"&&l>0?l:0;super(s||null,c,h,f,i),this.il=!!r,this.cc=a,this.geoid=o}getIsrael(){return this.il}getName(){return this.getLocationName()}getShortName(){const e=this.getLocationName();if(!e)return e;const n=e.indexOf(", ");if(n===-1)return e;if(this.cc==="US"&&e[n+2]==="D"){if(e[n+3]==="C")return e.substring(0,n+4);if(e[n+3]==="."&&e[n+4]==="C")return e.substring(0,n+6)}return e.substring(0,n)}getCountryCode(){return this.cc}getTzid(){return this.getTimeZone()}getTimeFormatter(){return Xq(this.getTimeZone())}getGeoId(){return this.geoid}static lookup(e){return E0.get(e.toLowerCase())}toString(){return JSON.stringify(this)}static legacyTzToTzid(e,n){if(e=+e,n==="none")return e===0?"UTC":`Etc/GMT${e>0?"+":""}${e}`;if(e===2&&n==="israel")return"Asia/Jerusalem";if(n==="eu")switch(e){case-2:return"Atlantic/Cape_Verde";case-1:return"Atlantic/Azores";case 0:return"Europe/London";case 1:return"Europe/Paris";case 2:return"Europe/Athens"}else if(n==="usa")return RC[String(e*-1)]}static getUsaTzid(e,n,r){return n=+n,n===10&&e==="AK"?"America/Adak":n===7&&e==="AZ"?r==="Y"?"America/Denver":"America/Phoenix":RC[n]}static addLocation(e,n){const r=e.toLowerCase();return E0.has(r)?!1:(E0.set(r,n),!0)}}for(const t of Qq){const e=new Oh(t[2],t[3],t[1]==="IL",t[4],t[0],t[1],void 0,t[5]);Oh.addLocation(t[0],e)}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */function fi(t){if(t===null)return new Date(NaN);const e=new Date(t.epochMilliseconds);return e.setMilliseconds(0),e}function Jq(t){if(pu(t))return t;if(U.isHDate(t))return t.greg();throw new TypeError(`invalid date: ${t}`)}class Tn{constructor(e,n,r){const i=Jq(n);this.date=i,this.gloc=e;const s=Temporal.PlainDate.from({year:i.getFullYear(),month:i.getMonth()+1,day:i.getDate()});this.noaa=new Y(e,s),this.useElevation=!!r}getUseElevation(){return this.useElevation}setUseElevation(e){this.useElevation=e}timeAtAngle(e,n){const r=90+e,i=n?this.noaa.getSunriseOffsetByDegrees(r):this.noaa.getSunsetOffsetByDegrees(r);return fi(i)}sunrise(){const e=this.useElevation?this.noaa.getSunrise():this.noaa.getSeaLevelSunrise();return fi(e)}seaLevelSunrise(){const e=this.noaa.getSeaLevelSunrise();return fi(e)}sunset(){const e=this.useElevation?this.noaa.getSunset():this.noaa.getSeaLevelSunset();return fi(e)}seaLevelSunset(){const e=this.noaa.getSeaLevelSunset();return fi(e)}dawn(){const e=this.noaa.getBeginCivilTwilight();return fi(e)}dusk(){const e=this.noaa.getEndCivilTwilight();return fi(e)}gregEve(){const e=new Date(this.date);return e.setDate(e.getDate()-1),new Tn(this.gloc,e,this.useElevation).sunset()}nightHour(){return(this.sunrise().getTime()-this.gregEve().getTime())/12}chatzot(){const e=this.noaa.getSeaLevelSunrise(),n=this.noaa.getSeaLevelSunset(),r=this.noaa.getSunTransit(e,n);return fi(r)}chatzotNight(){return new Date(this.sunrise().getTime()-this.nightHour()*6)}alotHaShachar(){return this.timeAtAngle(16.1,!0)}alotHaShachar72(){return this.sunriseOffset(-72,!1,!1)}misheyakir(){return this.timeAtAngle(11.5,!0)}misheyakirMachmir(){return this.timeAtAngle(10.2,!0)}getShaahZmanisBasedZman(e){const n=this.useElevation?this.noaa.getSunrise():this.noaa.getSeaLevelSunrise(),r=this.useElevation?this.noaa.getSunset():this.noaa.getSeaLevelSunset(),i=this.noaa.getTemporalHour(n,r),s=Math.round(i*e),a=Y.getTimeOffset(n,s);return fi(a)}sofZmanShma(){return this.getShaahZmanisBasedZman(3)}sofZmanTfilla(){return this.getShaahZmanisBasedZman(4)}getTemporalHour72(e){const n=this.sunriseOffset(-72,!1,e),i=(this.sunsetOffset(72,!1,e).getTime()-n.getTime())/12;return[n,i]}getTemporalHourByDeg(e){const n=this.timeAtAngle(e,!0),i=(this.timeAtAngle(e,!1).getTime()-n.getTime())/12;return[n,i]}sofZmanShmaMGA(){const[e,n]=this.getTemporalHour72(!0),r=Math.floor(3*n);return new Date(e.getTime()+r)}sofZmanShmaMGA16Point1(){const[e,n]=this.getTemporalHourByDeg(16.1),r=Math.floor(3*n);return new Date(e.getTime()+r)}sofZmanShmaMGA19Point8(){const[e,n]=this.getTemporalHourByDeg(19.8),r=Math.floor(3*n);return new Date(e.getTime()+r)}sofZmanTfillaMGA(){const[e,n]=this.getTemporalHour72(!0),r=Math.floor(4*n);return new Date(e.getTime()+r)}sofZmanTfillaMGA16Point1(){const[e,n]=this.getTemporalHourByDeg(16.1),r=Math.floor(4*n);return new Date(e.getTime()+r)}sofZmanTfillaMGA19Point8(){const[e,n]=this.getTemporalHourByDeg(19.8),r=Math.floor(4*n);return new Date(e.getTime()+r)}minchaGedola(){return this.getShaahZmanisBasedZman(6.5)}minchaGedolaMGA(){const[e,n]=this.getTemporalHour72(!1),r=Math.floor(6.5*n);return new Date(e.getTime()+r)}minchaKetana(){return this.getShaahZmanisBasedZman(9.5)}minchaKetanaMGA(){const[e,n]=this.getTemporalHour72(!1);return new Date(e.getTime()+Math.floor(9.5*n))}plagHaMincha(){return this.getShaahZmanisBasedZman(10.75)}tzeit(e=8.5){return this.timeAtAngle(e,!1)}neitzHaChama(){return this.sunrise()}shkiah(){return this.sunset()}beinHaShmashos(){const e=this.tzeit(7.083),n=e.getTime();return isNaN(n)?e:new Date(n-13.5*60*1e3)}static formatTime(e,n){if(isNaN(e.getTime()))return"XX:XX";const r=n.format(e),i=r.split(":");return i[0]==="24"?"00:"+i[1]:r}static roundTime(e){const n=e.getTime();if(isNaN(n))return e;const r=e.getMilliseconds(),i=e.getSeconds();if(i===0&&r===0)return e;const s=i*1e3+r,a=s>=3e4?6e4-s:-1*s;return new Date(n+a)}static timeZoneOffset(e,n){const r=MB(e,n),i=Math.abs(r),s=Math.floor(i/60),a=i%60;return(r<0?"+":"-")+lg(s)+":"+lg(a)}static formatISOWithTimeZone(e,n){return isNaN(n.getTime())?"0000-00-00T00:00:00Z":p_(e,n).substring(0,19)+Tn.timeZoneOffset(e,n)}sunriseOffset(e,n=!0,r=!1){const i=r?this.seaLevelSunrise():this.sunrise();return isNaN(i.getTime())?i:(n&&(e>0&&i.getSeconds()>=30&&e++,i.setSeconds(0,0)),new Date(i.getTime()+e*60*1e3))}sunsetOffset(e,n=!0,r=!1){const i=r?this.seaLevelSunset():this.sunset();return isNaN(i.getTime())?i:(n&&(e>0&&i.getSeconds()>=30&&e++,i.setSeconds(0,0)),new Date(i.getTime()+e*60*1e3))}static makeSunsetAwareHDate(e,n,r){const s=new Tn(e,n,r).sunset();let a=new U(n);const o=s.getTime();return isNaN(o)||n.getTime()>=o&&(a=a.next()),a}}class C3 extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[n,r]of e)this.onEviction(n,r.value)}_deleteIfExpired(e,n){return typeof n.expiry=="number"&&n.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,n.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,n){if(this._deleteIfExpired(e,n)===!1)return n.value}_getItemValue(e,n){return n.expiry?this._getOrDeleteIfExpired(e,n):n.value}_peek(e,n){const r=n.get(e);return this._getItemValue(e,r)}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,n){this.oldCache.delete(e),this._set(e,n)}*_entriesAscending(){for(const e of this.oldCache){const[n,r]=e;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield e)}for(const e of this.cache){const[n,r]=e;this._deleteIfExpired(n,r)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const n=this.cache.get(e);return this._getItemValue(e,n)}if(this.oldCache.has(e)){const n=this.oldCache.get(e);if(this._deleteIfExpired(e,n)===!1)return this._moveToRecent(e,n),n.value}}set(e,n,{maxAge:r=this.maxAge}={}){const i=typeof r=="number"&&r!==Number.POSITIVE_INFINITY?Date.now()+r:void 0;return this.cache.has(e)?this.cache.set(e,{value:n,expiry:i}):this._set(e,{value:n,expiry:i}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const n=[...this._entriesAscending()],r=n.length-e;r<0?(this.cache=new Map(n),this.oldCache=new Map,this._size=n.length):(r>0&&this._emitEvictions(n.slice(0,r)),this.oldCache=new Map(n.slice(r)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[n,r]=e;this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}for(const e of this.oldCache){const[n,r]=e;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}}*entriesDescending(){let e=[...this.cache];for(let n=e.length-1;n>=0;--n){const r=e[n],[i,s]=r;this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}e=[...this.oldCache];for(let n=e.length-1;n>=0;--n){const r=e[n],[i,s]=r;this.cache.has(i)||this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}}*entriesAscending(){for(const[e,n]of this._entriesAscending())yield[e,n.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,n=this){for(const[r,i]of this.entriesAscending())e.call(n,i,r,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const R3=0,Wq=2,e$=5,t$=6,Wd=K.NISAN,n$=K.IYYAR;function r$(t){if(t<5711)return null;let e=new U(27,Wd,t);return e.getDay()===e$?e=new U(26,Wd,t):e.getDay()===R3&&(e=new U(28,Wd,t)),e}function D3(t){if(t<5708)return null;let e;const r=new U(15,Wd,t).getDay();return r===R3?e=2:r===t$?e=3:t<5764?e=4:r===Wq?e=5:e=4,new U(e,n$,t)}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */function N3(t,e){const n=e??Z.getLocaleName();let r=Z.gettext(t[0],n);return t.length===2&&(r+=(n==="he"?"־":"-")+Z.gettext(t[1],n)),r=r.replace(/'/g,"’"),(Z.gettext("Parashat",e)+" "+r).normalize()}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const i$=0,s$=1,a$=2;function o$(t){const e=U.longCheshvan(t),n=U.shortKislev(t);return e&&!n?a$:!e&&n?i$:s$}class l${constructor(e,n){e=+e,this.year=e;const r=new U(1,K.TISHREI,e),i=r.abs(),s=r.getDay()+1;this.firstSaturday=U.dayOnOrBefore(6,i+6);const a=+U.isLeapYear(e);this.il=!!n;const o=o$(e);let l=`${a}${s}${o}`;if(an[l]?(this.theSedraArray=an[l],this.yearKey=l):(l=l+ +this.il,this.theSedraArray=an[l],this.yearKey=l),!this.theSedraArray)throw new Error(`improper sedra year type ${l} calculated for ${e}`)}get(e){return this.lookup(e).parsha}getString(e,n){const r=this.get(e);return N3(r,n)}isParsha(e){return!this.lookup(e).chag}find(e){if(typeof e=="number"){if(e>=hl.length||e<0&&!ud(e))throw new RangeError(`Invalid parsha number: ${e}`);return this.findInternal(e)}else if(typeof e=="string"){const n=Cc.get(e);return typeof n=="number"?this.find(n):e.indexOf("-")!==-1?e===yi||e===DS?this.findInternal(e):this.find(e.split("-")):this.findInternal(e)}else if(Array.isArray(e)){const n=e.length;if(n!==1&&n!==2||typeof e[0]!="string")throw new TypeError(`Invalid parsha argument: ${JSON.stringify(e)}`);if(n===1)return this.find(e[0]);const r=e[0],i=e[1],s=Cc.get(r),a=Cc.get(i);if(typeof s!="number"||typeof a!="number"||a!==s+1||!ud(-s))throw new RangeError(`Unrecognized parsha name: ${r}-${i}`);return this.find(-s)}return null}findInternal(e){const n=this.theSedraArray.indexOf(e);return n===-1?null:new U(this.firstSaturday+n*7)}findContaining(e){const n=this.find(e);if(n)return n;if(typeof e=="number"){const r=-e;return ud(r)?this.find(r):this.find(r+1)}else{const r=Cc.get(e);if(r){const i=-r;return ud(i)?this.find(i):this.find(i+1)}else{const[i]=e.split("-");return this.find(i)}}}getSedraArray(){return this.theSedraArray}getFirstSaturday(){return this.firstSaturday}getYear(){return this.year}lookup(e){const n=typeof e=="number"?e:U.isHDate(e)?e.abs():NaN;if(isNaN(n))throw new TypeError(`Bad date argument: ${e}`);const r=U.dayOnOrBefore(6,n+6),i=(r-this.firstSaturday)/7,s=this.theSedraArray[i];if(typeof s>"u")return Fp(this.year+1,this.il).lookup(r);const a=new U(r);if(typeof s=="string")return{parsha:[s],chag:!0,hdate:a};if(s>=0)return{parsha:[hl[s]],chag:!1,num:s+1,hdate:a};const o=J(s);return{parsha:[hl[o],hl[o+1]],chag:!1,num:[o+1,o+2],hdate:a}}}const hl=["Bereshit","Noach","Lech-Lecha","Vayera","Chayei Sara","Toldot","Vayetzei","Vayishlach","Vayeshev","Miketz","Vayigash","Vayechi","Shemot","Vaera","Bo","Beshalach","Yitro","Mishpatim","Terumah","Tetzaveh","Ki Tisa","Vayakhel","Pekudei","Vayikra","Tzav","Shmini","Tazria","Metzora","Achrei Mot","Kedoshim","Emor","Behar","Bechukotai","Bamidbar","Nasso","Beha'alotcha","Sh'lach","Korach","Chukat","Balak","Pinchas","Matot","Masei","Devarim","Vaetchanan","Eikev","Re'eh","Shoftim","Ki Teitzei","Ki Tavo","Nitzavim","Vayeilech","Ha'azinu"],Cc=new Map;for(let t=0;t<hl.length;t++){const e=hl[t];Cc.set(e,t)}const u$=[21,26,28,31,38,41,50];function ud(t){return u$.includes(-t)}function J(t){return-t}const c$="Rosh Hashana",h$="Yom Kippur",f$="Sukkot",DS="Sukkot Shabbat Chol ha-Moed",d$="Shmini Atzeret",NC="Pesach",MC="Pesach I",yi="Pesach Shabbat Chol ha-Moed",T0="Pesach VII",OC="Pesach VIII",S0="Shavuot";function mt(t,e){return Array.from({length:e-t+1},(n,r)=>r+t)}const Bo=[51,52,DS],oc=[52,h$,DS],cd=[c$,52,f$,d$],zo=mt(0,20),Fo=mt(0,27),lc=mt(33,40),Pa=mt(43,49),uc=mt(43,50),an={"020":Bo.concat(zo,J(21),23,24,yi,25,J(26),J(28),30,J(31),lc,J(41),Pa,J(50)),"0220":Bo.concat(zo,J(21),23,24,yi,25,J(26),J(28),30,J(31),33,S0,mt(34,37),J(38),40,J(41),Pa,J(50)),"0510":oc.concat(zo,J(21),23,24,MC,OC,25,J(26),J(28),30,J(31),lc,J(41),uc),"0511":oc.concat(zo,J(21),23,24,NC,25,J(26),J(28),mt(30,40),J(41),uc),"052":oc.concat(mt(0,24),T0,25,J(26),J(28),30,J(31),lc,J(41),uc),"070":cd.concat(zo,J(21),23,24,T0,25,J(26),J(28),30,J(31),lc,J(41),uc),"072":cd.concat(zo,J(21),23,24,yi,25,J(26),J(28),30,J(31),lc,J(41),Pa,J(50)),1200:Bo.concat(Fo,yi,mt(28,33),S0,mt(34,37),J(38),40,J(41),Pa,J(50)),1201:Bo.concat(Fo,yi,mt(28,40),J(41),Pa,J(50)),1220:Bo.concat(Fo,MC,OC,mt(28,40),J(41),uc),1221:Bo.concat(Fo,NC,mt(28,50)),150:oc.concat(mt(0,28),T0,mt(29,50)),152:oc.concat(mt(0,28),yi,mt(29,49),J(50)),170:cd.concat(Fo,yi,mt(28,40),J(41),Pa,J(50)),1720:cd.concat(Fo,yi,mt(28,33),S0,mt(34,37),J(38),40,J(41),Pa,J(50))};an["0221"]=an["020"];an["0310"]=an["0220"];an["0311"]=an["020"];an[1310]=an[1220];an[1311]=an[1221];an[1721]=an[170];const xC=new C3({maxSize:400});function Fp(t,e){const n=`${t}-${e?1:0}`;let r=xC.get(n);return r||(r=new l$(t,e),xC.set(n,r)),r}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const Dt=K.NISAN,_g=K.IYYAR,hd=K.SIVAN,m$=K.TAMUZ,g$=K.AV,kC=K.ELUL,at=K.TISHREI,w0=K.CHESHVAN,M3=K.KISLEV,O3=K.SHVAT,b0=K.ADAR_II,kt=F.CHAG,Mr=F.LIGHT_CANDLES,Gn=F.YOM_TOV_ENDS,ft=F.CHUL_ONLY,Lt=F.IL_ONLY,cc=F.LIGHT_CANDLES_TZEIS,p$=F.CHANUKAH_CANDLES,y$=F.MAJOR_FAST,di=F.MINOR_HOLIDAY,mi=F.EREV,St=F.CHOL_HAMOED,fn="🫓",nn="🌿🍋",v$="Rosh Hashana II",_$="Erev Yom Kippur",E$="Yom Kippur",LC="Erev Sukkot",VC="Sukkot I",T$="Sukkot II",PC="Sukkot III (CH''M)",UC="Sukkot IV (CH''M)",HC="Sukkot V (CH''M)",jC="Sukkot VI (CH''M)",BC="Shmini Atzeret",S$="Simchat Torah",w$="Sukkot II (CH''M)",b$="Sukkot VII (Hoshana Raba)",A$="Chanukah: 1 Candle",x3="Tu BiShvat",k3="Erev Purim",I$="Purim",L3="Shushan Purim",zC="Erev Pesach",FC="Pesach I",C$="Pesach II",R$="Pesach II (CH''M)",YC="Pesach III (CH''M)",qC="Pesach IV (CH''M)",$C="Pesach V (CH''M)",GC="Pesach VI (CH''M)",KC="Pesach VII",D$="Pesach VIII",V3="Pesach Sheni",P3="Lag BaOmer",N$="Erev Shavuot",M$="Shavuot",O$="Shavuot I",x$="Shavuot II",U3="Tu B'Av",H3="Rosh Hashana LaBehemot",k$="Erev Rosh Hashana",L$="Yom Yerushalayim",V$="Ben-Gurion Day",P$="Family Day",U$="Yitzhak Rabin Memorial Day",H$="Herzl Day",j$="Jabotinsky Day",B$="Sigd",z$="Yom HaAliyah",F$="Yom HaAliyah School Observance",Y$="Hebrew Language Day",ve={ASARA_BTEVET:"Asara B'Tevet",BIRKAT_HACHAMAH:"Birkat Hachamah",CHAG_HABANOT:"Chag HaBanot",CHANUKAH_8TH_DAY:"Chanukah: 8th Day",EREV_TISHA_BAV:"Erev Tish'a B'Av",LEIL_SELICHOT:"Leil Selichot",PURIM_KATAN:"Purim Katan",PURIM_MESHULASH:"Purim Meshulash",SHABBAT_CHAZON:"Shabbat Chazon",SHABBAT_HACHODESH:"Shabbat HaChodesh",SHABBAT_HAGADOL:"Shabbat HaGadol",SHABBAT_NACHAMU:"Shabbat Nachamu",SHABBAT_PARAH:"Shabbat Parah",SHABBAT_SHEKALIM:"Shabbat Shekalim",SHABBAT_SHIRAH:"Shabbat Shirah",SHABBAT_SHUVA:"Shabbat Shuva",SHABBAT_ZACHOR:"Shabbat Zachor",SHUSHAN_PURIM_KATAN:"Shushan Purim Katan",TAANIT_BECHOROT:"Ta'anit Bechorot",TAANIT_ESTHER:"Ta'anit Esther",TISHA_BAV:"Tish'a B'Av",TZOM_GEDALIAH:"Tzom Gedaliah",TZOM_TAMMUZ:"Tzom Tammuz",YOM_HAATZMA_UT:"Yom HaAtzma'ut",YOM_HASHOAH:"Yom HaShoah",YOM_HAZIKARON:"Yom HaZikaron",EREV_PURIM:k3,LAG_BAOMER:P3,PESACH_SHENI:V3,ROSH_HASHANA_LABEHEMOT:H3,SHUSHAN_PURIM:L3,TU_BAV:U3,TU_BISHVAT:x3},q$=[{mm:at,dd:2,desc:v$,flags:kt|Gn,emoji:"🍏🍯"},{mm:at,dd:9,desc:_$,flags:mi|Mr},{mm:at,dd:10,desc:E$,flags:kt|y$|Gn},{mm:at,dd:14,desc:LC,flags:ft|mi|Mr,emoji:nn},{mm:at,dd:15,desc:VC,flags:ft|kt|cc,emoji:nn},{mm:at,dd:16,desc:T$,flags:ft|kt|Gn,emoji:nn},{mm:at,dd:17,desc:PC,flags:ft|St,chmDay:1,emoji:nn},{mm:at,dd:18,desc:UC,flags:ft|St,chmDay:2,emoji:nn},{mm:at,dd:19,desc:HC,flags:ft|St,chmDay:3,emoji:nn},{mm:at,dd:20,desc:jC,flags:ft|St,chmDay:4,emoji:nn},{mm:at,dd:22,desc:BC,flags:ft|kt|cc},{mm:at,dd:23,desc:S$,flags:ft|kt|Gn},{mm:at,dd:14,desc:LC,flags:Lt|mi|Mr,emoji:nn},{mm:at,dd:15,desc:VC,flags:Lt|kt|Gn,emoji:nn},{mm:at,dd:16,desc:w$,flags:Lt|St,chmDay:1,emoji:nn},{mm:at,dd:17,desc:PC,flags:Lt|St,chmDay:2,emoji:nn},{mm:at,dd:18,desc:UC,flags:Lt|St,chmDay:3,emoji:nn},{mm:at,dd:19,desc:HC,flags:Lt|St,chmDay:4,emoji:nn},{mm:at,dd:20,desc:jC,flags:Lt|St,chmDay:5,emoji:nn},{mm:at,dd:22,desc:BC,flags:Lt|kt|Gn},{mm:at,dd:21,desc:b$,flags:Mr|St,chmDay:-1,emoji:nn},{mm:M3,dd:24,desc:A$,flags:mi|di|p$,emoji:"🕎1️⃣"},{mm:O3,dd:15,desc:x3,flags:di,emoji:"🌳"},{mm:b0,dd:13,desc:k3,flags:mi|di,emoji:"🎭️📜"},{mm:b0,dd:14,desc:I$,flags:di,emoji:"🎭️📜"},{mm:b0,dd:15,desc:L3,flags:di,emoji:"🎭️📜"},{mm:Dt,dd:14,desc:zC,flags:Lt|mi|Mr,emoji:"🫓🍷"},{mm:Dt,dd:15,desc:FC,flags:Lt|kt|Gn,emoji:fn},{mm:Dt,dd:16,desc:R$,flags:Lt|St,chmDay:1,emoji:fn},{mm:Dt,dd:17,desc:YC,flags:Lt|St,chmDay:2,emoji:fn},{mm:Dt,dd:18,desc:qC,flags:Lt|St,chmDay:3,emoji:fn},{mm:Dt,dd:19,desc:$C,flags:Lt|St,chmDay:4,emoji:fn},{mm:Dt,dd:20,desc:GC,flags:Lt|St|Mr,chmDay:5,emoji:fn},{mm:Dt,dd:21,desc:KC,flags:Lt|kt|Gn,emoji:fn},{mm:Dt,dd:14,desc:zC,flags:ft|mi|Mr,emoji:"🫓🍷"},{mm:Dt,dd:15,desc:FC,flags:ft|kt|cc,emoji:"🫓🍷"},{mm:Dt,dd:16,desc:C$,flags:ft|kt|Gn,emoji:fn},{mm:Dt,dd:17,desc:YC,flags:ft|St,chmDay:1,emoji:fn},{mm:Dt,dd:18,desc:qC,flags:ft|St,chmDay:2,emoji:fn},{mm:Dt,dd:19,desc:$C,flags:ft|St,chmDay:3,emoji:fn},{mm:Dt,dd:20,desc:GC,flags:ft|St|Mr,chmDay:4,emoji:fn},{mm:Dt,dd:21,desc:KC,flags:ft|kt|cc,emoji:fn},{mm:Dt,dd:22,desc:D$,flags:ft|kt|Gn,emoji:fn},{mm:_g,dd:14,desc:V3,flags:di},{mm:_g,dd:18,desc:P3,flags:di,emoji:"🔥"},{mm:hd,dd:5,desc:N$,flags:mi|Mr,emoji:"⛰️🌸"},{mm:hd,dd:6,desc:M$,flags:Lt|kt|Gn,emoji:"⛰️🌸"},{mm:hd,dd:6,desc:O$,flags:ft|kt|cc,emoji:"⛰️🌸"},{mm:hd,dd:7,desc:x$,flags:ft|kt|Gn,emoji:"⛰️🌸"},{mm:g$,dd:15,desc:U3,flags:di,emoji:"❤️"},{mm:kC,dd:1,desc:H3,flags:di,emoji:"🐑"},{mm:kC,dd:29,desc:k$,flags:mi|Mr,emoji:"🍏🍯"}],$$=[{firstYear:5727,mm:_g,dd:28,desc:L$,chul:!0},{firstYear:5737,mm:M3,dd:6,desc:V$,satPostponeToSun:!0,friPostponeToSun:!0},{firstYear:5750,mm:O3,dd:30,desc:P$},{firstYear:5758,mm:w0,dd:12,desc:U$,friSatMovetoThu:!0},{firstYear:5764,mm:_g,dd:10,desc:H$,satPostponeToSun:!0},{firstYear:5765,mm:m$,dd:29,desc:j$,satPostponeToSun:!0},{firstYear:5769,mm:w0,dd:29,desc:B$,chul:!0,suppressEmoji:!0,friSatMovetoThu:!0},{firstYear:5777,mm:Dt,dd:10,desc:z$,chul:!0},{firstYear:5777,mm:w0,dd:7,desc:F$},{firstYear:5773,mm:K.TEVET,dd:21,desc:Y$,friSatMovetoThu:!0}];/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */class we extends ei{basename(){return this.getDesc().replace(/ \d{4}$/,"").replace(/ \(CH''M\)$/,"").replace(/ \(observed\)$/,"").replace(/ \(Hoshana Raba\)$/,"").replace(/ [IV]+$/,"").replace(/: \d Candles?$/,"").replace(/: 8th Day$/,"").replace(/^Erev /,"")}url(){if(this.getDate().greg().getFullYear()<100)return;const n="https://www.hebcal.com/holidays/"+this.basename().toLowerCase().replace(/'/g,"").replace(/ /g,"-")+"-"+this.urlDateSuffix();return this.getFlags()&F.IL_ONLY?n+"?i=on":n}urlDateSuffix(){const e=this.getDate().greg().getFullYear();return String(e)}getEmoji(){return this.emoji?this.emoji:this.getFlags()&F.SPECIAL_SHABBAT?"🕍":"✡️"}getCategories(){if(this.cholHaMoedDay)return["holiday","major","cholhamoed"];const e=super.getCategories();if(e[0]!=="unknown")return e;switch(this.getDesc()){case ve.LAG_BAOMER:case ve.LEIL_SELICHOT:case ve.PESACH_SHENI:case ve.EREV_PURIM:case ve.PURIM_KATAN:case ve.SHUSHAN_PURIM:case ve.TU_BAV:case ve.TU_BISHVAT:case ve.ROSH_HASHANA_LABEHEMOT:return["holiday","minor"]}return["holiday","major"]}render(e){return super.render(e).replace(/'/g,"’")}renderBrief(e){return super.renderBrief(e).replace(/'/g,"’")}clone(){const e=new we(this.date,this.desc,this.mask);return Object.assign(e,this),e}}class G$ extends we{urlDateSuffix(){return Sx(this.getDate().greg()).replace(/-/g,"")}}class N_ extends we{urlDateSuffix(){const e=this.getDate().greg();let n=e.getFullYear();return e.getMonth()===0&&n--,String(n)}}class K$ extends we{constructor(e,n,r){super(e,`Rosh Hashana ${n}`,r),this.hyear=n}render(e){return Z.gettext("Rosh Hashana",e)+" "+this.hyear}getEmoji(){return"🍏🍯"}}const A0="Rosh Chodesh";class I0 extends we{constructor(e,n){super(e,`${A0} ${n}`,F.ROSH_CHODESH)}render(e){const n=this.getDesc().substring(A0.length+1),i=Z.gettext(n,e).replace(/'/g,"’");return Z.gettext(A0,e)+" "+i}basename(){return this.getDesc()}getEmoji(){return this.emoji||"🌒"}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const C0="Yom Kippur Katan";class Z$ extends we{constructor(e,n){super(e,`${C0} ${n}`,F.MINOR_FAST|F.YOM_KIPPUR_KATAN),this.nextMonthName=n,this.memo=`Minor Day of Atonement on the day preceeding Rosh Chodesh ${n}`}basename(){return this.getDesc()}render(e){const r=Z.gettext(this.nextMonthName,e).replace(/'/g,"’");return Z.gettext(C0,e)+" "+r}renderBrief(e){return Z.gettext(C0,e)}url(){}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */function j3(t){return t.observedInIsrael()}function B3(t){return t.observedInDiaspora()}function Q$(t){return t?j3:B3}function z3(t,e){const n=U.isHDate(t)?t:new U(t),r=n.toString(),s=Yp(n.getFullYear()).get(r);return typeof e>"u"||typeof s>"u"?s:s.filter(Q$(e))}const X$=F.CHAG,J$=F.IL_ONLY,W$=F.LIGHT_CANDLES_TZEIS,eG=F.CHANUKAH_CANDLES,hc=F.MINOR_FAST,gi=F.SPECIAL_SHABBAT,fc=F.MODERN_HOLIDAY,ZC=F.MAJOR_FAST,fs=F.MINOR_HOLIDAY,QC=F.EREV,tG=0,nG=2,fd=4,R0=5,dn=6,em=K.NISAN,XC=K.TAMUZ,rG=K.AV,Ya=K.TISHREI,D0=K.KISLEV,N0=K.TEVET,JC=K.ADAR_I,F3=K.ADAR_II,WC={emoji:"🇮🇱"},eR="🕎",tR=new C3({maxSize:400}),iG=["0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣"];function Yp(t){if(typeof t!="number")throw new TypeError(`bad Hebrew year: ${t}`);if(t<1||t>32658)throw new RangeError(`Hebrew year ${t} out of range 1-32658`);const e=tR.get(t);if(e)return e;const n=new U(1,Ya,t),r=new U(15,em,t),i=new Map;function s(...k){for(const S of k){const T=S.date.toString(),E=i.get(T);typeof E=="object"?E[0].getFlags()&QC?E.unshift(S):E.push(S):i.set(T,[S])}}for(const k of q$){const S=new U(k.dd,k.mm,t),T=new we(S,k.desc,k.flags);k.emoji&&(T.emoji=k.emoji),k.chmDay&&(T.cholHaMoedDay=k.chmDay),s(T)}s(new K$(n,t,X$|W$));const a=n.getDay()===fd?4:3;s(new we(new U(a,Ya,t),ve.TZOM_GEDALIAH,hc)),s(new we(new U(U.dayOnOrBefore(dn,7+n.abs())),ve.SHABBAT_SHUVA,gi));const o=U.shortKislev(t)?new U(1,N0,t):new U(30,D0,t);s(new we(o,ve.CHAG_HABANOT,fs));for(let k=2;k<=8;k++){const S=new U(23+k,D0,t);s(new N_(S,`Chanukah: ${k} Candles`,fs|eG,{chanukahDay:k-1,emoji:eR+iG[k]}))}s(new N_(new U(32,D0,t),ve.CHANUKAH_8TH_DAY,fs,{chanukahDay:8,emoji:eR})),s(new G$(new U(10,N0,t),ve.ASARA_BTEVET,hc));const l=r.abs();s(new we(new U(U.dayOnOrBefore(dn,l-43)),ve.SHABBAT_SHEKALIM,gi),new we(new U(U.dayOnOrBefore(dn,l-30)),ve.SHABBAT_ZACHOR,gi),new we(new U(l-(r.getDay()===nG?33:31)),ve.TAANIT_ESTHER,hc));const c=U.dayOnOrBefore(dn,l-14);s(new we(new U(c-7),ve.SHABBAT_PARAH,gi),new we(new U(c),ve.SHABBAT_HACHODESH,gi),new we(new U(U.dayOnOrBefore(dn,l-1)),ve.SHABBAT_HAGADOL,gi),new we(r.prev().getDay()===dn?r.onOrBefore(fd):new U(14,em,t),ve.TAANIT_BECHOROT,hc)),s(new we(new U(U.dayOnOrBefore(dn,new U(1,Ya,t+1).abs()-4)),ve.LEIL_SELICHOT,fs,{emoji:"🕍"})),r.getDay()===tG&&s(new we(new U(16,F3,t),ve.PURIM_MESHULASH,fs)),U.isLeapYear(t)&&(s(new we(new U(14,JC,t),ve.PURIM_KATAN,fs,{emoji:"🎭️"})),s(new we(new U(15,JC,t),ve.SHUSHAN_PURIM_KATAN,fs,{emoji:"🎭️"})));const h=r$(t);h&&s(new we(h,ve.YOM_HASHOAH,fc));const f=D3(t);f&&s(new we(f,ve.YOM_HAZIKARON,fc,WC),new we(f.next(),ve.YOM_HAATZMA_UT,fc,WC));for(const k of $$)if(t>=k.firstYear){let S=new U(k.dd,k.mm,t);const T=S.getDay();k.friSatMovetoThu&&(T===R0||T===dn)?S=S.onOrBefore(fd):k.friPostponeToSun&&T===R0?S=new U(S.abs()+2):k.satPostponeToSun&&T===dn&&(S=S.next());const E=k.chul?fc:fc|J$,R=new we(S,k.desc,E);k.suppressEmoji||(R.emoji="🇮🇱"),s(R)}let d=new U(17,XC,t),p;d.getDay()===dn&&(d=new U(18,XC,t),p={observed:!0}),s(new we(d,ve.TZOM_TAMMUZ,hc,p));let y=new U(9,rG,t),w=ve.TISHA_BAV,C;y.getDay()===dn&&(y=y.next(),C={observed:!0},w+=" (observed)");const v=y.abs();s(new we(new U(U.dayOnOrBefore(dn,v)),ve.SHABBAT_CHAZON,gi),new we(y.prev(),ve.EREV_TISHA_BAV,QC|ZC,C),new we(y,w,ZC,C),new we(new U(U.dayOnOrBefore(dn,v+7)),ve.SHABBAT_NACHAMU,gi));const _=U.monthsInYear(t);for(let k=1;k<=_;k++){const S=U.getMonthName(k,t);(k===em?U.daysInMonth(U.monthsInYear(t-1),t-1):U.daysInMonth(k-1,t))===30?(s(new I0(new U(1,k,t),S)),s(new I0(new U(30,k-1,t),S))):k!==Ya&&s(new I0(new U(1,k,t),S))}for(let k=K.IYYAR;k<=_;k++){const S=k+1;if(S===Ya||S===K.CHESHVAN||S===N0)continue;let T=new U(29,k,t);const E=T.getDay();(E===R0||E===dn)&&(T=T.onOrBefore(fd));const R=U.getMonthName(S,t),D=new Z$(T,R);s(D)}const M=Fp(t,!1).find(15);s(new we(M,ve.SHABBAT_SHIRAH,gi));const V=sG(t);if(V){const k=new U(V);s(new we(k,ve.BIRKAT_HACHAMAH,fs,{emoji:"☀️"}))}return tR.set(t,i),i}function sG(t){const e=U.isLeapYear(t),n=e?F3:em,r=e?20:1,i=U.hebrew2abs(t,n,r);for(let s=0;s<=40;s++){const a=i+s;if((a+1373429)%10227===172)return a}return 0}function nR(t,e){const n=Yp(t),r=U.hebrew2abs(t,Ya,1),i=U.hebrew2abs(t+1,Ya,1)-1;let s=[];const a=e?j3:B3;for(let o=r;o<=i;o++){const l=new U(o),c=n.get(l.toString());if(c){const h=c.filter(a);s=s.concat(h)}}return s}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const aG={US:1,CA:1,BR:1,AU:1,NZ:1,DO:1,PR:1,GR:1,IN:1,KR:1,NP:1,ZA:1};function NS(t,e,n){var r;if(typeof t!="string")throw new TypeError(`Bad timeStr: ${t}`);const i=((r=n==null?void 0:n.location)===null||r===void 0?void 0:r.getCountryCode())||(n!=null&&n.il?"IL":"US"),s=n==null?void 0:n.hour12;if(typeof s<"u"&&!s||!s&&typeof aG[i]>"u")return t;const a=t.split(":");let o=parseInt(a[0],10);return o<12&&e?(e=e.replace("p","a").replace("P","A"),o===0&&(o=12)):o>12?o=o%12:o===0&&(o="00"),`${o}:${a[1]}${e}`}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */class MS extends ei{constructor(e,n,r,i,s,a,o){super(e,n,r),this.eventTime=Tn.roundTime(i),this.location=s;const l=s.getTimeFormatter();this.eventTimeStr=Tn.formatTime(this.eventTime,l);const c=Object.assign(Object.assign({},o),{location:s});this.fmtTime=NS(this.eventTimeStr,"pm",c),typeof a<"u"&&(this.linkedEvent=a)}render(e){return Z.gettext(this.getDesc(),e)+": "+this.fmtTime}renderBrief(e){return Z.gettext(this.getDesc(),e)}getCategories(){switch(this.getDesc()){case"Candle lighting":return["candles"];case"Havdalah":return["havdalah"];case"Fast begins":case"Fast ends":return["zmanim","fast"]}return["unknown"]}}class oG extends MS{constructor(e,n,r,i,s,a){super(e,"Candle lighting",n,r,i,s,a)}getEmoji(){return"🕯️"}}class Y3 extends MS{constructor(e,n,r,i,s,a,o){super(e,"Havdalah",n,r,i,a,o),s&&(this.havdalahMins=s)}render(e){return this.renderBrief(e)+": "+this.fmtTime}renderBrief(e){let n=Z.gettext(this.getDesc(),e);if(this.havdalahMins){const r=Z.gettext("min",e);n+=` (${this.havdalahMins} ${r})`}return n}getEmoji(){return"✨"}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const rR=F.LIGHT_CANDLES,iR=F.LIGHT_CANDLES_TZEIS;function q3(t,e,n,r,i){let s=!1,a=i,o=t?t.getFlags():rR;typeof t<"u"?r||(o&(iR|F.CHANUKAH_CANDLES)?a=!0:o&F.YOM_TOV_ENDS&&(s=!0,a=!0)):i&&(s=!0,o=iR);const l=Number(a?n.havdalahMins:n.candleLightingMins),c=n.location,h=!!n.useElevation,f=new Tn(c,e,h),d=a&&!l?f.tzeit(n.havdalahDeg):f.sunsetOffset(l,!0);if(!isNaN(d.getTime()))return s?new Y3(e,o,d,c,n.havdalahMins,t,n):(o|=rR,new oG(e,o,d,c,t,n))}const sR="Fast begins",aR="Fast ends";class lG extends we{constructor(e,n,r){super(e.getDate(),e.getDesc(),e.getFlags()),this.linkedEvent=e,this.startEvent=n,this.endEvent=r}render(e){return this.linkedEvent.render(e)}renderBrief(e){return this.linkedEvent.renderBrief(e)}urlDateSuffix(){return this.linkedEvent.urlDateSuffix()}url(){return this.linkedEvent.url()}getEmoji(){return this.linkedEvent.getEmoji()}getCategories(){return this.linkedEvent.getCategories()}}function uG(t,e){const n=t.getDesc();if(n==="Yom Kippur")throw new RangeError("YK does not require this function");const r=t.getDate(),i=r.greg(),s=e.location,a=e.fastEndDeg,o=!!e.useElevation,l=new Tn(s,i,o);let c,h;if(n==="Erev Tish'a B'Av"){const d=l.sunset();isNaN(d.getTime())||(c=dd(t,d,sR,e))}else if(n.startsWith("Tish'a B'Av")){const d=l.tzeit(a);isNaN(d.getTime())||(h=dd(t,d,aR,e))}else{const d=l.alotHaShachar();if(isNaN(d.getTime())||(c=dd(t,d,sR,e)),i.getDay()!==5&&!(r.getDate()===14&&r.getMonth()===K.NISAN)){const p=l.tzeit(a);isNaN(p.getTime())||(h=dd(t,p,aR,e))}}const f=new lG(t,c,h);return Object.assign(f,t),f}function dd(t,e,n,r){const i=r.location,s=t.getDate();return new MS(s,n,t.getFlags(),e,i,t,r)}class cG extends N_{constructor(e,n,r,i,s){super(e,n,r),this.eventTime=Tn.roundTime(i);const a=s.getTimeFormatter();this.eventTimeStr=Tn.formatTime(this.eventTime,a),this.location=s}}function hG(t,e,n){const r=n.location,i=!!n.useElevation,a=new Tn(r,e.greg(),i).beinHaShmashos();if(isNaN(a.getTime()))return null;const o=new cG(e,t.getDesc(),t.getFlags(),a,r);return o.emoji=t.emoji,o.chanukahDay=t.chanukahDay,o}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const fG=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dG=["רִאשׁוֹן","שֵׁנִי","שְׁלִישִׁי","רְבִיעִי","חֲמִישִׁי","שִׁישִּׁי","שַׁבָּת"],mG=["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],oR="בַּלַּ֥יְלָה";function gG(t){return t<5?oR:t<12?"בַּבֹּקֶר":t<17?"בַּצׇּהֳרַיִים":t<21?"בָּעֶרֶב":oR}class OS{constructor(e,n){this.m=RB(e,n)}getYear(){return this.m.year}getMonth(){return this.m.month}getMonthName(){return U.getMonthName(this.m.month,this.m.year)}getDow(){return this.m.dayOfWeek}getHour(){return this.m.hour}getMinutes(){return this.m.minutes}getChalakim(){return this.m.chalakim}render(e,n){var r;e=e??Z.getLocaleName(),typeof e=="string"&&(e=e.toLowerCase());const i=e==="he"||e==="he-x-nonikud"||e==="h",s=e==="fr",a=Z.gettext(this.getMonthName(),e),l=(i?dG:s?mG:fG)[this.getDow()],c=this.getMinutes(),h=this.getHour(),f=this.getChalakim(),d=Z.gettext("Molad",e),p=(r=Z.lookupTranslation("min",e))!==null&&r!==void 0?r:"minutes",y=Z.gettext("chalakim",e),w=Z.gettext("and",e),C=Z.gettext("after",e);if(i){const A=gG(h),M=`${d} ${a} יִהְיֶה בַּיּוֹם ${l} בשָׁבוּעַ, בְּשָׁעָה ${h} ${A}, ו-${c} ${p} ו-${f} ${y}`;return e==="he-x-nonikud"?Z.hebrewStripNikkud(M):M}const v=NS(`${h}:00`,"pm",n),_=a.replace(/'/g,"’");return`${d} ${_}: ${l}, ${c} ${p} ${w} ${f} ${y} ${C} ${v}`}}class pG extends ei{constructor(e,n,r,i){const s=new OS(n,r),a=s.getMonthName();super(e,`Molad ${a} ${n}`,F.MOLAD),this.molad=s,this.options=i}render(e){return this.molad.render(e,this.options)}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const yG={en:{infix:"within ",infix26:"within ",words:["","Lovingkindness","Might","Beauty","Eternity","Splendor","Foundation","Majesty"],pfxWords:null},he:{infix:null,infix26:null,words:["","חֶֽסֶד","גְּבוּרָה","תִּפְאֶֽרֶת","נֶּֽצַח","הוֹד","יְּסוֹד","מַלְכוּת"],pfxWords:["","שֶׁבְּחֶֽסֶד","שֶׁבִּגְבוּרָה","שֶׁבְּתִפְאֶֽרֶת","שֶׁבְּנֶֽצַח","שֶׁבְּהוֹד","שֶׁבִּיְסוֹד","שֶׁבְּמַלְכוּת"]},translit:{infix:"sheb'",infix26:"shebi",words:["","Chesed","Gevurah","Tiferet","Netzach","Hod","Yesod","Malkhut"],pfxWords:null}};function vG(t){if(t<1||t>49)throw new RangeError(`Invalid Omer day ${t}`)}function $3(t){const e=Math.floor((t-1)/7)+1,n=t%7||7;return[e,n]}function _G(t){const[e,n]=$3(t);let i=`Today is ${t} ${t===1?"day":"days"}`;if(e>1||t===7){const s=n===7,a=s?e:e-1;i+=`, which is ${a} ${a===1?"week":"weeks"}`,s||(i+=` and ${n} ${n===1?"day":"days"}`)}return i+" of the Omer"}const EG=["","עֲשָׂרָה","עֶשְׂרִים","שְׁלוֹשִׁים","אַרְבָּעִים"],Fa=["","אֶחָד","שְׁנַיִם","שְׁלוֹשָׁה","אַרְבָּעָה","חֲמִשָּׁה","שִׁשָּׁה","שִׁבְעָה","שְׁמוֹנָה","תִּשְׁעָה"],G3="שְׁנֵי",M_="יָמִים",lR=G3+" "+M_,uR="שָׁבוּעוֹת",K3="יוֹם",cR=K3+" "+Fa[1],M0="עָשָׂר";function TG(t){const e=Math.floor(t/10),n=t%10;let r="הַיּוֹם ";if(t===11?r+="אַחַד "+M0:t===12?r+="שְׁנֵים "+M0:12<t&&t<20?r+=Fa[n]+" "+M0:t>9&&(r+=Fa[n],n&&(r+=" ",r+=e===3?"וּ":"וְ")),t>2?((t>20||t===10||t===20)&&(r+=EG[e]),t<11?r+=Fa[n]+" "+M_+" ":r+=" "+K3+" "):t===1?r+=cR+" ":r+=lR+" ",t>6){r=r.trim(),r+=", שֶׁהֵם ";const i=Math.floor(t/7),s=t%7;i>2?r+=Fa[i]+" "+uR+" ":i===1?r+="שָׁבֽוּעַ "+Fa[1]+" ":r+=G3+" "+uR+" ",s&&(s===2||s===3?r+="וּ":s===5?r+="וַ":r+="וְ",s>2?r+=Fa[s]+" "+M_+" ":s===1?r+=cR+" ":r+=lR+" ")}return r+="לָעֽוֹמֶר",r.normalize()}class SG extends ei{constructor(e,n){super(e,`Omer ${n}`,F.OMER_COUNT),vG(n),this.weekNumber=Math.floor((n-1)/7)+1,this.daysWithinWeeks=n%7||7,this.omer=n}sefira(e="en"){e!=="he"&&e!=="translit"&&(e="en");const[n,r]=$3(this.omer),i=yG[e],s=i.pfxWords,a=i.words,o=s?s[n]:a[n],l=a[r],c=s?"":n===2||n===6?i.infix26:i.infix;return(l+" "+c+o).normalize()}render(e){e=e??Z.getLocaleName(),typeof e=="string"&&(e=e.toLowerCase());const n=e==="he"||e==="he-x-nonikud"||e==="h",r=this.omer;return(n?og(r):Z.ordinal(r,e))+" "+Z.gettext("day of the Omer",e)}renderBrief(e){return Z.gettext("Omer",e)+" "+Z.gettext("day",e)+" "+this.omer}getEmoji(){if(typeof this.emoji=="string")return this.emoji;let e;const n=this.omer;return n<=20?e=9312+n-1:n<=35?e=12881+n-21:e=12977+n-36,String.fromCodePoint(e)}getWeeks(){return this.daysWithinWeeks===7?this.weekNumber:this.weekNumber-1}getDaysWithinWeeks(){return this.daysWithinWeeks}getTodayIs(e){e=e??Z.getLocaleName(),typeof e=="string"&&(e=e.toLowerCase());const r=e==="he"||e==="he-x-nonikud"?TG(this.omer):_G(this.omer);return e==="he-x-nonikud"?Z.hebrewStripNikkud(r):r}url(){return`https://www.hebcal.com/omer/${this.getDate().getFullYear()}/${this.omer}`}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */class hR extends ei{constructor(e,n,r=!1,i=-1){if(!Array.isArray(n)||n.length===0||n.length>2)throw new TypeError("Bad parsha argument");const s="Parashat "+n.join("-");super(e,s,F.PARSHA_HASHAVUA),this.parsha=n,this.il=!!r,this.num=i||-1}render(e){return N3(this.parsha,e)}basename(){return this.parsha.join("-")}url(){if(this.getDate().greg().getFullYear()<100)return;const n=this.urlDateSuffix(),r="https://www.hebcal.com/sedrot/"+this.basename().toLowerCase().replace(/'/g,"").replace(/ /g,"-")+"-"+n;return this.il?r+"?i=on":r}urlDateSuffix(){return Sx(this.getDate().greg()).replace(/-/g,"")}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const fR="Shabbat Mevarchim Chodesh";class wG extends ei{constructor(e,n,r,i){if(super(e,`${fR} ${n}`,F.SHABBAT_MEVARCHIM),this.monthName=Z.gettext(n,i),r)this.memo=r;else{const s=e.getFullYear(),a=e.getMonth(),o=a===U.monthsInYear(s)?K.NISAN:a+1,l=new OS(s,o);this.memo=l.render("en",{hour12:!1})}}basename(){return this.getDesc()}render(e){const r=Z.gettext(this.monthName,e).replace(/'/g,"’");return Z.gettext(fR,e)+" "+r}renderBrief(e){const n=this.render(e),r=n.indexOf(" ");return n.substring(r+1)}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const dc=new Map;class Z3{static addCalendar(e,n,r){if(typeof n!="function")throw new TypeError(`Invalid calendar function: ${n}`);dc.set(e.toLowerCase(),{fn:n,startDate:r})}static lookup(e,n,r){const i=dc.get(e.toLowerCase());return typeof i=="object"?i.fn(n,r):null}static getStartDate(e){const n=dc.get(e.toLowerCase());if(typeof n=="object")return n.startDate}static has(e){return dc.has(e.toLowerCase())}static getCalendars(){return Array.from(dc.keys())}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const bG=0,AG=1,IG=2;function CG(t,e){const n=t.filter(s=>{const a=s.getDesc(),o=s.getDate(),l=o.getMonth(),c=o.getDate();return a.startsWith("Chanukah")||a.startsWith("Shavuot")||a.startsWith("Sukkot")||l===K.NISAN&&(c===15||c===16)&&s.getFlags()&F.CHAG||a==="Yom HaAtzma'ut"||a==="Yom Yerushalayim"}).map(s=>s.getDate().abs()),r=e.abs();return n.includes(r)?IG:t.filter(s=>{const a=s.getDesc();return s.getFlags()&F.ROSH_CHODESH||a.startsWith("Pesach")&&a!=="Pesach I"&&a!=="Pesach II"}).map(s=>s.getDate().abs()).includes(r)?AG:bG}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */function ds(t,e){const n=[];for(let r=t;r<=e;r++)n.push(r);return n}const dR={shacharit:!1,mincha:!1,allCongs:!1};function RG(t,e){return Q3(t,e,!0)}function Q3(t,e,n){const r=t.yy,i=DG(r,e),s=t.abs();if(i.none.indexOf(s)>-1)return dR;const a=t.getDay(),o={shacharit:!1,mincha:!1,allCongs:!1};i.some.indexOf(s)===-1&&(o.allCongs=!0),a!==6&&(o.shacharit=!0);const l=s+1;if(n&&i.yesPrev.indexOf(l)===-1){const c=Q3(new U(l),e,!1);o.mincha=c.shacharit}else o.mincha=a!==5;return o.allCongs&&!o.mincha&&!o.shacharit?dR:o}function DG(t,e){const n=U.isLeapYear(t),r=U.monthsInYear(t);let i=new U(9,K.AV,t);i.getDay()===6&&(i=i.next());let s=new U(15,K.ADAR_II,t);s.getDay()===6&&(s=s.next());const a=[new U(2,K.TISHREI,t)].concat(ds(1,r).map(c=>new U(1,c,t)),ds(1,r).filter(c=>U.daysInMonth(c,t)===30).map(c=>new U(30,c,t)),ds(1,U.daysInMonth(K.NISAN,t)).map(c=>new U(c,K.NISAN,t)),new U(18,K.IYYAR,t),ds(1,8-(e?1:0)).map(c=>new U(c,K.SIVAN,t)),i,new U(15,K.AV,t),new U(29,K.ELUL,t),ds(9,24-(e?1:0)).map(c=>new U(c,K.TISHREI,t)),ds(25,33).map(c=>new U(c,K.KISLEV,t)),new U(15,K.SHVAT,t),new U(14,K.ADAR_II,t),s,n?new U(14,K.ADAR_I,t):[]),o=[new U(14,K.IYYAR,t)].concat(ds(1,13).map(c=>new U(c,K.SIVAN,t)),ds(20,31).map(c=>new U(c,K.TISHREI,t)),t>=5708?D3(t).next():[],t>=5727?new U(28,K.IYYAR,t):[]),l=[new U(29,K.ELUL,t-1),new U(9,K.TISHREI,t),new U(14,K.IYYAR,t)];return{none:a.map(c=>c.abs()).sort((c,h)=>c-h),some:o.map(c=>c.abs()).sort((c,h)=>c-h),yesPrev:l.map(c=>c.abs()).sort((c,h)=>c-h)}}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */const mR=K.TISHREI;function gR(t){if(typeof t=="number")return t;if(pu(t))return Gl(t);if(U.isHDate(t))return t.abs();throw new TypeError(`Invalid date type: ${t}`)}function NG(t){return typeof t.year<"u"?Number(t.year):t.isHebrewYear?new U().getFullYear():new Date().getFullYear()}function MG(t){if(t.start&&!t.end||t.end&&!t.start)throw new TypeError("Both options.start and options.end are required");if(t.start&&t.end)return[gR(t.start),gR(t.end)];const e=!!t.isHebrewYear,n=NG(t);if(isNaN(n))throw new RangeError(`Invalid year ${t.year}`);if(e&&n<1)throw new RangeError(`Invalid Hebrew year ${n}`);const r=OG(t),i=Number(t.numYears)||1;return e?kG(r,n,i):xG(r,n,i)}function OG(t){if(t.month){if(t.isHebrewYear)return U.monthNum(t.month);if(typeof t.month=="number")return t.month}return NaN}function xG(t,e,n){const r=t?t-1:0,i=new Date(e,r,1);e<100&&i.setFullYear(e);const s=Gl(i);let a;if(t)a=s+yx(t,e)-1;else{const o=e+n,l=new Date(o,0,1);o<100&&l.setFullYear(o),a=Gl(l)-1}return[s,a]}function kG(t,e,n){const r=new U(1,t||mR,e);let i=r.abs();const s=t?i+r.daysInMonth():new U(1,mR,e+n).abs()-1;return!t&&e>1&&i--,[i,s]}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */function LG(t={}){t=Object.assign({},t),QG(t);const e=t.location=t.location||eK,n=t.il=t.il||e.getIsrael()||!1,r=typeof t.mask=="number";if(t.mask=JG(t),t.ashkenazi||t.locale){if(t.locale&&typeof t.locale!="string")throw new TypeError(`Invalid options.locale: ${t.locale}`);const y=t.ashkenazi?"ashkenazi":t.locale;if(!Z.useLocale(y))throw new TypeError(`Locale '${y}' not found; did you forget to import @hebcal/locales?`)}else Z.useLocale("en");const i=[];let s,a,o=-1,l=-1,c=-1;const h=MG(t);qG(t);const f=h[0],d=h[1];q1(f).getFullYear()<100&&(t.candlelighting=!1);for(let y=f;y<=d;y++){const w=new U(y),C=w.getFullYear();C!==c&&(c=C,a=Yp(c),t.sedrot&&(s=Fp(c,n)),t.omer&&(o=U.hebrew2abs(c,O_,16),l=U.hebrew2abs(c,pR,5)));const v=i.length,_=w.getDay(),A=_===VG,M=_===PG;let V;const k=a.get(w.toString())||[];for(const E of k)V=nK(V,i,E,t,A,M,r);if(t.sedrot&&M){const E=s.lookup(y);E.chag||i.push(new hR(w,E.parsha,n,E.num))}if(t.yizkor){const E=w.getMonth(),R=w.getDate();if(E===K.TISHREI&&(R===10||R===22)||E===O_&&R===(n?21:22)||E===pR&&R===(n?6:7)){const D=k.filter(N=>N.observedIn(n))[0],O=new ei(w,"Yizkor",F.YIZKOR,{emoji:"🕯️",linkedEvent:D});i.push(O)}}const S=t.dailyLearning;let T=0;if(typeof S=="object"){const E=sK(w,S,n);T=E.length,T&&i.push(...E)}if(t.omer&&y>=o&&y<=l){const E=y-o+1,R=aK(w,E,t);i.push(R)}if(M&&(t.molad||t.shabbatMevarchim)){const E=rK(w,t);i.push(...E)}if(!V&&t.candlelighting&&(A||M)&&(V=q3(void 0,w,t,A,M),A&&V&&s)){const E=s.lookup(y),R=new hR(w.next(),E.parsha,n,E.num);V.memo=R.render(t.locale)}if(V instanceof Y3&&(t.havdalahMins===0||t.havdalahDeg===0)&&(V=void 0),V&&i.push(V),t.addHebrewDates||t.addHebrewDatesForEvents&&v!==i.length-T){const E=new qB(w);v===i.length?i.push(E):i.splice(v,0,E)}}return i}const VG=5,PG=6,O_=K.NISAN,pR=K.SIVAN,UG=K.ELUL,x_=F.LIGHT_CANDLES,k_=F.YOM_TOV_ENDS,HG=F.CHUL_ONLY,jG=F.IL_ONLY,L_=F.LIGHT_CANDLES_TZEIS,xS=F.CHANUKAH_CANDLES,Eg=F.MINOR_FAST,V_=F.SPECIAL_SHABBAT,Tg=F.MODERN_HOLIDAY,X3=F.MAJOR_FAST,P_=F.ROSH_CHODESH,J3=F.PARSHA_HASHAVUA,U_=F.DAF_YOMI,H_=F.MISHNA_YOMI,j_=F.NACH_YOMI,B_=F.YERUSHALMI_YOMI,W3=F.OMER_COUNT,z_=F.SHABBAT_MEVARCHIM,BG=F.MINOR_HOLIDAY,zG=F.EREV,FG=F.CHOL_HAMOED,Sg=F.YOM_KIPPUR_KATAN,ek=F.YIZKOR,md=new Set,YG={location:1,year:1,isHebrewYear:1,month:1,numYears:1,start:1,end:1,candlelighting:1,candleLightingMins:1,havdalahMins:1,havdalahDeg:1,fastEndDeg:1,sedrot:1,il:1,noMinorFast:1,noModern:1,shabbatMevarchim:1,noRoshChodesh:1,noSpecialShabbat:1,noHolidays:1,omer:1,molad:1,ashkenazi:1,locale:1,addHebrewDates:1,addHebrewDatesForEvents:1,mask:1,yomKippurKatan:1,hour12:1,dailyLearning:1,useElevation:1,yizkor:1};function qG(t){for(const e of Object.keys(t))typeof YG[e]>"u"&&!md.has(e)&&(console.warn(`Ignoring unrecognized HebrewCalendar option: ${e}`),md.add(e));if(t.dailyLearning)for(const e of Object.keys(t.dailyLearning))!md.has(e)&&!Z3.has(e)&&(console.warn(`Ignoring unrecognized DailyLearning calendar: ${e}`),md.add(e))}const $G={Jerusalem:40,Haifa:30,"Zikhron Ya'aqov":30,"Zikhron Ya'akov":30,"Zikhron Yaakov":30,"Zichron Ya'akov":30,"Zichron Yaakov":30},GG={281184:40,294801:30,293067:30},KG=8.5,ZG=7.0833333;function QG(t){if(!t.candlelighting)return;const e=t.location;if(typeof e>"u"||!(e instanceof Oh))throw new TypeError("options.candlelighting requires valid options.location");if(typeof t.havdalahMins=="number"&&typeof t.havdalahDeg=="number")throw new TypeError("options.havdalahMins and options.havdalahDeg are mutually exclusive");const n=t.candleLightingMins;let r=typeof n=="number"&&!isNaN(n)?Math.trunc(n):18;e.getIsrael()&&Math.abs(r)===18&&(r=XG(e,r)),t.candleLightingMins=-1*Math.abs(r),typeof t.havdalahMins=="number"?t.havdalahMins=Math.trunc(Math.abs(t.havdalahMins)):typeof t.havdalahDeg=="number"?t.havdalahDeg=Math.abs(t.havdalahDeg):t.havdalahDeg=KG,typeof t.fastEndDeg!="number"&&(t.fastEndDeg=ZG)}function XG(t,e){const n=t.getGeoId();if(n){const i=GG[n];if(typeof i=="number")return i}const r=t.getShortName();if(r){const i=$G[r];if(typeof i=="number")return i}return e}function JG(t){var e;if(typeof t.mask=="number")return tK(t);const n=t.il||((e=t.location)===null||e===void 0?void 0:e.getIsrael())||!1;let r=0;if(t.noHolidays||(r|=P_|k_|Eg|V_|Tg|X3|BG|zG|FG|x_|L_|xS),t.candlelighting&&(r|=x_|L_|k_),t.noRoshChodesh&&(r&=~P_),t.noModern&&(r&=~Tg),t.noMinorFast&&(r&=~Eg),t.noSpecialShabbat&&(r&=~V_,r&=~z_),n?r|=jG:r|=HG,t.sedrot&&(r|=J3),t.omer&&(r|=W3),t.shabbatMevarchim&&(r|=z_),t.yomKippurKatan&&(r|=Sg),t.yizkor&&(r|=ek),t.dailyLearning){const i=t.dailyLearning;i.dafYomi&&(r|=U_),i.mishnaYomi&&(r|=H_),i.nachYomi&&(r|=j_),i.yerushalmi&&(r|=B_)}return r}const WG=x_|L_|xS|k_,eK=new Oh(0,0,!1,"UTC");function tK(t){const e=t.mask||0;return e&P_&&delete t.noRoshChodesh,e&Tg&&delete t.noModern,e&Eg&&delete t.noMinorFast,e&V_&&delete t.noSpecialShabbat,e&J3&&(t.sedrot=!0),e&(U_|H_|j_|B_)&&(t.dailyLearning=t.dailyLearning||{},e&U_&&(t.dailyLearning.dafYomi=!0),e&H_&&(t.dailyLearning.mishnaYomi=!0),e&j_&&(t.dailyLearning.nachYomi=!0),e&B_&&(t.dailyLearning.yerushalmi=1)),e&W3&&(t.omer=!0),e&z_&&(t.shabbatMevarchim=!0),e&Sg&&(t.yomKippurKatan=!0),e&ek&&(t.yizkor=!0),e}function nK(t,e,n,r,i,s,a){const o=r.il||!1;if(!n.observedIn(o))return t;const l=n.getFlags();if(!r.yomKippurKatan&&l&Sg||r.noModern&&l&Tg)return t;const c=!!(l&X3),h=!!(l&Eg);let f;if(r.candlelighting&&(c||h)&&n.getDesc()!=="Yom Kippur"&&(n=f=uG(n,r),f.startEvent&&(c||h&&!r.noMinorFast)&&e.push(f.startEvent)),l&Number(r.mask)||!l&&!a){if(r.candlelighting&&l&WG){const d=n.getDate();if(t=q3(n,d,r,i,s),l&xS&&t&&!r.noHolidays){const p=hG(n,d,r);p&&((i||s)&&(p.eventTime=t.eventTime,p.eventTimeStr=t.eventTimeStr),n=p),t=void 0}}(!r.noHolidays||r.yomKippurKatan&&l&Sg)&&e.push(n)}return(c||h&&!r.noMinorFast)&&f&&f.endEvent&&e.push(f.endEvent),t}function rK(t,e){const n=[],r=t.getMonth(),i=t.getDate();if(r!==UG&&i>=23&&i<=29){const s=t.getFullYear(),a=r===U.monthsInYear(s)?O_:r+1;if(e.molad&&n.push(new pG(t,s,a,e)),e.shabbatMevarchim){const o=U.getMonthName(a,s),c=new OS(s,a).render(e.locale||"en",e);n.push(new wG(t,o,c,e.locale))}}return n}function iK(t,e){return t==="yerushalmi"?e===2?"yerushalmi-schottenstein":"yerushalmi-vilna":t}function sK(t,e,n){const r=[];for(const[i,s]of Object.entries(e))if(s){const a=iK(i,s),o=Z3.lookup(a,t,n);o&&r.push(o)}return r}function aK(t,e,n){const r=new SG(t,e);if(n.candlelighting){const i=n.location,a=new Tn(i,t.prev(),!1).tzeit(7.0833);isNaN(a.getTime())||(r.alarm=a)}return r}/*! @hebcal/core v5.10.1, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */class yR{constructor(){}static calendar(e={}){return LG(e)}static getBirthdayOrAnniversary(e,n){const r=IB(e,n);return typeof r>"u"?r:new U(r)}static getYahrzeit(e,n){const r=AB(e,n);return typeof r>"u"?r:new U(r)}static getHolidaysForYear(e){return Yp(e)}static getHolidaysForYearArray(e,n){return nR(e,n)}static getHolidaysOnDate(e,n){return z3(e,n)}static eruvTavshilin(e,n){if(e.getDay()<3||e.getDay()>4)return!1;const r=new U(e),i=r.after(5),s=r.next();return!(!O0(i,n)||O0(r,n)||!O0(s,n))}static reformatTimeStr(e,n,r){return NS(e,n,r)}static version(){return pB}static getSedra(e,n){return Fp(e,n)}static hallel(e,n){const r=nR(e.getFullYear(),n);return CG(r,e)}static tachanun(e,n){return RG(e,n)}}function O0(t,e){return(z3(t,e)||[]).filter(i=>i.getFlags()&F.CHAG).length!==0}const oK=t=>t?t.replace(/[\u0591-\u05BD\u05BF-\u05C7]/g,""):"",lK=()=>{const[t,e]=x.useState("");return x.useEffect(()=>{const n=()=>{const i=new U,s=oK(i.renderGematriya());e(a=>a!==s?s:a)};n();const r=setInterval(n,30*1e3);return()=>clearInterval(r)},[]),t?I.jsx("div",{className:"text-[0.5em] text-stone-600 leading-tight mt-1","aria-label":`התאריך העברי היום: ${t}`,children:t}):null},uK=({settings:t})=>{const[e,n]=x.useState(new Date);return x.useEffect(()=>{const r=setInterval(()=>{n(new Date)},1e3);return()=>{clearInterval(r)}},[]),I.jsxs("div",{className:"inline-flex flex-col items-center text-[3em] leading-none font-mono font-bold text-stone-800 tracking-wider p-2 rounded-lg shadow-sm border border-black/5",style:{backgroundColor:t.clockBackgroundColor},children:[I.jsx("div",{children:e.toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),I.jsx(lK,{})]})},cK=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),hK=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.732 3.732z"})}),tk=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),fK=({filled:t=!1})=>t?I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}):I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976-2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),dK=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-stone-400 group-hover:text-stone-600 cursor-grab",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),mK={sunrise:"זריחה",sunset:"שקיעה",shabbatCandles:"כניסת שבת",shabbatEnd:"צאת שבת"},gK=[{value:1,label:"דקה"},{value:5,label:"5 דקות"},{value:10,label:"10 דקות"},{value:15,label:"רבע שעה"}],pK=[{value:"nearest",label:"הקרוב ביותר"},{value:"up",label:"למעלה"},{value:"down",label:"למטה"}],vR=({columnId:t,columnEvents:e,event:n,onSave:r,onCancel:i,onDelete:s})=>{var p,y;const[a,o]=x.useState(()=>n?{...n}:{name:"",type:"prayer",timeDefinition:{mode:"absolute",absoluteTime:"12:00"},note:"",isHighlighted:!1}),l=a.type==="prayer"||a.type==="class",c=w=>{const{name:C,value:v,type:_}=w.target,A=w.target.checked;o(M=>{var E;const V={...M},k=_==="checkbox"?A:v,S=R=>{V.timeDefinition={...V.timeDefinition,...R}},T=R=>{if(V.timeDefinition&&(V.timeDefinition.mode==="relative"||V.timeDefinition.mode==="relativeToZman")){const D=V.timeDefinition.rounding||{direction:"nearest",increment:5};V.timeDefinition.rounding={...D,...R}}};switch(C){case"offsetMagnitude":{const R=Math.max(0,parseInt(v,10)||0);let D=0;V.timeDefinition&&(V.timeDefinition.mode==="relative"||V.timeDefinition.mode==="relativeToZman")&&(D=V.timeDefinition.offsetMinutes??0);const O=D<0?-1:1;S({offsetMinutes:R*O});break}case"offsetSign":{const R=v==="before"?-1:1;let D=0;V.timeDefinition&&(V.timeDefinition.mode==="relative"||V.timeDefinition.mode==="relativeToZman")&&(D=Math.abs(V.timeDefinition.offsetMinutes??0)),S({offsetMinutes:D*R});break}case"timeMode":{const R=k,D=e.filter(N=>N.id!==(n==null?void 0:n.id)&&N.type!=="freeText");let O;switch(R){case"absolute":O={mode:"absolute",absoluteTime:"12:00"};break;case"relative":O={mode:"relative",relativeEventId:((E=D[0])==null?void 0:E.id)||"",offsetMinutes:0,rounding:{direction:"nearest",increment:5}};break;case"relativeToZman":O={mode:"relativeToZman",zman:"sunset",offsetMinutes:0,rounding:{direction:"up",increment:5}};break;default:O={mode:"absolute",absoluteTime:"12:00"}}V.timeDefinition=O;break}case"absoluteTime":case"relativeEventId":case"zman":S({[C]:k});break;case"roundingIncrement":T({increment:parseInt(v,10)});break;case"roundingDirection":T({direction:v});break;case"type":V.type=k,k==="freeText"?(delete V.timeDefinition,delete V.note):V.timeDefinition||(V.timeDefinition={mode:"absolute",absoluteTime:"12:00"});break;default:V[C]=k;break}return V})},h=w=>{if(w.preventDefault(),!a.name)return;let C={...a,columnId:t};if(n)C.id=n.id,C.order=n.order;else{const v=e.length>0?Math.max(...e.map(_=>_.order)):-1;C.order=v+1,C.id=Date.now().toString()}r(C)},f=e.filter(w=>w.id!==(n==null?void 0:n.id)&&w.type!=="freeText"),d=a.timeDefinition;return I.jsxs("form",{onSubmit:h,className:"bg-amber-50 p-3 my-1 rounded-lg border-2 border-amber-400 shadow-md",children:[I.jsxs("div",{className:"space-y-3",children:[I.jsxs("select",{name:"type",value:a.type,onChange:c,className:"w-full border-stone-300 rounded p-1 text-sm",children:[I.jsx("option",{value:"prayer",children:"תפילה"}),I.jsx("option",{value:"class",children:"שיעור"}),I.jsx("option",{value:"freeText",children:"טקסט חופשי"})]}),I.jsx("input",{type:"text",name:"name",value:a.name,onChange:c,placeholder:l?"שם האירוע":"תוכן טקסט",required:!0,className:"w-full border-stone-300 rounded p-1 text-sm"}),l&&I.jsxs("fieldset",{className:"space-y-2 p-2 bg-stone-100 border border-stone-200 rounded-lg",children:[I.jsx("legend",{className:"text-sm font-semibold text-stone-600 px-1",children:"הגדרת זמן"}),I.jsxs("select",{name:"timeMode",value:d==null?void 0:d.mode,onChange:c,className:"w-full border-stone-300 rounded p-1 text-sm bg-white",children:[I.jsx("option",{value:"absolute",children:"זמן קבוע"}),I.jsx("option",{value:"relative",children:"זמן יחסי לאירוע אחר"}),I.jsx("option",{value:"relativeToZman",children:"זמן יחסי לזמן היום"})]}),(d==null?void 0:d.mode)==="absolute"&&I.jsx("input",{type:"time",name:"absoluteTime",value:d.absoluteTime||"",onChange:c,required:!0,className:"w-full border-stone-300 rounded p-1 text-sm"}),((d==null?void 0:d.mode)==="relative"||(d==null?void 0:d.mode)==="relativeToZman")&&I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[I.jsx("input",{type:"number",name:"offsetMagnitude",min:"0",value:Math.abs(d.offsetMinutes??0),onChange:c,className:"border-stone-300 rounded p-1 w-20 text-center","aria-label":"Offset in minutes"}),I.jsx("span",{className:"text-stone-700",children:"דקות"}),I.jsxs("select",{name:"offsetSign",value:(d.offsetMinutes??0)<0?"before":"after",onChange:c,className:"border-stone-300 rounded p-1 grow","aria-label":"Timing relation",children:[I.jsx("option",{value:"after",children:"אחרי"}),I.jsx("option",{value:"before",children:"לפני"})]})]}),d.mode==="relative"&&I.jsxs("select",{name:"relativeEventId",value:d.relativeEventId||"",onChange:c,className:"border-stone-300 rounded p-1 w-full text-sm",children:[f.length===0&&I.jsx("option",{disabled:!0,children:"אין אירועים להצמדה"}),f.map(w=>I.jsx("option",{value:w.id,children:w.name},w.id))]}),d.mode==="relativeToZman"&&I.jsx("select",{name:"zman",value:d.zman,onChange:c,className:"border-stone-300 rounded p-1 w-full text-sm",children:Object.entries(mK).map(([w,C])=>I.jsx("option",{value:w,children:C},w))}),I.jsxs("fieldset",{className:"p-2 border border-stone-300 rounded-md bg-white",children:[I.jsx("legend",{className:"text-xs font-medium text-stone-500 px-1",children:"עיגול זמן"}),I.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[I.jsx("label",{htmlFor:`roundingDirection-${(n==null?void 0:n.id)||"new"}`,className:"sr-only",children:"כיוון עיגול"}),I.jsx("select",{id:`roundingDirection-${(n==null?void 0:n.id)||"new"}`,name:"roundingDirection",value:((p=d.rounding)==null?void 0:p.direction)||"up",onChange:c,className:"border-stone-300 rounded p-1 grow",children:pK.map(w=>I.jsxs("option",{value:w.value,children:["לעגל ל",w.label]},w.value))}),I.jsx("label",{htmlFor:`roundingIncrement-${(n==null?void 0:n.id)||"new"}`,className:"sr-only",children:"דיוק עיגול"}),I.jsx("select",{id:`roundingIncrement-${(n==null?void 0:n.id)||"new"}`,name:"roundingIncrement",value:((y=d.rounding)==null?void 0:y.increment)||5,onChange:c,className:"border-stone-300 rounded p-1 grow",children:gK.map(w=>I.jsx("option",{value:w.value,children:w.label},w.value))})]})]})]}),I.jsx("input",{type:"text",name:"note",value:a.note||"",onChange:c,placeholder:"הערה (אופציונלי)",className:"w-full border-stone-300 rounded p-1 text-sm"})]}),I.jsxs("div",{className:"flex items-center pt-1",children:[I.jsx("input",{id:`highlight-${(n==null?void 0:n.id)||"new"}`,type:"checkbox",name:"isHighlighted",checked:!!a.isHighlighted,onChange:c,className:"h-4 w-4 rounded border-gray-300 text-amber-600 focus:ring-amber-500"}),I.jsx("label",{htmlFor:`highlight-${(n==null?void 0:n.id)||"new"}`,className:"mr-2 block text-sm text-stone-700",children:"הדגש אירוע זה"})]})]}),I.jsxs("div",{className:"flex justify-between items-center mt-3",children:[n&&I.jsxs("button",{type:"button",onClick:()=>s(n.id),className:"text-red-600 hover:text-red-800 text-xs font-semibold flex items-center gap-1 p-1 rounded hover:bg-red-100",children:[I.jsx(tk,{})," מחק אירוע"]}),I.jsxs("div",{className:`flex gap-2 ${n?"":"w-full justify-end"}`,children:[I.jsx("button",{type:"button",onClick:i,className:"bg-stone-200 hover:bg-stone-300 text-stone-700 text-xs font-semibold py-1 px-2 rounded",children:"ביטול"}),I.jsx("button",{type:"submit",className:"bg-amber-500 hover:bg-amber-600 text-white text-xs font-semibold py-1 px-2 rounded",children:"שמור"})]})]})]})},yK=({event:t,displayTime:e,isLast:n,isEditMode:r,onEdit:i,onToggleHighlight:s,settings:a,onDragStart:o,onDragOver:l,onDrop:c,isDragging:h})=>{const f=`relative transition-all duration-200 group flex items-center ${h?"opacity-30":""} ${r?"border-2 border-dashed border-transparent hover:border-blue-400 hover:bg-blue-50/50 rounded-md p-1 -m-1 cursor-pointer":""}`,d=t.isHighlighted?{backgroundColor:a.highlightColor,borderRadius:"0.375rem"}:{},y=(()=>{switch(t.type){case"prayer":return a.prayerColor;case"class":return a.classColor;case"freeText":return a.freeTextColor;default:return"#000"}})(),w=()=>r&&i(t.id),C=(A,M)=>{A.stopPropagation(),M()},v=(a.eventTextScale||100)/100,_=t.type==="freeText"?I.jsxs("div",{className:"flex-grow",children:[I.jsx("div",{className:"py-[0.6em] flex items-center justify-center",children:I.jsx("h3",{className:"leading-normal font-title text-center",style:{color:y,fontSize:`${1.8*v}em`},children:t.name})}),!n&&I.jsx("div",{className:"h-[1px] bg-gradient-to-r from-amber-600/5 via-amber-600/20 to-amber-600/5"})]}):I.jsxs("div",{className:"flex-grow",children:[I.jsxs("div",{className:"py-[0.6em]",children:[I.jsxs("div",{className:"flex items-baseline justify-between",children:[I.jsx("h3",{className:"leading-normal font-title",style:{color:y,fontSize:`${1.8*v}em`},children:t.name}),I.jsx("p",{className:"leading-normal font-mono tracking-wider",style:{color:e?y:"#f87171",fontSize:`${2*v}em`},children:e||"--:--"})]}),t.note&&I.jsx("p",{className:"leading-normal text-stone-600 mt-[0.2em] text-center w-full",style:{fontSize:`${1.1*v}em`},children:t.note})]}),!n&&I.jsx("div",{className:"h-[1px] bg-gradient-to-r from-amber-600/5 via-amber-600/20 to-amber-600/5"})]});return I.jsxs("div",{className:f,style:d,draggable:r,onDragStart:A=>o(A,t.id),onDragOver:l,onDrop:A=>c(A,t),onClick:w,children:[r&&I.jsx("div",{className:"px-2",children:I.jsx(dK,{})}),_,r&&I.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-3 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:I.jsx("button",{onClick:A=>C(A,()=>s(t.id)),className:`p-1.5 rounded-full ${t.isHighlighted?"bg-amber-400 text-white":"bg-stone-200 text-stone-600"} hover:bg-amber-300`,title:t.isHighlighted?"בטל הדגשה":"הדגש",children:I.jsx(fK,{filled:!!t.isHighlighted})})})]})},vK=t=>{const{column:e,events:n,settings:r,isEditMode:i,editingItemId:s,inlineAddEvent:a,calculatedTimes:o,draggingItemId:l,onEditEvent:c,onCancelEdit:h,onSaveEvent:f,onDeleteEvent:d,onToggleHighlight:p,onEventDragStart:y,onEventDragOver:w,onEventDrop:C,editingColumn:v,onEditColumnTitleChange:_,onSaveColumnTitle:A,onSetEditingColumn:M,onDeleteColumn:V,onAddNewEvent:k,onColumnDragStart:S,onColumnDragEnd:T}=t,E=`${2.8*(r.columnTitleSize/100)}em`,R=D=>{D.key==="Enter"?A==null||A():D.key==="Escape"&&(M==null||M())};return I.jsxs("div",{className:"h-full flex flex-col",children:[I.jsxs("header",{className:"text-center py-1 flex items-center justify-center gap-2",draggable:i&&!!S,onDragStart:i&&S?D=>S(D,e.id):void 0,onDragEnd:i&&T?T:void 0,children:[i&&(v==null?void 0:v.id)===e.id?I.jsx("div",{className:"flex items-center gap-2",children:I.jsx("input",{type:"text",value:v.title,onChange:D=>_==null?void 0:_(D.target.value),onKeyDown:R,onBlur:A,autoFocus:!0,className:"text-center bg-transparent border-b-2 border-amber-500 focus:outline-none p-1 font-title",style:{fontSize:E,color:r.columnTitleColor}})}):I.jsx("h2",{className:"font-title",style:{fontSize:E,color:r.columnTitleColor},onClick:i&&M?D=>{D.stopPropagation(),M()}:void 0,children:e.title}),i&&I.jsxs("div",{className:"flex items-center ml-2",children:[I.jsx("button",{onClick:D=>{D.stopPropagation(),M==null||M()},className:"text-stone-400 hover:text-stone-800 p-1",title:"ערוך שם עמודה",children:I.jsx(hK,{})}),I.jsx("button",{onClick:D=>{D.stopPropagation(),V==null||V(e.id)},className:"text-red-500 hover:text-red-700 p-1",title:"מחק עמודה",children:I.jsx(tk,{})})]})]}),I.jsxs("div",{className:`events-list flex-grow ${i?"overflow-y-auto":"overflow-hidden"}`,children:[n.map((D,O)=>s===D.id?I.jsx(vR,{columnId:e.id,columnEvents:n,event:D,onSave:f,onCancel:h,onDelete:d},D.id):I.jsx(yK,{event:D,displayTime:o.get(D.id)??null,isLast:O===n.length-1,isEditMode:i,onEdit:c,onToggleHighlight:p,settings:r,onDragStart:y,onDragOver:w,onDrop:C,isDragging:l===D.id},D.id)),a&&a.columnId===e.id&&I.jsx(vR,{columnId:e.id,columnEvents:n,onSave:f,onCancel:h,onDelete:d})]}),i&&I.jsx("div",{className:"mt-2 pt-2 border-t border-amber-600/10",children:I.jsxs("button",{onClick:k,className:"flex items-center justify-center gap-2 w-full bg-green-100 hover:bg-green-200 text-green-800 font-semibold py-2 px-3 rounded-lg shadow-sm transition",children:[I.jsx(cK,{}),I.jsx("span",{children:"הוסף אירוע"})]})})]})},gd=t=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[255,255,255]},pd=t=>{const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(!e)return"#ffffff";const[,n,r,i]=e,s=a=>{const o=parseInt(a).toString(16);return o.length===1?"0"+o:o};return`#${s(n)}${s(r)}${s(i)}`},_K=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),EK=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),TK=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),SK=({settings:t,onSave:e,onAddColumn:n,onClose:r})=>{var h,f,d,p;const[i,s]=DR.useState(!1),a=(y,w)=>{const C={...t,[y]:w};e(C)},o="w-full p-2 border rounded-md bg-white/50 text-sm",l="block text-sm font-medium text-stone-700 mb-1";return I.jsxs("div",{className:"absolute top-0 bottom-0 right-0 z-30 transition-transform duration-300 ease-in-out",style:{transform:i?"translateX(384px)":"translateX(0px)"},children:[I.jsx("button",{onClick:()=>s(!i),className:"absolute top-1/2 -translate-y-1/2 -left-8 w-8 h-16 bg-stone-200/90 hover:bg-stone-300/90 backdrop-blur-lg rounded-l-lg flex items-center justify-center shadow-lg",children:i?I.jsx(EK,{}):I.jsx(_K,{})}),I.jsxs("div",{className:"w-96 h-full bg-stone-100/90 backdrop-blur-lg shadow-2xl flex flex-col",children:[I.jsx("div",{className:"flex justify-between items-center p-4 border-b border-stone-300",children:I.jsx("h2",{className:"text-xl font-bold text-stone-800",children:"עריכת לוח"})}),I.jsxs("div",{className:"flex-grow p-4 overflow-y-auto space-y-6",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold text-stone-800 mb-3",children:"הגדרות כלליות"}),I.jsx("div",{className:"space-y-4",children:I.jsx("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow-lg transition-transform hover:scale-105",children:"הוסף עמודה"})})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold text-stone-800 mb-3",children:"גודל גופנים"}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsxs("label",{className:l,children:["גודל כללי: ",Math.round(t.scale*100),"%"]}),I.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.05",value:t.scale,onChange:y=>a("scale",parseFloat(y.target.value)),className:"w-full"})]}),I.jsxs("div",{children:[I.jsxs("label",{className:l,children:["כותרת ראשית: ",t.mainTitleSize,"%"]}),I.jsx("input",{type:"range",min:"50",max:"200",step:"5",value:t.mainTitleSize,onChange:y=>a("mainTitleSize",parseInt(y.target.value)),className:"w-full"})]}),I.jsxs("div",{children:[I.jsxs("label",{className:l,children:["כותרת עמודה: ",t.columnTitleSize,"%"]}),I.jsx("input",{type:"range",min:"50",max:"200",step:"5",value:t.columnTitleSize,onChange:y=>a("columnTitleSize",parseInt(y.target.value)),className:"w-full"})]}),I.jsxs("div",{children:[I.jsxs("label",{className:l,children:["טקסט אירועים: ",t.eventTextScale,"%"]}),I.jsx("input",{type:"range",min:"50",max:"150",step:"5",value:t.eventTextScale,onChange:y=>a("eventTextScale",parseInt(y.target.value)),className:"w-full"})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold text-stone-800 mb-3",children:"צבעי טקסט"}),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:l,children:"צבע תפילה"}),I.jsx("input",{type:"color",value:t.prayerColor,onChange:y=>a("prayerColor",y.target.value),className:"w-full h-10"})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"צבע שיעור"}),I.jsx("input",{type:"color",value:t.classColor,onChange:y=>a("classColor",y.target.value),className:"w-full h-10"})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"צבע טקסט חופשי"}),I.jsx("input",{type:"color",value:t.freeTextColor,onChange:y=>a("freeTextColor",y.target.value),className:"w-full h-10"})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"צבע כותרת עמודה"}),I.jsx("input",{type:"color",value:t.columnTitleColor,onChange:y=>a("columnTitleColor",y.target.value),className:"w-full h-10"})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"צבע כותרת ראשית"}),I.jsx("input",{type:"color",value:t.mainTitleColor,onChange:y=>a("mainTitleColor",y.target.value),className:"w-full h-10"})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"צבע הדגשה"}),I.jsx("input",{type:"color",value:t.highlightColor,onChange:y=>a("highlightColor",y.target.value),className:"w-full h-10"})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold text-stone-800 mb-3",children:"צבעי רקע"}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:l,children:"רקע כללי"}),I.jsx("input",{type:"color",value:t.mainBackgroundColor,onChange:y=>a("mainBackgroundColor",y.target.value),className:"w-full h-10"}),I.jsx("div",{className:"mt-1 text-xs text-stone-500",children:"צבע הרקע הכללי של המסך"})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"רקע הלוח"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"color",value:pd(t.boardBackgroundColor),onChange:y=>{var C;const w=((C=t.boardBackgroundColor.match(/[\d.]+\)$/))==null?void 0:C[0].replace(")",""))||"0.7";a("boardBackgroundColor",`rgba(${gd(y.target.value).join(", ")}, ${w})`)},className:"flex-grow h-10"}),I.jsx("input",{type:"range",min:"0",max:"100",value:parseFloat(((h=t.boardBackgroundColor.match(/[\d.]+\)$/))==null?void 0:h[0].replace(")",""))||"0.7")*100,onChange:y=>{var C;const w=((C=t.boardBackgroundColor.match(/rgba\((.*?),/))==null?void 0:C[1])||"255, 255, 255";a("boardBackgroundColor",`rgba(${w}, ${parseFloat(y.target.value)/100})`)},className:"w-24"})]}),I.jsx("div",{className:"mt-1 text-xs text-stone-500",children:"צבע הרקע של הלוח המרכזי"})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"רקע העמודות"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"color",value:pd(t.columnBackgroundColor),onChange:y=>{var C;const w=((C=t.columnBackgroundColor.match(/[\d.]+\)$/))==null?void 0:C[0].replace(")",""))||"0.5";a("columnBackgroundColor",`rgba(${gd(y.target.value).join(", ")}, ${w})`)},className:"flex-grow h-10"}),I.jsx("input",{type:"range",min:"0",max:"100",value:parseFloat(((f=t.columnBackgroundColor.match(/[\d.]+\)$/))==null?void 0:f[0].replace(")",""))||"0.5")*100,onChange:y=>{var C;const w=((C=t.columnBackgroundColor.match(/rgba\((.*?),/))==null?void 0:C[1])||"255, 255, 255";a("columnBackgroundColor",`rgba(${w}, ${parseFloat(y.target.value)/100})`)},className:"w-24"})]}),I.jsx("div",{className:"mt-1 text-xs text-stone-500",children:"צבע הרקע של העמודות"})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"רקע השעון"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"color",value:pd(t.clockBackgroundColor),onChange:y=>{var C;const w=((C=t.clockBackgroundColor.match(/[\d.]+\)$/))==null?void 0:C[0].replace(")",""))||"0.3";a("clockBackgroundColor",`rgba(${gd(y.target.value).join(", ")}, ${w})`)},className:"flex-grow h-10"}),I.jsx("input",{type:"range",min:"0",max:"100",value:parseFloat(((d=t.clockBackgroundColor.match(/[\d.]+\)$/))==null?void 0:d[0].replace(")",""))||"0.3")*100,onChange:y=>{var C;const w=((C=t.clockBackgroundColor.match(/rgba\((.*?),/))==null?void 0:C[1])||"255, 255, 255";a("clockBackgroundColor",`rgba(${w}, ${parseFloat(y.target.value)/100})`)},className:"w-24"})]}),I.jsx("div",{className:"mt-1 text-xs text-stone-500",children:"צבע הרקע של השעון"})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"רקע פאנל הזמנים"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"color",value:pd(t.zmanimBackgroundColor),onChange:y=>{var C;const w=((C=t.zmanimBackgroundColor.match(/[\d.]+\)$/))==null?void 0:C[0].replace(")",""))||"0.3";a("zmanimBackgroundColor",`rgba(${gd(y.target.value).join(", ")}, ${w})`)},className:"flex-grow h-10"}),I.jsx("input",{type:"range",min:"0",max:"100",value:parseFloat(((p=t.zmanimBackgroundColor.match(/[\d.]+\)$/))==null?void 0:p[0].replace(")",""))||"0.3")*100,onChange:y=>{var C;const w=((C=t.zmanimBackgroundColor.match(/rgba\((.*?),/))==null?void 0:C[1])||"255, 255, 255";a("zmanimBackgroundColor",`rgba(${w}, ${parseFloat(y.target.value)/100})`)},className:"w-24"})]}),I.jsx("div",{className:"mt-1 text-xs text-stone-500",children:"צבע הרקע של פאנל הזמנים"})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold text-stone-800 mb-3",children:"מיקום (לחישוב זמנים)"}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:l,children:"קו רוחב (Latitude)"}),I.jsx("input",{type:"number",step:"0.001",value:t.latitude,onChange:y=>a("latitude",parseFloat(y.target.value)),className:o})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"קו אורך (Longitude)"}),I.jsx("input",{type:"number",step:"0.001",value:t.longitude,onChange:y=>a("longitude",parseFloat(y.target.value)),className:o})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"גובה (מטרים)"}),I.jsx("input",{type:"number",value:t.elevation,onChange:y=>a("elevation",parseInt(y.target.value)),className:o})]}),I.jsxs("div",{children:[I.jsx("label",{className:l,children:"דקות לפני השקיעה (הדלקת נרות)"}),I.jsx("input",{type:"number",value:t.shabbatCandleOffset,onChange:y=>a("shabbatCandleOffset",parseInt(y.target.value,10)),className:o})]})]})]})]}),I.jsx("div",{className:"p-4 border-t border-stone-300",children:I.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg",children:[I.jsx(TK,{}),"סיים עריכה"]})})]})]})},wK=(t,e)=>{const[n,r]=x.useState(null);return{editingColumn:n,startEditing:l=>{r({id:l.id,title:l.title})},cancelEdit:()=>{r(null)},setEditTitle:l=>{n&&r({...n,title:l})},saveEdit:()=>{n&&(e(t.map(l=>l.id===n.id?{...l,title:n.title}:l)),r(null))}}},bK=({zmanimData:t,loading:e,error:n,settings:r})=>{const i=s=>s?s.toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit",hour12:!1}):"--:--";return I.jsxs("div",{className:"inline-block text-right p-4 rounded-lg shadow-sm border border-black/5",style:{backgroundColor:r.zmanimBackgroundColor},children:[e&&I.jsx("div",{className:"text-md text-amber-800/80 text-right mt-1",children:"טוען זמנים..."}),n&&I.jsx("div",{className:"text-md text-red-600/80 text-right mt-1",children:n}),t&&I.jsxs(I.Fragment,{children:[t.parsha&&I.jsx("p",{className:"text-[2em] text-stone-600 leading-tight mt-1",children:t.parsha}),t.holidayEvents.length>0&&I.jsx("p",{className:"text-[1.4em] text-amber-600 font-semibold leading-tight mt-1",children:t.holidayEvents.join(", ")}),I.jsxs("div",{className:"mt-3 flex flex-col",children:[t.shabbatCandles&&I.jsxs("div",{className:"flex items-baseline gap-2",children:[I.jsx("span",{className:"text-[1.3em] text-stone-600",children:"כניסת שבת:"}),I.jsx("span",{className:"text-[1.5em] font-mono font-bold text-stone-800",children:i(t.shabbatCandles)})]}),t.shabbatEnd&&I.jsxs("div",{className:"flex items-baseline gap-2",children:[I.jsx("span",{className:"text-[1.3em] text-stone-600",children:"צאת שבת:"}),I.jsx("span",{className:"text-[1.5em] font-mono font-bold text-stone-800",children:i(t.shabbatEnd)})]})]})]})]})},AK=()=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066 2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),IK=t=>{try{localStorage.setItem("boardEvents",JSON.stringify(t.events)),localStorage.setItem("boardColumns",JSON.stringify(t.columns)),localStorage.setItem("boardSettings",JSON.stringify(t.settings));const e=JSON.parse(localStorage.getItem("backups")||"[]");e.unshift(t),e.length>5&&e.pop(),localStorage.setItem("backups",JSON.stringify(e))}catch(e){console.error("Failed to save backup:",e)}},CK=()=>{try{const t=JSON.parse(localStorage.getItem("backups")||"[]");return t.length>0?t[0]:null}catch(t){return console.error("Failed to load from backup:",t),null}},RK=(t,e,n)=>{const r={timestamp:new Date().toISOString(),events:t,columns:e,settings:n};localStorage.setItem("lastRecoveryPoint",JSON.stringify(r))},DK=(t,e)=>{const{direction:n="nearest",increment:r}=e||{direction:"nearest",increment:1};if(typeof r!="number"||r<=0)throw new Error("roundTime: increment must be a positive number");const i=t.getHours()*3600+t.getMinutes()*60+t.getSeconds(),s=r*60;let a;switch(n){case"up":a=Math.ceil(i/s)*s;break;case"down":a=Math.floor(i/s)*s;break;case"nearest":default:a=Math.round(i/s)*s;break}const o=new Date(t),l=Math.floor(a/3600),c=Math.floor(a%3600/60);return o.setHours(l,c,0,0),o},NK=t=>{const e=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");return`${e}:${n}`},_R=(t,e)=>{const n=new Map(t.map(a=>[a.id,a])),r=new Map,i=(a,o=new Set)=>{if(r.has(a)){const p=r.get(a);if(!p)return null;const[y,w]=p.split(":").map(Number),C=new Date;return C.setHours(y,w,0,0),C}if(o.has(a))return null;o.add(a);const l=n.get(a);if(!l||!l.timeDefinition)return r.set(a,null),null;let c=null;const{mode:h,rounding:f}=l.timeDefinition;if(h==="absolute"){const{absoluteTime:p}=l.timeDefinition;if(p){const[y,w]=p.split(":").map(Number);c=new Date,c.setHours(y,w,0,0)}}else if(h==="relative"){const{relativeEventId:p,offsetMinutes:y}=l.timeDefinition,w=i(p,new Set(o));w&&(c=new Date(w.getTime()+y*6e4))}else if(h==="relativeToZman"){const{zman:p,offsetMinutes:y}=l.timeDefinition,w=e==null?void 0:e[p];w&&(c=new Date(w.getTime()+y*6e4))}c&&f&&(c=DK(c,f));const d=c?NK(c):null;return r.set(a,d),c};for(const a of t)r.has(a.id)||i(a.id);const s=new Map;for(const a of t)s.set(a.id,r.get(a.id)??null);return s},MK=t=>{const{events:e,columns:n,settings:r,saveEvents:i,saveColumns:s,saveSettings:a,onSwitchToAdmin:o,isEditMode:l,zmanimData:c,zmanimLoading:h,zmanimError:f}=t,[d,p]=x.useState(null),[y,w]=x.useState(null),[C,v]=x.useState(null),[_,A]=x.useState(null),[M,V]=x.useState(!0),k=x.useRef(null),{editingColumn:S,startEditing:T,cancelEdit:E,setEditTitle:R,saveEdit:D}=wK(n,s),O=x.useRef(null),[N,st]=x.useState(1),Wt=1536,$=()=>{l||(k.current&&clearTimeout(k.current),V(!0),k.current=window.setTimeout(()=>{V(!1)},2e3))};x.useEffect(()=>{const re=window.setTimeout(()=>{V(!1)},3e3),X=setInterval(()=>{window.location.reload()},4*60*60*1e3),he=setInterval(()=>{if(window.performance&&window.performance.memory){const be=window.performance.memory;be.usedJSHeapSize>be.jsHeapSizeLimit*.9&&(console.warn("High memory usage detected, triggering refresh"),window.location.reload())}},30*60*1e3);return()=>{clearTimeout(re),clearInterval(X),clearInterval(he),k.current&&clearTimeout(k.current)}},[]),x.useEffect(()=>{const re=O.current;if(!re)return;const X=new ResizeObserver(he=>{if(he[0]){const{width:be}=he[0].contentRect;if(be>0){const ht=Math.min(1,be/Wt);st(ht)}}});return X.observe(re),()=>{re&&X.unobserve(re)}},[]);const ae=x.useMemo(()=>_R(e,c),[e,c]);x.useEffect(()=>{(()=>{try{const X=localStorage.getItem("boardEvents"),he=localStorage.getItem("boardColumns"),be=localStorage.getItem("boardSettings");if(!X||!he||!be)throw new Error("Missing required data");const ht=JSON.parse(X),en=JSON.parse(he),Ue=JSON.parse(be);if(!Array.isArray(ht)||!Array.isArray(en))throw new Error("Invalid data structure");i(ht),s(en),a(Ue)}catch(X){console.error("Failed to load data:",X);const he=CK();he&&(i(he.events),s(he.columns),a(he.settings))}})()},[i,s,a]),x.useEffect(()=>{l||(p(null),w(null),v(null),A(null),E())},[l,E]);const ne=()=>{const re=`col-${Date.now()}`,X=n.length>0?Math.max(...n.map(be=>be.order)):-1,he={id:re,title:"כותרת חדשה",order:X+1};s([...n,he]),T(he)},Ae=re=>{const X=e.filter(be=>be.columnId===re).length;let he="האם אתה בטוח שברצונך למחוק את העמודה?";if(X>0&&(he+=`
פעולה זו תמחק גם ${X} אירועים הנמצאים בעמודה זו.`),window.confirm(he)){const be=e.filter(en=>en.columnId!==re);i(be);const ht=n.filter(en=>en.id!==re);s(ht)}},De=re=>{try{RK(e,n,r);const he=e.some(Ue=>Ue.id===re.id)?e.map(Ue=>Ue.id===re.id?re:Ue):[...e,re],be=_R(he,c),ht=(Ue,et)=>{if(!Ue)return 24*60+et;const[Rr,Te]=Ue.split(":").map(Number);return Rr*60+Te},en=[...he].sort((Ue,et)=>{const Rr=be.get(Ue.id)??null,Te=be.get(et.id)??null,tt=ht(Rr,Ue.order??0),Da=ht(Te,et.order??0);return tt!==Da?tt-Da:(Ue.name||"").localeCompare(et.name||"")||Ue.id.localeCompare(et.id)}).map((Ue,et)=>({...Ue,order:et}));i(en),IK({timestamp:new Date().toISOString(),events:en,columns:n,settings:r}),localStorage.removeItem("lastRecoveryPoint"),p(null),w(null)}catch(X){console.error("Failed to save event:",X);const he=localStorage.getItem("lastRecoveryPoint");if(he){const{events:be,columns:ht}=JSON.parse(he);i(be),s(ht)}}},$n=re=>{i(e.filter(X=>X.id!==re)),p(null)},ai=re=>{i(e.map(X=>X.id===re?{...X,isHighlighted:!X.isHighlighted}:X))},rs=(re,X)=>{re.dataTransfer.setData("eventId",X),v(X)},un=re=>{re.preventDefault(),re.dataTransfer.dropEffect="move"},Cr=(re,X)=>{re.preventDefault();const he=re.dataTransfer.getData("eventId");v(null);const be=e.find(Te=>Te.id===he);if(!be||be.id===X.id||be.columnId!==X.columnId)return;const ht=e.filter(Te=>Te.columnId===be.columnId).sort((Te,tt)=>Te.order-tt.order),en=e.filter(Te=>Te.columnId!==be.columnId),Ue=ht.filter(Te=>Te.id!==he),et=Ue.findIndex(Te=>Te.id===X.id);Ue.splice(et,0,be);const Rr=Ue.map((Te,tt)=>({...Te,order:tt}));i([...en,...Rr])},Nu=(re,X)=>{re.dataTransfer.setData("columnId",X),A(X)},Mu=()=>{A(null)},Ou=(re,X)=>{re.preventDefault();const he=re.dataTransfer.getData("columnId");if(!he||he===X.id)return;const be=n.find(et=>et.id===he);if(!be)return;const ht=n.filter(et=>et.id!==he),en=ht.findIndex(et=>et.id===X.id);ht.splice(en,0,be);const Ue=ht.map((et,Rr)=>({...et,order:Rr}));s(Ue)},bf=r.scale*N;return I.jsxs("div",{ref:O,onMouseMove:$,className:"relative h-full flex flex-col overflow-hidden",style:{fontSize:`${bf*16}px`},children:[I.jsxs("header",{className:"flex-shrink-0 flex justify-between items-start p-4 md:p-6 pb-2",children:[I.jsx("div",{className:"flex-1 text-right",children:I.jsx(bK,{zmanimData:c,loading:h,error:f,settings:r})}),I.jsx("div",{className:"flex-1 text-center",children:I.jsx("h1",{className:"font-title text-[5.5em] leading-tight whitespace-nowrap drop-shadow-md",style:{color:r.mainTitleColor,fontSize:`${5.5*(r.mainTitleSize/100)}em`},children:"בית הכנסת - גבעת החי״ש"})}),I.jsx("div",{className:"flex-1 text-left",children:I.jsx(uK,{settings:r})})]}),I.jsx("main",{className:"flex-grow flex items-stretch gap-4 md:gap-6 px-4 md:px-6 pb-4 md:pb-6 overflow-x-auto",children:n.sort((re,X)=>re.order-X.order).map(re=>I.jsx("div",{className:`transition-all duration-300 flex-shrink-0 flex-grow basis-0 rounded-lg px-3 pb-3 pt-1 md:px-4 md:pb-4 md:pt-1 shadow ${_===re.id?"opacity-30":""}`,style:{backgroundColor:r.columnBackgroundColor},onDragOver:X=>{X.preventDefault(),X.dataTransfer.dropEffect="move"},onDrop:X=>Ou(X,re),children:I.jsx(vK,{column:re,events:e.filter(X=>X.columnId===re.id).sort((X,he)=>X.order-he.order),settings:r,isEditMode:l,editingItemId:d,inlineAddEvent:y,calculatedTimes:ae,draggingItemId:C,onEditEvent:p,onCancelEdit:()=>{p(null),w(null)},onSaveEvent:De,onDeleteEvent:$n,onToggleHighlight:ai,onEventDragStart:rs,onEventDragOver:un,onEventDrop:Cr,editingColumn:S,onEditColumnTitleChange:R,onSaveColumnTitle:D,onSetEditingColumn:()=>T(re),onDeleteColumn:Ae,onAddNewEvent:()=>w({columnId:re.id}),onColumnDragStart:Nu,onColumnDragEnd:Mu,draggingColumnId:_})},re.id))}),!l&&I.jsx("button",{onClick:o,className:`absolute bottom-4 left-4 p-3 bg-white/50 rounded-full shadow-md hover:bg-amber-100 transition-opacity duration-300 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 z-20 ${M?"opacity-100":"opacity-0"}`,"aria-label":"Enter Edit Mode",children:I.jsx(AK,{})}),l&&I.jsx(SK,{settings:r,onSave:a,onAddColumn:ne,onClose:o})]})};var OK=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const Xl=F_(OK),yd=[{id:"1",name:"מנחה וקבלת שבת",timeDefinition:{mode:"absolute",absoluteTime:"18:00"},type:"prayer",columnId:"col-erev-shabbat",order:0},{id:"2",name:"ערבית (ליל שבת)",timeDefinition:{mode:"relative",relativeEventId:"1",offsetMinutes:60},type:"prayer",columnId:"col-erev-shabbat",order:1},{id:"3",name:"שחרית (ותיקין)",timeDefinition:{mode:"absolute",absoluteTime:"06:00"},type:"prayer",columnId:"col-shabbat-day",order:0},{id:"4",name:"שחרית",timeDefinition:{mode:"absolute",absoluteTime:"08:30"},type:"prayer",columnId:"col-shabbat-day",note:"קידוש לאחר התפילה",order:1},{id:"5",name:"שיעור דף יומי",timeDefinition:{mode:"absolute",absoluteTime:"10:00"},type:"class",columnId:"col-shabbat-day",order:2},{id:"6",name:"מנחה",timeDefinition:{mode:"absolute",absoluteTime:"13:30"},type:"prayer",columnId:"col-shabbat-day",order:3},{id:"7",name:"לימוד אבות ובנים",timeDefinition:{mode:"absolute",absoluteTime:"17:00"},type:"class",columnId:"col-shabbat-day",order:4},{id:"8",name:'ערבית (מוצ"ש)',timeDefinition:{mode:"absolute",absoluteTime:"20:30"},type:"prayer",columnId:"col-shabbat-day",order:5}],xK=t=>{const[e,n]=x.useState(yd);x.useEffect(()=>{if(!t){n(yd);return}const i=KO(HO(nr,`users/${t}/events`)),s=JO(i,a=>{if(a.empty){const l=Qm(nr);yd.forEach(c=>{const h=ql(nr,`users/${t}/events`,c.id);l.set(h,c)}),l.commit(),n(yd);return}const o=a.docs.map(l=>({id:l.id,...l.data()}));n(l=>{const c=o.sort((h,f)=>h.order-f.order);return Xl(l,c)?l:c})});return()=>s()},[t]);const r=x.useCallback(async i=>{t&&n(s=>{if(Xl(s,i))return s;const a=Qm(nr);return i.forEach(o=>{const l=ql(nr,`users/${t}/events`,o.id);a.set(l,o)}),a.commit(),i})},[t]);return{events:e,saveEvents:r}},vd=[{id:"col-erev-shabbat",title:"ערב שבת",order:0},{id:"col-shabbat-day",title:"יום השבת",order:1}],kK=t=>{const[e,n]=x.useState(vd);x.useEffect(()=>{if(!t){n(vd);return}const i=KO(HO(nr,`users/${t}/columns`)),s=JO(i,async a=>{if(a.empty){const l=Qm(nr);vd.forEach(c=>{const h=ql(nr,`users/${t}/columns`,c.id);l.set(h,c)}),await l.commit(),n(vd);return}const o=a.docs.map(l=>({id:l.id,...l.data()}));n(l=>{const c=o.sort((h,f)=>h.order-f.order);return Xl(l,c)?l:c})});return()=>s()},[t]);const r=x.useCallback(async i=>{t&&n(s=>{if(Xl(s,i))return s;const a=Qm(nr);return i.forEach(o=>{const l=ql(nr,`users/${t}/columns`,o.id);a.set(l,o)}),a.commit(),i})},[t]);return{columns:e,saveColumns:r}},mc={scale:1,mainTitleSize:100,columnTitleSize:100,eventTextScale:100,prayerColor:"#78350f",classColor:"#115e59",freeTextColor:"#44403c",columnTitleColor:"#78350f",mainTitleColor:"#92400e",highlightColor:"#fef3c7",mainBackgroundColor:"#E6DFD4",boardBackgroundColor:"rgba(248, 244, 237, 0.85)",columnBackgroundColor:"rgba(251, 247, 241, 0.75)",clockBackgroundColor:"rgba(244, 238, 228, 0.6)",zmanimBackgroundColor:"rgba(244, 238, 228, 0.6)",shabbatCandleOffset:30,elevation:970,latitude:31.654,longitude:35.132},LK=t=>{const[e,n]=x.useState(mc);x.useEffect(()=>{if(!t)return;(async()=>{const s=ql(nr,`users/${t}/settings`,"board"),a=await B8(s);if(a.exists()){const o=a.data();n(l=>{const c={...mc,...o};return(typeof c.latitude!="number"||typeof c.longitude!="number"||c.latitude===0&&c.longitude===0)&&(c.latitude=mc.latitude,c.longitude=mc.longitude),Xl(l,c)?l:c})}else n(mc)})()},[t]);const r=x.useCallback(async i=>{t&&n(s=>{if(Xl(s,i))return s;const a=ql(nr,`users/${t}/settings`,"board");return z8(a,i,{merge:!0}),i})},[t]);return{settings:e,saveSettings:r}},x0=t=>t.replace(/[\u0591-\u05BD\u05BF-\u05C7]/g,""),VK=t=>{const[e,n]=x.useState(null),[r,i]=x.useState(!0),[s,a]=x.useState(null),{elevation:o,latitude:l,longitude:c,shabbatCandleOffset:h}=t;return x.useEffect(()=>{const f=(d,p)=>{i(!0);try{const y=d>29.45&&d<33.34&&p>34.2&&p<35.9,w=y?"Asia/Jerusalem":Intl.DateTimeFormat().resolvedOptions().timeZone,C=new Oh(d,p,y,w);o&&C.setElevation(o);const v=new Date,A=(6-v.getDay()+7)%7,M=new Date(v);M.setDate(v.getDate()+A),M.setHours(12,0,0,0);const V=new Date(M);V.setDate(M.getDate()-1);const k=new Tn(C,M,!0),S={location:C,il:y,sedrot:!0},E=new Tn(C,V,!0).sunset(),R=E?new Date(E.getTime()-h*60*1e3):null,D=yR.calendar({...S,start:V,end:V}),O=yR.calendar({...S,start:M,end:M}),N=k.tzeit(),st=O.find(De=>De.getFlags()&F.PARSHA_HASHAVUA),Wt=new U(M),ae=[...D,...O].filter(De=>{const $n=De.getDesc();return $n!=="Candle lighting"&&$n!=="Havdalah"&&!(De.getFlags()&F.PARSHA_HASHAVUA)}).map(De=>x0(De.render("he"))),ne=[...new Set(ae)],Ae={hebrewDate:x0(Wt.renderGematriya(!0)),parsha:st?x0(st.render("he")):null,holidayEvents:ne,sunrise:k.sunrise()||null,sunset:k.sunset()||null,shabbatCandles:R,shabbatEnd:N,sofZmanShmaMGA:k.sofZmanShmaMGA()||null,sofZmanShmaGRA:k.sofZmanShma()||null,sofZmanTfillaMGA:k.sofZmanTfillaMGA()||null,sofZmanTfillaGRA:k.sofZmanTfilla()||null,alotHaShachar:k.alotHaShachar()||null,chatzot:k.chatzot()||null,minchaGedola:k.minchaGedola()||null,minchaKetana:k.minchaKetana()||null,plagHaMincha:k.plagHaMincha()||null,tzeit:k.tzeit()||null};if(!Ae.sunrise||!Ae.sunset)throw new Error("Could not calculate sunrise/sunset from Hebcal library");n(Ae),a(null)}catch(y){console.error("Error calculating Zmanim with @hebcal/core:",y),a("לא ניתן היה לחשב את זמני היום")}finally{i(!1)}};if(l&&c){f(l,c);const d=setInterval(()=>f(l,c),10*60*1e3);return()=>clearInterval(d)}},[o,l,c,h]),{zmanimData:e,loading:r,error:s}},PK=()=>{const[t,e]=DU(Xm),[n,r]=x.useState(!1),{events:i,saveEvents:s}=xK(t==null?void 0:t.uid),{columns:a,saveColumns:o}=kK(t==null?void 0:t.uid),{settings:l,saveSettings:c}=LK(t==null?void 0:t.uid),{zmanimData:h,loading:f,error:d}=VK(l);return e?I.jsx("div",{children:"טוען..."}):I.jsx(iB,{children:I.jsxs(Lj,{children:[I.jsx(s_,{path:"/signup",element:t?I.jsx(xj,{to:"/"}):I.jsx(gB,{})}),I.jsx(s_,{path:"/",element:t?I.jsx("div",{className:"h-screen overflow-hidden flex items-stretch p-4 md:p-6",style:{backgroundColor:l.mainBackgroundColor},children:I.jsx("div",{className:"flex-grow flex flex-col min-w-0",children:I.jsx("div",{className:"w-full h-full rounded-2xl shadow-[inset_0_6px_12px_rgba(80,50,20,0.12)] backdrop-blur-lg relative",style:{backgroundColor:l.boardBackgroundColor},children:I.jsx(MK,{events:i,columns:a,settings:l,saveEvents:s,saveColumns:o,saveSettings:c,onSwitchToAdmin:()=>r(p=>!p),isEditMode:n,zmanimData:h,zmanimLoading:f,zmanimError:d})})})}):I.jsx(mB,{})})]})})},nk=document.getElementById("root");if(!nk)throw new Error("Could not find root element to mount to");const UK=IV.createRoot(nk);UK.render(I.jsx(DR.StrictMode,{children:I.jsx(PK,{})}));
